function iC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function du(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var o=!1;try{o=this instanceof n}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Af={exports:{}},xa={},Of={exports:{}},Le={};var _y;function aC(){if(_y)return Le;_y=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,b={};function j(M,A,W){this.props=M,this.context=A,this.refs=b,this.updater=W||w}j.prototype.isReactComponent={},j.prototype.setState=function(M,A){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,A,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=j.prototype;function E(M,A,W){this.props=M,this.context=A,this.refs=b,this.updater=W||w}var _=E.prototype=new C;_.constructor=E,N(_,j.prototype),_.isPureReactComponent=!0;var P=Array.isArray,T=Object.prototype.hasOwnProperty,O={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function B(M,A,W){var D,Y={},ae=null,J=null;if(A!=null)for(D in A.ref!==void 0&&(J=A.ref),A.key!==void 0&&(ae=""+A.key),A)T.call(A,D)&&!I.hasOwnProperty(D)&&(Y[D]=A[D]);var ue=arguments.length-2;if(ue===1)Y.children=W;else if(1<ue){for(var re=Array(ue),ge=0;ge<ue;ge++)re[ge]=arguments[ge+2];Y.children=re}if(M&&M.defaultProps)for(D in ue=M.defaultProps,ue)Y[D]===void 0&&(Y[D]=ue[D]);return{$$typeof:e,type:M,key:ae,ref:J,props:Y,_owner:O.current}}function V(M,A){return{$$typeof:e,type:M.type,key:A,ref:M.ref,props:M.props,_owner:M._owner}}function te(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function ee(M){var A={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return A[W]})}var X=/\/+/g;function $(M,A){return typeof M=="object"&&M!==null&&M.key!=null?ee(""+M.key):A.toString(36)}function z(M,A,W,D,Y){var ae=typeof M;(ae==="undefined"||ae==="boolean")&&(M=null);var J=!1;if(M===null)J=!0;else switch(ae){case"string":case"number":J=!0;break;case"object":switch(M.$$typeof){case e:case t:J=!0}}if(J)return J=M,Y=Y(J),M=D===""?"."+$(J,0):D,P(Y)?(W="",M!=null&&(W=M.replace(X,"$&/")+"/"),z(Y,A,W,"",function(ge){return ge})):Y!=null&&(te(Y)&&(Y=V(Y,W+(!Y.key||J&&J.key===Y.key?"":(""+Y.key).replace(X,"$&/")+"/")+M)),A.push(Y)),1;if(J=0,D=D===""?".":D+":",P(M))for(var ue=0;ue<M.length;ue++){ae=M[ue];var re=D+$(ae,ue);J+=z(ae,A,W,re,Y)}else if(re=y(M),typeof re=="function")for(M=re.call(M),ue=0;!(ae=M.next()).done;)ae=ae.value,re=D+$(ae,ue++),J+=z(ae,A,W,re,Y);else if(ae==="object")throw A=String(M),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return J}function q(M,A,W){if(M==null)return M;var D=[],Y=0;return z(M,D,"","",function(ae){return A.call(W,ae,Y++)}),D}function U(M){if(M._status===-1){var A=M._result;A=A(),A.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=A)}if(M._status===1)return M._result.default;throw M._result}var ne={current:null},K={transition:null},G={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:K,ReactCurrentOwner:O};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:q,forEach:function(M,A,W){q(M,function(){A.apply(this,arguments)},W)},count:function(M){var A=0;return q(M,function(){A++}),A},toArray:function(M){return q(M,function(A){return A})||[]},only:function(M){if(!te(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Le.Component=j,Le.Fragment=r,Le.Profiler=o,Le.PureComponent=E,Le.StrictMode=n,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Le.act=se,Le.cloneElement=function(M,A,W){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var D=N({},M.props),Y=M.key,ae=M.ref,J=M._owner;if(A!=null){if(A.ref!==void 0&&(ae=A.ref,J=O.current),A.key!==void 0&&(Y=""+A.key),M.type&&M.type.defaultProps)var ue=M.type.defaultProps;for(re in A)T.call(A,re)&&!I.hasOwnProperty(re)&&(D[re]=A[re]===void 0&&ue!==void 0?ue[re]:A[re])}var re=arguments.length-2;if(re===1)D.children=W;else if(1<re){ue=Array(re);for(var ge=0;ge<re;ge++)ue[ge]=arguments[ge+2];D.children=ue}return{$$typeof:e,type:M.type,key:Y,ref:ae,props:D,_owner:J}},Le.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Le.createElement=B,Le.createFactory=function(M){var A=B.bind(null,M);return A.type=M,A},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:d,render:M}},Le.isValidElement=te,Le.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:U}},Le.memo=function(M,A){return{$$typeof:h,type:M,compare:A===void 0?null:A}},Le.startTransition=function(M){var A=K.transition;K.transition={};try{M()}finally{K.transition=A}},Le.unstable_act=se,Le.useCallback=function(M,A){return ne.current.useCallback(M,A)},Le.useContext=function(M){return ne.current.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M){return ne.current.useDeferredValue(M)},Le.useEffect=function(M,A){return ne.current.useEffect(M,A)},Le.useId=function(){return ne.current.useId()},Le.useImperativeHandle=function(M,A,W){return ne.current.useImperativeHandle(M,A,W)},Le.useInsertionEffect=function(M,A){return ne.current.useInsertionEffect(M,A)},Le.useLayoutEffect=function(M,A){return ne.current.useLayoutEffect(M,A)},Le.useMemo=function(M,A){return ne.current.useMemo(M,A)},Le.useReducer=function(M,A,W){return ne.current.useReducer(M,A,W)},Le.useRef=function(M){return ne.current.useRef(M)},Le.useState=function(M){return ne.current.useState(M)},Le.useSyncExternalStore=function(M,A,W){return ne.current.useSyncExternalStore(M,A,W)},Le.useTransition=function(){return ne.current.useTransition()},Le.version="18.3.1",Le}var Ey;function fu(){return Ey||(Ey=1,Of.exports=aC()),Of.exports}var Cy;function lC(){if(Cy)return xa;Cy=1;var e=fu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,h){var m,g={},y=null,w=null;h!==void 0&&(y=""+h),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)n.call(f,m)&&!l.hasOwnProperty(m)&&(g[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:t,type:d,key:y,ref:w,props:g,_owner:o.current}}return xa.Fragment=r,xa.jsx=c,xa.jsxs=c,xa}var ky;function cC(){return ky||(ky=1,Af.exports=lC()),Af.exports}var a=cC(),vc={},If={exports:{}},Jt={},Df={exports:{}},Mf={};var Py;function uC(){return Py||(Py=1,(function(e){function t(K,G){var se=K.length;K.push(G);e:for(;0<se;){var M=se-1>>>1,A=K[M];if(0<o(A,G))K[M]=G,K[se]=A,se=M;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var G=K[0],se=K.pop();if(se!==G){K[0]=se;e:for(var M=0,A=K.length,W=A>>>1;M<W;){var D=2*(M+1)-1,Y=K[D],ae=D+1,J=K[ae];if(0>o(Y,se))ae<A&&0>o(J,Y)?(K[M]=J,K[ae]=se,M=ae):(K[M]=Y,K[D]=se,M=D);else if(ae<A&&0>o(J,se))K[M]=J,K[ae]=se,M=ae;else break e}}return G}function o(K,G){var se=K.sortIndex-G.sortIndex;return se!==0?se:K.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],h=[],m=1,g=null,y=3,w=!1,N=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var G=r(h);G!==null;){if(G.callback===null)n(h);else if(G.startTime<=K)n(h),G.sortIndex=G.expirationTime,t(f,G);else break;G=r(h)}}function P(K){if(b=!1,_(K),!N)if(r(f)!==null)N=!0,U(T);else{var G=r(h);G!==null&&ne(P,G.startTime-K)}}function T(K,G){N=!1,b&&(b=!1,C(B),B=-1),w=!0;var se=y;try{for(_(G),g=r(f);g!==null&&(!(g.expirationTime>G)||K&&!ee());){var M=g.callback;if(typeof M=="function"){g.callback=null,y=g.priorityLevel;var A=M(g.expirationTime<=G);G=e.unstable_now(),typeof A=="function"?g.callback=A:g===r(f)&&n(f),_(G)}else n(f);g=r(f)}if(g!==null)var W=!0;else{var D=r(h);D!==null&&ne(P,D.startTime-G),W=!1}return W}finally{g=null,y=se,w=!1}}var O=!1,I=null,B=-1,V=5,te=-1;function ee(){return!(e.unstable_now()-te<V)}function X(){if(I!==null){var K=e.unstable_now();te=K;var G=!0;try{G=I(!0,K)}finally{G?$():(O=!1,I=null)}}else O=!1}var $;if(typeof E=="function")$=function(){E(X)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=X,$=function(){q.postMessage(null)}}else $=function(){j(X,0)};function U(K){I=K,O||(O=!0,$())}function ne(K,G){B=j(function(){K(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){N||w||(N=!0,U(T))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(K){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var se=y;y=G;try{return K()}finally{y=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,G){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=y;y=K;try{return G()}finally{y=se}},e.unstable_scheduleCallback=function(K,G,se){var M=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,K){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=se+A,K={id:m++,callback:G,priorityLevel:K,startTime:se,expirationTime:A,sortIndex:-1},se>M?(K.sortIndex=se,t(h,K),r(f)===null&&K===r(h)&&(b?(C(B),B=-1):b=!0,ne(P,se-M))):(K.sortIndex=A,t(f,K),N||w||(N=!0,U(T))),K},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(K){var G=y;return function(){var se=y;y=G;try{return K.apply(this,arguments)}finally{y=se}}}})(Mf)),Mf}var Ty;function dC(){return Ty||(Ty=1,Df.exports=uC()),Df.exports}var Ry;function fC(){if(Ry)return Jt;Ry=1;var e=fu(),t=dC();function r(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)n.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(s){return f.call(g,s)?!0:f.call(m,s)?!1:h.test(s)?g[s]=!0:(m[s]=!0,!1)}function w(s,i,u,p){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,i,u,p){if(i===null||typeof i>"u"||w(s,i,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(s,i,u,p,x,S,k){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=s,this.type=i,this.sanitizeURL=S,this.removeEmptyString=k}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];j[i]=new b(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(C,E);j[i]=new b(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(C,E);j[i]=new b(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(C,E);j[i]=new b(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function _(s,i,u,p){var x=j.hasOwnProperty(i)?j[i]:null;(x!==null?x.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(N(i,u,x,p)&&(u=null),p||x===null?y(i)&&(u===null?s.removeAttribute(i):s.setAttribute(i,""+u)):x.mustUseProperty?s[x.propertyName]=u===null?x.type===3?!1:"":u:(i=x.attributeName,p=x.attributeNamespace,u===null?s.removeAttribute(i):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,p?s.setAttributeNS(p,i,u):s.setAttribute(i,u))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),O=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ee=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),K=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,M;function A(s){if(M===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+s}var W=!1;function D(s,i){if(!s||W)return"";W=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Z){var p=Z}Reflect.construct(s,[],i)}else{try{i.call()}catch(Z){p=Z}s.call(i.prototype)}else{try{throw Error()}catch(Z){p=Z}s()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),S=p.stack.split(`
`),k=x.length-1,R=S.length-1;1<=k&&0<=R&&x[k]!==S[R];)R--;for(;1<=k&&0<=R;k--,R--)if(x[k]!==S[R]){if(k!==1||R!==1)do if(k--,R--,0>R||x[k]!==S[R]){var L=`
`+x[k].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=k&&0<=R);break}}}finally{W=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?A(s):""}function Y(s){switch(s.tag){case 5:return A(s.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return s=D(s.type,!1),s;case 11:return s=D(s.type.render,!1),s;case 1:return s=D(s.type,!0),s;default:return""}}function ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case O:return"Portal";case V:return"Profiler";case B:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ee:return(s.displayName||"Context")+".Consumer";case te:return(s._context.displayName||"Context")+".Provider";case X:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return i=s.displayName||null,i!==null?i:ae(s.type)||"Memo";case U:i=s._payload,s=s._init;try{return ae(s(i))}catch{}}return null}function J(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(i);case 8:return i===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function re(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ge(s){var i=re(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),p=""+s[i];if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,S=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return x.call(this)},set:function(k){p=""+k,S.call(this,k)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Pe(s){s._valueTracker||(s._valueTracker=ge(s))}function Ue(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),p="";return s&&(p=re(s)?s.checked?"true":"false":s.value),s=p,s!==u?(i.setValue(s),!0):!1}function Xe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Pt(s,i){var u=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function br(s,i){var u=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;u=ue(i.value!=null?i.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Sr(s,i){i=i.checked,i!=null&&_(s,"checked",i,!1)}function jr(s,i){Sr(s,i);var u=ue(i.value),p=i.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?In(s,i.type,u):i.hasOwnProperty("defaultValue")&&In(s,i.type,ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function On(s,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,u||i===s.value||(s.value=i),s.defaultValue=i}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function In(s,i,u){(i!=="number"||Xe(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var qr=Array.isArray;function oe(s,i,u,p){if(s=s.options,i){i={};for(var x=0;x<u.length;x++)i["$"+u[x]]=!0;for(u=0;u<s.length;u++)x=i.hasOwnProperty("$"+s[u].value),s[u].selected!==x&&(s[u].selected=x),x&&p&&(s[u].defaultSelected=!0)}else{for(u=""+ue(u),i=null,x=0;x<s.length;x++){if(s[x].value===u){s[x].selected=!0,p&&(s[x].defaultSelected=!0);return}i!==null||s[x].disabled||(i=s[x])}i!==null&&(i.selected=!0)}}function Oe(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function De(s,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(qr(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}s._wrapperState={initialValue:ue(u)}}function Hr(s,i){var u=ue(i.value),p=ue(i.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),i.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function mn(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Lt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kr(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Lt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vo,il=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,p,x){MSApp.execUnsafeLocalFunction(function(){return s(i,u,p,x)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=vo.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Gr(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},al=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(s){al.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),bs[i]=bs[s]})});function yo(s,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||bs.hasOwnProperty(s)&&bs[s]?(""+i).trim():i+"px"}function gn(s,i){s=s.style;for(var u in i)if(i.hasOwnProperty(u)){var p=u.indexOf("--")===0,x=yo(u,i[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,x):s[u]=x}}var ll=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yr(s,i){if(i){if(ll[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Li(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fi=null;function xo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wo=null,Dn=null,Qr=null;function Nr(s){if(s=sa(s)){if(typeof wo!="function")throw Error(r(280));var i=s.stateNode;i&&(i=Al(i),wo(s.stateNode,s.type,i))}}function cl(s){Dn?Qr?Qr.push(s):Qr=[s]:Dn=s}function Ae(){if(Dn){var s=Dn,i=Qr;if(Qr=Dn=null,Nr(s),i)for(s=0;s<i.length;s++)Nr(i[s])}}function He(s,i){return s(i)}function Je(){}var Ft=!1;function Vt(s,i,u){if(Ft)return s(i,u);Ft=!0;try{return He(s,i,u)}finally{Ft=!1,(Dn!==null||Qr!==null)&&(Je(),Ae())}}function qt(s,i){var u=s.stateNode;if(u===null)return null;var p=Al(u);if(p===null)return null;u=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var _r=!1;if(d)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{_r=!1}function Jr(s,i,u,p,x,S,k,R,L){var Z=Array.prototype.slice.call(arguments,3);try{i.apply(u,Z)}catch(ce){this.onError(ce)}}var $i=!1,ul=null,dl=!1,Qu=null,h_={onError:function(s){$i=!0,ul=s}};function p_(s,i,u,p,x,S,k,R,L){$i=!1,ul=null,Jr.apply(h_,arguments)}function m_(s,i,u,p,x,S,k,R,L){if(p_.apply(this,arguments),$i){if($i){var Z=ul;$i=!1,ul=null}else throw Error(r(198));dl||(dl=!0,Qu=Z)}}function Ss(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function Gm(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Ym(s){if(Ss(s)!==s)throw Error(r(188))}function g_(s){var i=s.alternate;if(!i){if(i=Ss(s),i===null)throw Error(r(188));return i!==s?null:s}for(var u=s,p=i;;){var x=u.return;if(x===null)break;var S=x.alternate;if(S===null){if(p=x.return,p!==null){u=p;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===u)return Ym(x),s;if(S===p)return Ym(x),i;S=S.sibling}throw Error(r(188))}if(u.return!==p.return)u=x,p=S;else{for(var k=!1,R=x.child;R;){if(R===u){k=!0,u=x,p=S;break}if(R===p){k=!0,p=x,u=S;break}R=R.sibling}if(!k){for(R=S.child;R;){if(R===u){k=!0,u=S,p=x;break}if(R===p){k=!0,p=S,u=x;break}R=R.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:i}function Qm(s){return s=g_(s),s!==null?Jm(s):null}function Jm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Jm(s);if(i!==null)return i;s=s.sibling}return null}var Xm=t.unstable_scheduleCallback,Zm=t.unstable_cancelCallback,v_=t.unstable_shouldYield,y_=t.unstable_requestPaint,ht=t.unstable_now,x_=t.unstable_getCurrentPriorityLevel,Ju=t.unstable_ImmediatePriority,eg=t.unstable_UserBlockingPriority,fl=t.unstable_NormalPriority,w_=t.unstable_LowPriority,tg=t.unstable_IdlePriority,hl=null,Xr=null;function b_(s){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(hl,s,void 0,(s.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:N_,S_=Math.log,j_=Math.LN2;function N_(s){return s>>>=0,s===0?32:31-(S_(s)/j_|0)|0}var pl=64,ml=4194304;function Bi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function gl(s,i){var u=s.pendingLanes;if(u===0)return 0;var p=0,x=s.suspendedLanes,S=s.pingedLanes,k=u&268435455;if(k!==0){var R=k&~x;R!==0?p=Bi(R):(S&=k,S!==0&&(p=Bi(S)))}else k=u&~x,k!==0?p=Bi(k):S!==0&&(p=Bi(S));if(p===0)return 0;if(i!==0&&i!==p&&(i&x)===0&&(x=p&-p,S=i&-i,x>=S||x===16&&(S&4194240)!==0))return i;if((p&4)!==0&&(p|=u&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=p;0<i;)u=31-Er(i),x=1<<u,p|=s[u],i&=~x;return p}function __(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(s,i){for(var u=s.suspendedLanes,p=s.pingedLanes,x=s.expirationTimes,S=s.pendingLanes;0<S;){var k=31-Er(S),R=1<<k,L=x[k];L===-1?((R&u)===0||(R&p)!==0)&&(x[k]=__(R,i)):L<=i&&(s.expiredLanes|=R),S&=~R}}function Xu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function rg(){var s=pl;return pl<<=1,(pl&4194240)===0&&(pl=64),s}function Zu(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function Ui(s,i,u){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Er(i),s[i]=u}function C_(s,i){var u=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var x=31-Er(u),S=1<<x;i[x]=0,p[x]=-1,s[x]=-1,u&=~S}}function ed(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var p=31-Er(u),x=1<<p;x&i|s[p]&i&&(s[p]|=i),u&=~x}}var Ge=0;function ng(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var sg,td,og,ig,ag,rd=!1,vl=[],Mn=null,Ln=null,Fn=null,zi=new Map,Wi=new Map,$n=[],k_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lg(s,i){switch(s){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":zi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(i.pointerId)}}function Vi(s,i,u,p,x,S){return s===null||s.nativeEvent!==S?(s={blockedOn:i,domEventName:u,eventSystemFlags:p,nativeEvent:S,targetContainers:[x]},i!==null&&(i=sa(i),i!==null&&td(i)),s):(s.eventSystemFlags|=p,i=s.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),s)}function P_(s,i,u,p,x){switch(i){case"focusin":return Mn=Vi(Mn,s,i,u,p,x),!0;case"dragenter":return Ln=Vi(Ln,s,i,u,p,x),!0;case"mouseover":return Fn=Vi(Fn,s,i,u,p,x),!0;case"pointerover":var S=x.pointerId;return zi.set(S,Vi(zi.get(S)||null,s,i,u,p,x)),!0;case"gotpointercapture":return S=x.pointerId,Wi.set(S,Vi(Wi.get(S)||null,s,i,u,p,x)),!0}return!1}function cg(s){var i=js(s.target);if(i!==null){var u=Ss(i);if(u!==null){if(i=u.tag,i===13){if(i=Gm(u),i!==null){s.blockedOn=i,ag(s.priority,function(){og(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yl(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=sd(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Fi=p,u.target.dispatchEvent(p),Fi=null}else return i=sa(u),i!==null&&td(i),s.blockedOn=u,!1;i.shift()}return!0}function ug(s,i,u){yl(s)&&u.delete(i)}function T_(){rd=!1,Mn!==null&&yl(Mn)&&(Mn=null),Ln!==null&&yl(Ln)&&(Ln=null),Fn!==null&&yl(Fn)&&(Fn=null),zi.forEach(ug),Wi.forEach(ug)}function qi(s,i){s.blockedOn===i&&(s.blockedOn=null,rd||(rd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,T_)))}function Hi(s){function i(x){return qi(x,s)}if(0<vl.length){qi(vl[0],s);for(var u=1;u<vl.length;u++){var p=vl[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Mn!==null&&qi(Mn,s),Ln!==null&&qi(Ln,s),Fn!==null&&qi(Fn,s),zi.forEach(i),Wi.forEach(i),u=0;u<$n.length;u++)p=$n[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<$n.length&&(u=$n[0],u.blockedOn===null);)cg(u),u.blockedOn===null&&$n.shift()}var bo=P.ReactCurrentBatchConfig,xl=!0;function R_(s,i,u,p){var x=Ge,S=bo.transition;bo.transition=null;try{Ge=1,nd(s,i,u,p)}finally{Ge=x,bo.transition=S}}function A_(s,i,u,p){var x=Ge,S=bo.transition;bo.transition=null;try{Ge=4,nd(s,i,u,p)}finally{Ge=x,bo.transition=S}}function nd(s,i,u,p){if(xl){var x=sd(s,i,u,p);if(x===null)bd(s,i,p,wl,u),lg(s,p);else if(P_(x,s,i,u,p))p.stopPropagation();else if(lg(s,p),i&4&&-1<k_.indexOf(s)){for(;x!==null;){var S=sa(x);if(S!==null&&sg(S),S=sd(s,i,u,p),S===null&&bd(s,i,p,wl,u),S===x)break;x=S}x!==null&&p.stopPropagation()}else bd(s,i,p,null,u)}}var wl=null;function sd(s,i,u,p){if(wl=null,s=xo(p),s=js(s),s!==null)if(i=Ss(s),i===null)s=null;else if(u=i.tag,u===13){if(s=Gm(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return wl=s,null}function dg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Ju:return 1;case eg:return 4;case fl:case w_:return 16;case tg:return 536870912;default:return 16}default:return 16}}var Bn=null,od=null,bl=null;function fg(){if(bl)return bl;var s,i=od,u=i.length,p,x="value"in Bn?Bn.value:Bn.textContent,S=x.length;for(s=0;s<u&&i[s]===x[s];s++);var k=u-s;for(p=1;p<=k&&i[u-p]===x[S-p];p++);return bl=x.slice(s,1<p?1-p:void 0)}function Sl(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function jl(){return!0}function hg(){return!1}function nr(s){function i(u,p,x,S,k){this._reactName=u,this._targetInst=x,this.type=p,this.nativeEvent=S,this.target=k,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(S):S[R]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?jl:hg,this.isPropagationStopped=hg,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),i}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=nr(So),Ki=se({},So,{view:0,detail:0}),O_=nr(Ki),ad,ld,Gi,Nl=se({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gi&&(Gi&&s.type==="mousemove"?(ad=s.screenX-Gi.screenX,ld=s.screenY-Gi.screenY):ld=ad=0,Gi=s),ad)},movementY:function(s){return"movementY"in s?s.movementY:ld}}),pg=nr(Nl),I_=se({},Nl,{dataTransfer:0}),D_=nr(I_),M_=se({},Ki,{relatedTarget:0}),cd=nr(M_),L_=se({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),F_=nr(L_),$_=se({},So,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),B_=nr($_),U_=se({},So,{data:0}),mg=nr(U_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q_(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=V_[s])?!!i[s]:!1}function ud(){return q_}var H_=se({},Ki,{key:function(s){if(s.key){var i=z_[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Sl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(s){return s.type==="keypress"?Sl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),K_=nr(H_),G_=se({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=nr(G_),Y_=se({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),Q_=nr(Y_),J_=se({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),X_=nr(J_),Z_=se({},Nl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),eE=nr(Z_),tE=[9,13,27,32],dd=d&&"CompositionEvent"in window,Yi=null;d&&"documentMode"in document&&(Yi=document.documentMode);var rE=d&&"TextEvent"in window&&!Yi,vg=d&&(!dd||Yi&&8<Yi&&11>=Yi),yg=" ",xg=!1;function wg(s,i){switch(s){case"keyup":return tE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var jo=!1;function nE(s,i){switch(s){case"compositionend":return bg(i);case"keypress":return i.which!==32?null:(xg=!0,yg);case"textInput":return s=i.data,s===yg&&xg?null:s;default:return null}}function sE(s,i){if(jo)return s==="compositionend"||!dd&&wg(s,i)?(s=fg(),bl=od=Bn=null,jo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vg&&i.locale!=="ko"?null:i.data;default:return null}}var oE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!oE[s.type]:i==="textarea"}function jg(s,i,u,p){cl(p),i=Pl(i,"onChange"),0<i.length&&(u=new id("onChange","change",null,u,p),s.push({event:u,listeners:i}))}var Qi=null,Ji=null;function iE(s){Ug(s,0)}function _l(s){var i=ko(s);if(Ue(i))return s}function aE(s,i){if(s==="change")return i}var Ng=!1;if(d){var fd;if(d){var hd="oninput"in document;if(!hd){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),hd=typeof _g.oninput=="function"}fd=hd}else fd=!1;Ng=fd&&(!document.documentMode||9<document.documentMode)}function Eg(){Qi&&(Qi.detachEvent("onpropertychange",Cg),Ji=Qi=null)}function Cg(s){if(s.propertyName==="value"&&_l(Ji)){var i=[];jg(i,Ji,s,xo(s)),Vt(iE,i)}}function lE(s,i,u){s==="focusin"?(Eg(),Qi=i,Ji=u,Qi.attachEvent("onpropertychange",Cg)):s==="focusout"&&Eg()}function cE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _l(Ji)}function uE(s,i){if(s==="click")return _l(i)}function dE(s,i){if(s==="input"||s==="change")return _l(i)}function fE(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Cr=typeof Object.is=="function"?Object.is:fE;function Xi(s,i){if(Cr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),p=Object.keys(i);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var x=u[p];if(!f.call(i,x)||!Cr(s[x],i[x]))return!1}return!0}function kg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pg(s,i){var u=kg(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=i&&p>=i)return{node:u,offset:i-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=kg(u)}}function Tg(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Tg(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Rg(){for(var s=window,i=Xe();i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)s=i.contentWindow;else break;i=Xe(s.document)}return i}function pd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function hE(s){var i=Rg(),u=s.focusedElem,p=s.selectionRange;if(i!==u&&u&&u.ownerDocument&&Tg(u.ownerDocument.documentElement,u)){if(p!==null&&pd(u)){if(i=p.start,s=p.end,s===void 0&&(s=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(s,u.value.length);else if(s=(i=u.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var x=u.textContent.length,S=Math.min(p.start,x);p=p.end===void 0?S:Math.min(p.end,x),!s.extend&&S>p&&(x=p,p=S,S=x),x=Pg(u,S);var k=Pg(u,p);x&&k&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),s.removeAllRanges(),S>p?(s.addRange(i),s.extend(k.node,k.offset)):(i.setEnd(k.node,k.offset),s.addRange(i)))}}for(i=[],s=u;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)s=i[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var pE=d&&"documentMode"in document&&11>=document.documentMode,No=null,md=null,Zi=null,gd=!1;function Ag(s,i,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gd||No==null||No!==Xe(p)||(p=No,"selectionStart"in p&&pd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zi&&Xi(Zi,p)||(Zi=p,p=Pl(md,"onSelect"),0<p.length&&(i=new id("onSelect","select",null,i,u),s.push({event:i,listeners:p}),i.target=No)))}function El(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var _o={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},vd={},Og={};d&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Cl(s){if(vd[s])return vd[s];if(!_o[s])return s;var i=_o[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in Og)return vd[s]=i[u];return s}var Ig=Cl("animationend"),Dg=Cl("animationiteration"),Mg=Cl("animationstart"),Lg=Cl("transitionend"),Fg=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(s,i){Fg.set(s,i),l(i,[s])}for(var yd=0;yd<$g.length;yd++){var xd=$g[yd],mE=xd.toLowerCase(),gE=xd[0].toUpperCase()+xd.slice(1);Un(mE,"on"+gE)}Un(Ig,"onAnimationEnd"),Un(Dg,"onAnimationIteration"),Un(Mg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Lg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Bg(s,i,u){var p=s.type||"unknown-event";s.currentTarget=u,m_(p,i,void 0,s),s.currentTarget=null}function Ug(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],x=p.event;p=p.listeners;e:{var S=void 0;if(i)for(var k=p.length-1;0<=k;k--){var R=p[k],L=R.instance,Z=R.currentTarget;if(R=R.listener,L!==S&&x.isPropagationStopped())break e;Bg(x,R,Z),S=L}else for(k=0;k<p.length;k++){if(R=p[k],L=R.instance,Z=R.currentTarget,R=R.listener,L!==S&&x.isPropagationStopped())break e;Bg(x,R,Z),S=L}}}if(dl)throw s=Qu,dl=!1,Qu=null,s}function rt(s,i){var u=i[Cd];u===void 0&&(u=i[Cd]=new Set);var p=s+"__bubble";u.has(p)||(zg(i,s,2,!1),u.add(p))}function wd(s,i,u){var p=0;i&&(p|=4),zg(u,s,p,i)}var kl="_reactListening"+Math.random().toString(36).slice(2);function ta(s){if(!s[kl]){s[kl]=!0,n.forEach(function(u){u!=="selectionchange"&&(vE.has(u)||wd(u,!1,s),wd(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[kl]||(i[kl]=!0,wd("selectionchange",!1,i))}}function zg(s,i,u,p){switch(dg(i)){case 1:var x=R_;break;case 4:x=A_;break;default:x=nd}u=x.bind(null,i,u,s),x=void 0,!_r||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),p?x!==void 0?s.addEventListener(i,u,{capture:!0,passive:x}):s.addEventListener(i,u,!0):x!==void 0?s.addEventListener(i,u,{passive:x}):s.addEventListener(i,u,!1)}function bd(s,i,u,p,x){var S=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var R=p.stateNode.containerInfo;if(R===x||R.nodeType===8&&R.parentNode===x)break;if(k===4)for(k=p.return;k!==null;){var L=k.tag;if((L===3||L===4)&&(L=k.stateNode.containerInfo,L===x||L.nodeType===8&&L.parentNode===x))return;k=k.return}for(;R!==null;){if(k=js(R),k===null)return;if(L=k.tag,L===5||L===6){p=S=k;continue e}R=R.parentNode}}p=p.return}Vt(function(){var Z=S,ce=xo(u),fe=[];e:{var le=Fg.get(s);if(le!==void 0){var ve=id,we=s;switch(s){case"keypress":if(Sl(u)===0)break e;case"keydown":case"keyup":ve=K_;break;case"focusin":we="focus",ve=cd;break;case"focusout":we="blur",ve=cd;break;case"beforeblur":case"afterblur":ve=cd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=D_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Q_;break;case Ig:case Dg:case Mg:ve=F_;break;case Lg:ve=X_;break;case"scroll":ve=O_;break;case"wheel":ve=eE;break;case"copy":case"cut":case"paste":ve=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=gg}var Se=(i&4)!==0,pt=!Se&&s==="scroll",H=Se?le!==null?le+"Capture":null:le;Se=[];for(var F=Z,Q;F!==null;){Q=F;var me=Q.stateNode;if(Q.tag===5&&me!==null&&(Q=me,H!==null&&(me=qt(F,H),me!=null&&Se.push(ra(F,me,Q)))),pt)break;F=F.return}0<Se.length&&(le=new ve(le,we,null,u,ce),fe.push({event:le,listeners:Se}))}}if((i&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",le&&u!==Fi&&(we=u.relatedTarget||u.fromElement)&&(js(we)||we[vn]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(we=u.relatedTarget||u.toElement,ve=Z,we=we?js(we):null,we!==null&&(pt=Ss(we),we!==pt||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=Z),ve!==we)){if(Se=pg,me="onMouseLeave",H="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Se=gg,me="onPointerLeave",H="onPointerEnter",F="pointer"),pt=ve==null?le:ko(ve),Q=we==null?le:ko(we),le=new Se(me,F+"leave",ve,u,ce),le.target=pt,le.relatedTarget=Q,me=null,js(ce)===Z&&(Se=new Se(H,F+"enter",we,u,ce),Se.target=Q,Se.relatedTarget=pt,me=Se),pt=me,ve&&we)t:{for(Se=ve,H=we,F=0,Q=Se;Q;Q=Eo(Q))F++;for(Q=0,me=H;me;me=Eo(me))Q++;for(;0<F-Q;)Se=Eo(Se),F--;for(;0<Q-F;)H=Eo(H),Q--;for(;F--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=Eo(Se),H=Eo(H)}Se=null}else Se=null;ve!==null&&Wg(fe,le,ve,Se,!1),we!==null&&pt!==null&&Wg(fe,pt,we,Se,!0)}}e:{if(le=Z?ko(Z):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var Ne=aE;else if(Sg(le))if(Ng)Ne=dE;else{Ne=cE;var Ee=lE}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ne=uE);if(Ne&&(Ne=Ne(s,Z))){jg(fe,Ne,u,ce);break e}Ee&&Ee(s,le,Z),s==="focusout"&&(Ee=le._wrapperState)&&Ee.controlled&&le.type==="number"&&In(le,"number",le.value)}switch(Ee=Z?ko(Z):window,s){case"focusin":(Sg(Ee)||Ee.contentEditable==="true")&&(No=Ee,md=Z,Zi=null);break;case"focusout":Zi=md=No=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Ag(fe,u,ce);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":Ag(fe,u,ce)}var Ce;if(dd)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else jo?wg(s,u)&&(Te="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Te="onCompositionStart");Te&&(vg&&u.locale!=="ko"&&(jo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&jo&&(Ce=fg()):(Bn=ce,od="value"in Bn?Bn.value:Bn.textContent,jo=!0)),Ee=Pl(Z,Te),0<Ee.length&&(Te=new mg(Te,s,null,u,ce),fe.push({event:Te,listeners:Ee}),Ce?Te.data=Ce:(Ce=bg(u),Ce!==null&&(Te.data=Ce)))),(Ce=rE?nE(s,u):sE(s,u))&&(Z=Pl(Z,"onBeforeInput"),0<Z.length&&(ce=new mg("onBeforeInput","beforeinput",null,u,ce),fe.push({event:ce,listeners:Z}),ce.data=Ce))}Ug(fe,i)})}function ra(s,i,u){return{instance:s,listener:i,currentTarget:u}}function Pl(s,i){for(var u=i+"Capture",p=[];s!==null;){var x=s,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=qt(s,u),S!=null&&p.unshift(ra(s,S,x)),S=qt(s,i),S!=null&&p.push(ra(s,S,x))),s=s.return}return p}function Eo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Wg(s,i,u,p,x){for(var S=i._reactName,k=[];u!==null&&u!==p;){var R=u,L=R.alternate,Z=R.stateNode;if(L!==null&&L===p)break;R.tag===5&&Z!==null&&(R=Z,x?(L=qt(u,S),L!=null&&k.unshift(ra(u,L,R))):x||(L=qt(u,S),L!=null&&k.push(ra(u,L,R)))),u=u.return}k.length!==0&&s.push({event:i,listeners:k})}var yE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function Vg(s){return(typeof s=="string"?s:""+s).replace(yE,`
`).replace(xE,"")}function Tl(s,i,u){if(i=Vg(i),Vg(s)!==i&&u)throw Error(r(425))}function Rl(){}var Sd=null,jd=null;function Nd(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(s){return qg.resolve(null).then(s).catch(SE)}:_d;function SE(s){setTimeout(function(){throw s})}function Ed(s,i){var u=i,p=0;do{var x=u.nextSibling;if(s.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(p===0){s.removeChild(x),Hi(i);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=x}while(u);Hi(i)}function zn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Hg(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return s;i--}else u==="/$"&&i++}s=s.previousSibling}return null}var Co=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Co,na="__reactProps$"+Co,vn="__reactContainer$"+Co,Cd="__reactEvents$"+Co,jE="__reactListeners$"+Co,NE="__reactHandles$"+Co;function js(s){var i=s[Zr];if(i)return i;for(var u=s.parentNode;u;){if(i=u[vn]||u[Zr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=Hg(s);s!==null;){if(u=s[Zr])return u;s=Hg(s)}return i}s=u,u=s.parentNode}return null}function sa(s){return s=s[Zr]||s[vn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ko(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Al(s){return s[na]||null}var kd=[],Po=-1;function Wn(s){return{current:s}}function nt(s){0>Po||(s.current=kd[Po],kd[Po]=null,Po--)}function Ze(s,i){Po++,kd[Po]=s.current,s.current=i}var Vn={},Tt=Wn(Vn),Ht=Wn(!1),Ns=Vn;function To(s,i){var u=s.type.contextTypes;if(!u)return Vn;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in u)x[S]=i[S];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=x),x}function Kt(s){return s=s.childContextTypes,s!=null}function Ol(){nt(Ht),nt(Tt)}function Kg(s,i,u){if(Tt.current!==Vn)throw Error(r(168));Ze(Tt,i),Ze(Ht,u)}function Gg(s,i,u){var p=s.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var x in p)if(!(x in i))throw Error(r(108,J(s)||"Unknown",x));return se({},u,p)}function Il(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vn,Ns=Tt.current,Ze(Tt,s),Ze(Ht,Ht.current),!0}function Yg(s,i,u){var p=s.stateNode;if(!p)throw Error(r(169));u?(s=Gg(s,i,Ns),p.__reactInternalMemoizedMergedChildContext=s,nt(Ht),nt(Tt),Ze(Tt,s)):nt(Ht),Ze(Ht,u)}var yn=null,Dl=!1,Pd=!1;function Qg(s){yn===null?yn=[s]:yn.push(s)}function _E(s){Dl=!0,Qg(s)}function qn(){if(!Pd&&yn!==null){Pd=!0;var s=0,i=Ge;try{var u=yn;for(Ge=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}yn=null,Dl=!1}catch(x){throw yn!==null&&(yn=yn.slice(s+1)),Xm(Ju,qn),x}finally{Ge=i,Pd=!1}}return null}var Ro=[],Ao=0,Ml=null,Ll=0,hr=[],pr=0,_s=null,xn=1,wn="";function Es(s,i){Ro[Ao++]=Ll,Ro[Ao++]=Ml,Ml=s,Ll=i}function Jg(s,i,u){hr[pr++]=xn,hr[pr++]=wn,hr[pr++]=_s,_s=s;var p=xn;s=wn;var x=32-Er(p)-1;p&=~(1<<x),u+=1;var S=32-Er(i)+x;if(30<S){var k=x-x%5;S=(p&(1<<k)-1).toString(32),p>>=k,x-=k,xn=1<<32-Er(i)+x|u<<x|p,wn=S+s}else xn=1<<S|u<<x|p,wn=s}function Td(s){s.return!==null&&(Es(s,1),Jg(s,1,0))}function Rd(s){for(;s===Ml;)Ml=Ro[--Ao],Ro[Ao]=null,Ll=Ro[--Ao],Ro[Ao]=null;for(;s===_s;)_s=hr[--pr],hr[pr]=null,wn=hr[--pr],hr[pr]=null,xn=hr[--pr],hr[pr]=null}var sr=null,or=null,ot=!1,kr=null;function Xg(s,i){var u=yr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=s,i=s.deletions,i===null?(s.deletions=[u],s.flags|=16):i.push(u)}function Zg(s,i){switch(s.tag){case 5:var u=s.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,sr=s,or=zn(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,sr=s,or=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=_s!==null?{id:xn,overflow:wn}:null,s.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=yr(18,null,null,0),u.stateNode=i,u.return=s,s.child=u,sr=s,or=null,!0):!1;default:return!1}}function Ad(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Od(s){if(ot){var i=or;if(i){var u=i;if(!Zg(s,i)){if(Ad(s))throw Error(r(418));i=zn(u.nextSibling);var p=sr;i&&Zg(s,i)?Xg(p,u):(s.flags=s.flags&-4097|2,ot=!1,sr=s)}}else{if(Ad(s))throw Error(r(418));s.flags=s.flags&-4097|2,ot=!1,sr=s}}}function ev(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;sr=s}function Fl(s){if(s!==sr)return!1;if(!ot)return ev(s),ot=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Nd(s.type,s.memoizedProps)),i&&(i=or)){if(Ad(s))throw tv(),Error(r(418));for(;i;)Xg(s,i),i=zn(i.nextSibling)}if(ev(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(i===0){or=zn(s.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}s=s.nextSibling}or=null}}else or=sr?zn(s.stateNode.nextSibling):null;return!0}function tv(){for(var s=or;s;)s=zn(s.nextSibling)}function Oo(){or=sr=null,ot=!1}function Id(s){kr===null?kr=[s]:kr.push(s)}var EE=P.ReactCurrentBatchConfig;function oa(s,i,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var p=u.stateNode}if(!p)throw Error(r(147,s));var x=p,S=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(k){var R=x.refs;k===null?delete R[S]:R[S]=k},i._stringRef=S,i)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function $l(s,i){throw s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function rv(s){var i=s._init;return i(s._payload)}function nv(s){function i(H,F){if(s){var Q=H.deletions;Q===null?(H.deletions=[F],H.flags|=16):Q.push(F)}}function u(H,F){if(!s)return null;for(;F!==null;)i(H,F),F=F.sibling;return null}function p(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function x(H,F){return H=Zn(H,F),H.index=0,H.sibling=null,H}function S(H,F,Q){return H.index=Q,s?(Q=H.alternate,Q!==null?(Q=Q.index,Q<F?(H.flags|=2,F):Q):(H.flags|=2,F)):(H.flags|=1048576,F)}function k(H){return s&&H.alternate===null&&(H.flags|=2),H}function R(H,F,Q,me){return F===null||F.tag!==6?(F=Ef(Q,H.mode,me),F.return=H,F):(F=x(F,Q),F.return=H,F)}function L(H,F,Q,me){var Ne=Q.type;return Ne===I?ce(H,F,Q.props.children,me,Q.key):F!==null&&(F.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===U&&rv(Ne)===F.type)?(me=x(F,Q.props),me.ref=oa(H,F,Q),me.return=H,me):(me=cc(Q.type,Q.key,Q.props,null,H.mode,me),me.ref=oa(H,F,Q),me.return=H,me)}function Z(H,F,Q,me){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=Cf(Q,H.mode,me),F.return=H,F):(F=x(F,Q.children||[]),F.return=H,F)}function ce(H,F,Q,me,Ne){return F===null||F.tag!==7?(F=Is(Q,H.mode,me,Ne),F.return=H,F):(F=x(F,Q),F.return=H,F)}function fe(H,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Ef(""+F,H.mode,Q),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return Q=cc(F.type,F.key,F.props,null,H.mode,Q),Q.ref=oa(H,null,F),Q.return=H,Q;case O:return F=Cf(F,H.mode,Q),F.return=H,F;case U:var me=F._init;return fe(H,me(F._payload),Q)}if(qr(F)||G(F))return F=Is(F,H.mode,Q,null),F.return=H,F;$l(H,F)}return null}function le(H,F,Q,me){var Ne=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ne!==null?null:R(H,F,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===Ne?L(H,F,Q,me):null;case O:return Q.key===Ne?Z(H,F,Q,me):null;case U:return Ne=Q._init,le(H,F,Ne(Q._payload),me)}if(qr(Q)||G(Q))return Ne!==null?null:ce(H,F,Q,me,null);$l(H,Q)}return null}function ve(H,F,Q,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number")return H=H.get(Q)||null,R(F,H,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case T:return H=H.get(me.key===null?Q:me.key)||null,L(F,H,me,Ne);case O:return H=H.get(me.key===null?Q:me.key)||null,Z(F,H,me,Ne);case U:var Ee=me._init;return ve(H,F,Q,Ee(me._payload),Ne)}if(qr(me)||G(me))return H=H.get(Q)||null,ce(F,H,me,Ne,null);$l(F,me)}return null}function we(H,F,Q,me){for(var Ne=null,Ee=null,Ce=F,Te=F=0,_t=null;Ce!==null&&Te<Q.length;Te++){Ce.index>Te?(_t=Ce,Ce=null):_t=Ce.sibling;var qe=le(H,Ce,Q[Te],me);if(qe===null){Ce===null&&(Ce=_t);break}s&&Ce&&qe.alternate===null&&i(H,Ce),F=S(qe,F,Te),Ee===null?Ne=qe:Ee.sibling=qe,Ee=qe,Ce=_t}if(Te===Q.length)return u(H,Ce),ot&&Es(H,Te),Ne;if(Ce===null){for(;Te<Q.length;Te++)Ce=fe(H,Q[Te],me),Ce!==null&&(F=S(Ce,F,Te),Ee===null?Ne=Ce:Ee.sibling=Ce,Ee=Ce);return ot&&Es(H,Te),Ne}for(Ce=p(H,Ce);Te<Q.length;Te++)_t=ve(Ce,H,Te,Q[Te],me),_t!==null&&(s&&_t.alternate!==null&&Ce.delete(_t.key===null?Te:_t.key),F=S(_t,F,Te),Ee===null?Ne=_t:Ee.sibling=_t,Ee=_t);return s&&Ce.forEach(function(es){return i(H,es)}),ot&&Es(H,Te),Ne}function Se(H,F,Q,me){var Ne=G(Q);if(typeof Ne!="function")throw Error(r(150));if(Q=Ne.call(Q),Q==null)throw Error(r(151));for(var Ee=Ne=null,Ce=F,Te=F=0,_t=null,qe=Q.next();Ce!==null&&!qe.done;Te++,qe=Q.next()){Ce.index>Te?(_t=Ce,Ce=null):_t=Ce.sibling;var es=le(H,Ce,qe.value,me);if(es===null){Ce===null&&(Ce=_t);break}s&&Ce&&es.alternate===null&&i(H,Ce),F=S(es,F,Te),Ee===null?Ne=es:Ee.sibling=es,Ee=es,Ce=_t}if(qe.done)return u(H,Ce),ot&&Es(H,Te),Ne;if(Ce===null){for(;!qe.done;Te++,qe=Q.next())qe=fe(H,qe.value,me),qe!==null&&(F=S(qe,F,Te),Ee===null?Ne=qe:Ee.sibling=qe,Ee=qe);return ot&&Es(H,Te),Ne}for(Ce=p(H,Ce);!qe.done;Te++,qe=Q.next())qe=ve(Ce,H,Te,qe.value,me),qe!==null&&(s&&qe.alternate!==null&&Ce.delete(qe.key===null?Te:qe.key),F=S(qe,F,Te),Ee===null?Ne=qe:Ee.sibling=qe,Ee=qe);return s&&Ce.forEach(function(oC){return i(H,oC)}),ot&&Es(H,Te),Ne}function pt(H,F,Q,me){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var Ne=Q.key,Ee=F;Ee!==null;){if(Ee.key===Ne){if(Ne=Q.type,Ne===I){if(Ee.tag===7){u(H,Ee.sibling),F=x(Ee,Q.props.children),F.return=H,H=F;break e}}else if(Ee.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===U&&rv(Ne)===Ee.type){u(H,Ee.sibling),F=x(Ee,Q.props),F.ref=oa(H,Ee,Q),F.return=H,H=F;break e}u(H,Ee);break}else i(H,Ee);Ee=Ee.sibling}Q.type===I?(F=Is(Q.props.children,H.mode,me,Q.key),F.return=H,H=F):(me=cc(Q.type,Q.key,Q.props,null,H.mode,me),me.ref=oa(H,F,Q),me.return=H,H=me)}return k(H);case O:e:{for(Ee=Q.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){u(H,F.sibling),F=x(F,Q.children||[]),F.return=H,H=F;break e}else{u(H,F);break}else i(H,F);F=F.sibling}F=Cf(Q,H.mode,me),F.return=H,H=F}return k(H);case U:return Ee=Q._init,pt(H,F,Ee(Q._payload),me)}if(qr(Q))return we(H,F,Q,me);if(G(Q))return Se(H,F,Q,me);$l(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,F!==null&&F.tag===6?(u(H,F.sibling),F=x(F,Q),F.return=H,H=F):(u(H,F),F=Ef(Q,H.mode,me),F.return=H,H=F),k(H)):u(H,F)}return pt}var Io=nv(!0),sv=nv(!1),Bl=Wn(null),Ul=null,Do=null,Dd=null;function Md(){Dd=Do=Ul=null}function Ld(s){var i=Bl.current;nt(Bl),s._currentValue=i}function Fd(s,i,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),s===u)break;s=s.return}}function Mo(s,i){Ul=s,Dd=Do=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Gt=!0),s.firstContext=null)}function mr(s){var i=s._currentValue;if(Dd!==s)if(s={context:s,memoizedValue:i,next:null},Do===null){if(Ul===null)throw Error(r(308));Do=s,Ul.dependencies={lanes:0,firstContext:s}}else Do=Do.next=s;return i}var Cs=null;function $d(s){Cs===null?Cs=[s]:Cs.push(s)}function ov(s,i,u,p){var x=i.interleaved;return x===null?(u.next=u,$d(i)):(u.next=x.next,x.next=u),i.interleaved=u,bn(s,p)}function bn(s,i){s.lanes|=i;var u=s.alternate;for(u!==null&&(u.lanes|=i),u=s,s=s.return;s!==null;)s.childLanes|=i,u=s.alternate,u!==null&&(u.childLanes|=i),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Hn=!1;function Bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Sn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Kn(s,i,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ve&2)!==0){var x=p.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),p.pending=i,bn(s,u)}return x=p.interleaved,x===null?(i.next=i,$d(p)):(i.next=x.next,x.next=i),p.interleaved=i,bn(s,u)}function zl(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var p=i.lanes;p&=s.pendingLanes,u|=p,i.lanes=u,ed(s,u)}}function av(s,i){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var x=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?x=S=k:S=S.next=k,u=u.next}while(u!==null);S===null?x=S=i:S=S.next=i}else x=S=i;u={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}function Wl(s,i,u,p){var x=s.updateQueue;Hn=!1;var S=x.firstBaseUpdate,k=x.lastBaseUpdate,R=x.shared.pending;if(R!==null){x.shared.pending=null;var L=R,Z=L.next;L.next=null,k===null?S=Z:k.next=Z,k=L;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==k&&(R===null?ce.firstBaseUpdate=Z:R.next=Z,ce.lastBaseUpdate=L))}if(S!==null){var fe=x.baseState;k=0,ce=Z=L=null,R=S;do{var le=R.lane,ve=R.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var we=s,Se=R;switch(le=i,ve=u,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){fe=we.call(ve,fe,le);break e}fe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,le=typeof we=="function"?we.call(ve,fe,le):we,le==null)break e;fe=se({},fe,le);break e;case 2:Hn=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,le=x.effects,le===null?x.effects=[R]:le.push(R))}else ve={eventTime:ve,lane:le,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(Z=ce=ve,L=fe):ce=ce.next=ve,k|=le;if(R=R.next,R===null){if(R=x.shared.pending,R===null)break;le=R,R=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(ce===null&&(L=fe),x.baseState=L,x.firstBaseUpdate=Z,x.lastBaseUpdate=ce,i=x.shared.interleaved,i!==null){x=i;do k|=x.lane,x=x.next;while(x!==i)}else S===null&&(x.shared.lanes=0);Ts|=k,s.lanes=k,s.memoizedState=fe}}function lv(s,i,u){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var p=s[i],x=p.callback;if(x!==null){if(p.callback=null,p=u,typeof x!="function")throw Error(r(191,x));x.call(p)}}}var ia={},en=Wn(ia),aa=Wn(ia),la=Wn(ia);function ks(s){if(s===ia)throw Error(r(174));return s}function Ud(s,i){switch(Ze(la,i),Ze(aa,s),Ze(en,ia),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Kr(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Kr(i,s)}nt(en),Ze(en,i)}function Lo(){nt(en),nt(aa),nt(la)}function cv(s){ks(la.current);var i=ks(en.current),u=Kr(i,s.type);i!==u&&(Ze(aa,s),Ze(en,u))}function zd(s){aa.current===s&&(nt(en),nt(aa))}var it=Wn(0);function Vl(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wd=[];function Vd(){for(var s=0;s<Wd.length;s++)Wd[s]._workInProgressVersionPrimary=null;Wd.length=0}var ql=P.ReactCurrentDispatcher,qd=P.ReactCurrentBatchConfig,Ps=0,at=null,wt=null,jt=null,Hl=!1,ca=!1,ua=0,CE=0;function Rt(){throw Error(r(321))}function Hd(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!Cr(s[u],i[u]))return!1;return!0}function Kd(s,i,u,p,x,S){if(Ps=S,at=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ql.current=s===null||s.memoizedState===null?RE:AE,s=u(p,x),ca){S=0;do{if(ca=!1,ua=0,25<=S)throw Error(r(301));S+=1,jt=wt=null,i.updateQueue=null,ql.current=OE,s=u(p,x)}while(ca)}if(ql.current=Yl,i=wt!==null&&wt.next!==null,Ps=0,jt=wt=at=null,Hl=!1,i)throw Error(r(300));return s}function Gd(){var s=ua!==0;return ua=0,s}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?at.memoizedState=jt=s:jt=jt.next=s,jt}function gr(){if(wt===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=wt.next;var i=jt===null?at.memoizedState:jt.next;if(i!==null)jt=i,wt=s;else{if(s===null)throw Error(r(310));wt=s,s={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},jt===null?at.memoizedState=jt=s:jt=jt.next=s}return jt}function da(s,i){return typeof i=="function"?i(s):i}function Yd(s){var i=gr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var p=wt,x=p.baseQueue,S=u.pending;if(S!==null){if(x!==null){var k=x.next;x.next=S.next,S.next=k}p.baseQueue=x=S,u.pending=null}if(x!==null){S=x.next,p=p.baseState;var R=k=null,L=null,Z=S;do{var ce=Z.lane;if((Ps&ce)===ce)L!==null&&(L=L.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:s(p,Z.action);else{var fe={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};L===null?(R=L=fe,k=p):L=L.next=fe,at.lanes|=ce,Ts|=ce}Z=Z.next}while(Z!==null&&Z!==S);L===null?k=p:L.next=R,Cr(p,i.memoizedState)||(Gt=!0),i.memoizedState=p,i.baseState=k,i.baseQueue=L,u.lastRenderedState=p}if(s=u.interleaved,s!==null){x=s;do S=x.lane,at.lanes|=S,Ts|=S,x=x.next;while(x!==s)}else x===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Qd(s){var i=gr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var p=u.dispatch,x=u.pending,S=i.memoizedState;if(x!==null){u.pending=null;var k=x=x.next;do S=s(S,k.action),k=k.next;while(k!==x);Cr(S,i.memoizedState)||(Gt=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),u.lastRenderedState=S}return[S,p]}function uv(){}function dv(s,i){var u=at,p=gr(),x=i(),S=!Cr(p.memoizedState,x);if(S&&(p.memoizedState=x,Gt=!0),p=p.queue,Jd(pv.bind(null,u,p,s),[s]),p.getSnapshot!==i||S||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,fa(9,hv.bind(null,u,p,x,i),void 0,null),Nt===null)throw Error(r(349));(Ps&30)!==0||fv(u,i,x)}return x}function fv(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=at.updateQueue,i===null?(i={lastEffect:null,stores:null},at.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function hv(s,i,u,p){i.value=u,i.getSnapshot=p,mv(i)&&gv(s)}function pv(s,i,u){return u(function(){mv(i)&&gv(s)})}function mv(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!Cr(s,u)}catch{return!0}}function gv(s){var i=bn(s,1);i!==null&&Ar(i,s,1,-1)}function vv(s){var i=tn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:s},i.queue=s,s=s.dispatch=TE.bind(null,at,s),[i.memoizedState,s]}function fa(s,i,u,p){return s={tag:s,create:i,destroy:u,deps:p,next:null},i=at.updateQueue,i===null?(i={lastEffect:null,stores:null},at.updateQueue=i,i.lastEffect=s.next=s):(u=i.lastEffect,u===null?i.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,i.lastEffect=s)),s}function yv(){return gr().memoizedState}function Kl(s,i,u,p){var x=tn();at.flags|=s,x.memoizedState=fa(1|i,u,void 0,p===void 0?null:p)}function Gl(s,i,u,p){var x=gr();p=p===void 0?null:p;var S=void 0;if(wt!==null){var k=wt.memoizedState;if(S=k.destroy,p!==null&&Hd(p,k.deps)){x.memoizedState=fa(i,u,S,p);return}}at.flags|=s,x.memoizedState=fa(1|i,u,S,p)}function xv(s,i){return Kl(8390656,8,s,i)}function Jd(s,i){return Gl(2048,8,s,i)}function wv(s,i){return Gl(4,2,s,i)}function bv(s,i){return Gl(4,4,s,i)}function Sv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function jv(s,i,u){return u=u!=null?u.concat([s]):null,Gl(4,4,Sv.bind(null,i,s),u)}function Xd(){}function Nv(s,i){var u=gr();i=i===void 0?null:i;var p=u.memoizedState;return p!==null&&i!==null&&Hd(i,p[1])?p[0]:(u.memoizedState=[s,i],s)}function _v(s,i){var u=gr();i=i===void 0?null:i;var p=u.memoizedState;return p!==null&&i!==null&&Hd(i,p[1])?p[0]:(s=s(),u.memoizedState=[s,i],s)}function Ev(s,i,u){return(Ps&21)===0?(s.baseState&&(s.baseState=!1,Gt=!0),s.memoizedState=u):(Cr(u,i)||(u=rg(),at.lanes|=u,Ts|=u,s.baseState=!0),i)}function kE(s,i){var u=Ge;Ge=u!==0&&4>u?u:4,s(!0);var p=qd.transition;qd.transition={};try{s(!1),i()}finally{Ge=u,qd.transition=p}}function Cv(){return gr().memoizedState}function PE(s,i,u){var p=Jn(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},kv(s))Pv(i,u);else if(u=ov(s,i,u,p),u!==null){var x=Bt();Ar(u,s,p,x),Tv(u,i,p)}}function TE(s,i,u){var p=Jn(s),x={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(kv(s))Pv(i,x);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var k=i.lastRenderedState,R=S(k,u);if(x.hasEagerState=!0,x.eagerState=R,Cr(R,k)){var L=i.interleaved;L===null?(x.next=x,$d(i)):(x.next=L.next,L.next=x),i.interleaved=x;return}}catch{}finally{}u=ov(s,i,x,p),u!==null&&(x=Bt(),Ar(u,s,p,x),Tv(u,i,p))}}function kv(s){var i=s.alternate;return s===at||i!==null&&i===at}function Pv(s,i){ca=Hl=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function Tv(s,i,u){if((u&4194240)!==0){var p=i.lanes;p&=s.pendingLanes,u|=p,i.lanes=u,ed(s,u)}}var Yl={readContext:mr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},RE={readContext:mr,useCallback:function(s,i){return tn().memoizedState=[s,i===void 0?null:i],s},useContext:mr,useEffect:xv,useImperativeHandle:function(s,i,u){return u=u!=null?u.concat([s]):null,Kl(4194308,4,Sv.bind(null,i,s),u)},useLayoutEffect:function(s,i){return Kl(4194308,4,s,i)},useInsertionEffect:function(s,i){return Kl(4,2,s,i)},useMemo:function(s,i){var u=tn();return i=i===void 0?null:i,s=s(),u.memoizedState=[s,i],s},useReducer:function(s,i,u){var p=tn();return i=u!==void 0?u(i):i,p.memoizedState=p.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},p.queue=s,s=s.dispatch=PE.bind(null,at,s),[p.memoizedState,s]},useRef:function(s){var i=tn();return s={current:s},i.memoizedState=s},useState:vv,useDebugValue:Xd,useDeferredValue:function(s){return tn().memoizedState=s},useTransition:function(){var s=vv(!1),i=s[0];return s=kE.bind(null,s[1]),tn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,u){var p=at,x=tn();if(ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),Nt===null)throw Error(r(349));(Ps&30)!==0||fv(p,i,u)}x.memoizedState=u;var S={value:u,getSnapshot:i};return x.queue=S,xv(pv.bind(null,p,S,s),[s]),p.flags|=2048,fa(9,hv.bind(null,p,S,u,i),void 0,null),u},useId:function(){var s=tn(),i=Nt.identifierPrefix;if(ot){var u=wn,p=xn;u=(p&~(1<<32-Er(p)-1)).toString(32)+u,i=":"+i+"R"+u,u=ua++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=CE++,i=":"+i+"r"+u.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},AE={readContext:mr,useCallback:Nv,useContext:mr,useEffect:Jd,useImperativeHandle:jv,useInsertionEffect:wv,useLayoutEffect:bv,useMemo:_v,useReducer:Yd,useRef:yv,useState:function(){return Yd(da)},useDebugValue:Xd,useDeferredValue:function(s){var i=gr();return Ev(i,wt.memoizedState,s)},useTransition:function(){var s=Yd(da)[0],i=gr().memoizedState;return[s,i]},useMutableSource:uv,useSyncExternalStore:dv,useId:Cv,unstable_isNewReconciler:!1},OE={readContext:mr,useCallback:Nv,useContext:mr,useEffect:Jd,useImperativeHandle:jv,useInsertionEffect:wv,useLayoutEffect:bv,useMemo:_v,useReducer:Qd,useRef:yv,useState:function(){return Qd(da)},useDebugValue:Xd,useDeferredValue:function(s){var i=gr();return wt===null?i.memoizedState=s:Ev(i,wt.memoizedState,s)},useTransition:function(){var s=Qd(da)[0],i=gr().memoizedState;return[s,i]},useMutableSource:uv,useSyncExternalStore:dv,useId:Cv,unstable_isNewReconciler:!1};function Pr(s,i){if(s&&s.defaultProps){i=se({},i),s=s.defaultProps;for(var u in s)i[u]===void 0&&(i[u]=s[u]);return i}return i}function Zd(s,i,u,p){i=s.memoizedState,u=u(p,i),u=u==null?i:se({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Ql={isMounted:function(s){return(s=s._reactInternals)?Ss(s)===s:!1},enqueueSetState:function(s,i,u){s=s._reactInternals;var p=Bt(),x=Jn(s),S=Sn(p,x);S.payload=i,u!=null&&(S.callback=u),i=Kn(s,S,x),i!==null&&(Ar(i,s,x,p),zl(i,s,x))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var p=Bt(),x=Jn(s),S=Sn(p,x);S.tag=1,S.payload=i,u!=null&&(S.callback=u),i=Kn(s,S,x),i!==null&&(Ar(i,s,x,p),zl(i,s,x))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=Bt(),p=Jn(s),x=Sn(u,p);x.tag=2,i!=null&&(x.callback=i),i=Kn(s,x,p),i!==null&&(Ar(i,s,p,u),zl(i,s,p))}};function Rv(s,i,u,p,x,S,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,S,k):i.prototype&&i.prototype.isPureReactComponent?!Xi(u,p)||!Xi(x,S):!0}function Av(s,i,u){var p=!1,x=Vn,S=i.contextType;return typeof S=="object"&&S!==null?S=mr(S):(x=Kt(i)?Ns:Tt.current,p=i.contextTypes,S=(p=p!=null)?To(s,x):Vn),i=new i(u,S),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ql,s.stateNode=i,i._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=S),i}function Ov(s,i,u,p){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,p),i.state!==s&&Ql.enqueueReplaceState(i,i.state,null)}function ef(s,i,u,p){var x=s.stateNode;x.props=u,x.state=s.memoizedState,x.refs={},Bd(s);var S=i.contextType;typeof S=="object"&&S!==null?x.context=mr(S):(S=Kt(i)?Ns:Tt.current,x.context=To(s,S)),x.state=s.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(Zd(s,i,S,u),x.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&Ql.enqueueReplaceState(x,x.state,null),Wl(s,u,x,p),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Fo(s,i){try{var u="",p=i;do u+=Y(p),p=p.return;while(p);var x=u}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:i,stack:x,digest:null}}function tf(s,i,u){return{value:s,source:null,stack:u??null,digest:i??null}}function rf(s,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var IE=typeof WeakMap=="function"?WeakMap:Map;function Iv(s,i,u){u=Sn(-1,u),u.tag=3,u.payload={element:null};var p=i.value;return u.callback=function(){nc||(nc=!0,yf=p),rf(s,i)},u}function Dv(s,i,u){u=Sn(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var x=i.value;u.payload=function(){return p(x)},u.callback=function(){rf(s,i)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){rf(s,i),typeof p!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var k=i.stack;this.componentDidCatch(i.value,{componentStack:k!==null?k:""})}),u}function Mv(s,i,u){var p=s.pingCache;if(p===null){p=s.pingCache=new IE;var x=new Set;p.set(i,x)}else x=p.get(i),x===void 0&&(x=new Set,p.set(i,x));x.has(u)||(x.add(u),s=GE.bind(null,s,i,u),i.then(s,s))}function Lv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Fv(s,i,u,p,x){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Sn(-1,1),i.tag=2,Kn(u,i,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var DE=P.ReactCurrentOwner,Gt=!1;function $t(s,i,u,p){i.child=s===null?sv(i,null,u,p):Io(i,s.child,u,p)}function $v(s,i,u,p,x){u=u.render;var S=i.ref;return Mo(i,x),p=Kd(s,i,u,p,S,x),u=Gd(),s!==null&&!Gt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~x,jn(s,i,x)):(ot&&u&&Td(i),i.flags|=1,$t(s,i,p,x),i.child)}function Bv(s,i,u,p,x){if(s===null){var S=u.type;return typeof S=="function"&&!_f(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=S,Uv(s,i,S,p,x)):(s=cc(u.type,null,p,i,i.mode,x),s.ref=i.ref,s.return=i,i.child=s)}if(S=s.child,(s.lanes&x)===0){var k=S.memoizedProps;if(u=u.compare,u=u!==null?u:Xi,u(k,p)&&s.ref===i.ref)return jn(s,i,x)}return i.flags|=1,s=Zn(S,p),s.ref=i.ref,s.return=i,i.child=s}function Uv(s,i,u,p,x){if(s!==null){var S=s.memoizedProps;if(Xi(S,p)&&s.ref===i.ref)if(Gt=!1,i.pendingProps=p=S,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Gt=!0);else return i.lanes=s.lanes,jn(s,i,x)}return nf(s,i,u,p,x)}function zv(s,i,u){var p=i.pendingProps,x=p.children,S=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Bo,ir),ir|=u;else{if((u&1073741824)===0)return s=S!==null?S.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ze(Bo,ir),ir|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:u,Ze(Bo,ir),ir|=p}else S!==null?(p=S.baseLanes|u,i.memoizedState=null):p=u,Ze(Bo,ir),ir|=p;return $t(s,i,x,u),i.child}function Wv(s,i){var u=i.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function nf(s,i,u,p,x){var S=Kt(u)?Ns:Tt.current;return S=To(i,S),Mo(i,x),u=Kd(s,i,u,p,S,x),p=Gd(),s!==null&&!Gt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~x,jn(s,i,x)):(ot&&p&&Td(i),i.flags|=1,$t(s,i,u,x),i.child)}function Vv(s,i,u,p,x){if(Kt(u)){var S=!0;Il(i)}else S=!1;if(Mo(i,x),i.stateNode===null)Xl(s,i),Av(i,u,p),ef(i,u,p,x),p=!0;else if(s===null){var k=i.stateNode,R=i.memoizedProps;k.props=R;var L=k.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=mr(Z):(Z=Kt(u)?Ns:Tt.current,Z=To(i,Z));var ce=u.getDerivedStateFromProps,fe=typeof ce=="function"||typeof k.getSnapshotBeforeUpdate=="function";fe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==p||L!==Z)&&Ov(i,k,p,Z),Hn=!1;var le=i.memoizedState;k.state=le,Wl(i,p,k,x),L=i.memoizedState,R!==p||le!==L||Ht.current||Hn?(typeof ce=="function"&&(Zd(i,u,ce,p),L=i.memoizedState),(R=Hn||Rv(i,u,R,p,le,L,Z))?(fe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(i.flags|=4194308)):(typeof k.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=L),k.props=p,k.state=L,k.context=Z,p=R):(typeof k.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{k=i.stateNode,iv(s,i),R=i.memoizedProps,Z=i.type===i.elementType?R:Pr(i.type,R),k.props=Z,fe=i.pendingProps,le=k.context,L=u.contextType,typeof L=="object"&&L!==null?L=mr(L):(L=Kt(u)?Ns:Tt.current,L=To(i,L));var ve=u.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==fe||le!==L)&&Ov(i,k,p,L),Hn=!1,le=i.memoizedState,k.state=le,Wl(i,p,k,x);var we=i.memoizedState;R!==fe||le!==we||Ht.current||Hn?(typeof ve=="function"&&(Zd(i,u,ve,p),we=i.memoizedState),(Z=Hn||Rv(i,u,Z,p,le,we,L)||!1)?(ce||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,we,L),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,we,L)),typeof k.componentDidUpdate=="function"&&(i.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=we),k.props=p,k.state=we,k.context=L,p=Z):(typeof k.componentDidUpdate!="function"||R===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),p=!1)}return sf(s,i,u,p,S,x)}function sf(s,i,u,p,x,S){Wv(s,i);var k=(i.flags&128)!==0;if(!p&&!k)return x&&Yg(i,u,!1),jn(s,i,S);p=i.stateNode,DE.current=i;var R=k&&typeof u.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,s!==null&&k?(i.child=Io(i,s.child,null,S),i.child=Io(i,null,R,S)):$t(s,i,R,S),i.memoizedState=p.state,x&&Yg(i,u,!0),i.child}function qv(s){var i=s.stateNode;i.pendingContext?Kg(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Kg(s,i.context,!1),Ud(s,i.containerInfo)}function Hv(s,i,u,p,x){return Oo(),Id(x),i.flags|=256,$t(s,i,u,p),i.child}var of={dehydrated:null,treeContext:null,retryLane:0};function af(s){return{baseLanes:s,cachePool:null,transitions:null}}function Kv(s,i,u){var p=i.pendingProps,x=it.current,S=!1,k=(i.flags&128)!==0,R;if((R=k)||(R=s!==null&&s.memoizedState===null?!1:(x&2)!==0),R?(S=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),Ze(it,x&1),s===null)return Od(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(k=p.children,s=p.fallback,S?(p=i.mode,S=i.child,k={mode:"hidden",children:k},(p&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=k):S=uc(k,p,0,null),s=Is(s,p,u,null),S.return=i,s.return=i,S.sibling=s,i.child=S,i.child.memoizedState=af(u),i.memoizedState=of,s):lf(i,k));if(x=s.memoizedState,x!==null&&(R=x.dehydrated,R!==null))return ME(s,i,k,p,R,x,u);if(S){S=p.fallback,k=i.mode,x=s.child,R=x.sibling;var L={mode:"hidden",children:p.children};return(k&1)===0&&i.child!==x?(p=i.child,p.childLanes=0,p.pendingProps=L,i.deletions=null):(p=Zn(x,L),p.subtreeFlags=x.subtreeFlags&14680064),R!==null?S=Zn(R,S):(S=Is(S,k,u,null),S.flags|=2),S.return=i,p.return=i,p.sibling=S,i.child=p,p=S,S=i.child,k=s.child.memoizedState,k=k===null?af(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},S.memoizedState=k,S.childLanes=s.childLanes&~u,i.memoizedState=of,p}return S=s.child,s=S.sibling,p=Zn(S,{mode:"visible",children:p.children}),(i.mode&1)===0&&(p.lanes=u),p.return=i,p.sibling=null,s!==null&&(u=i.deletions,u===null?(i.deletions=[s],i.flags|=16):u.push(s)),i.child=p,i.memoizedState=null,p}function lf(s,i){return i=uc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Jl(s,i,u,p){return p!==null&&Id(p),Io(i,s.child,null,u),s=lf(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function ME(s,i,u,p,x,S,k){if(u)return i.flags&256?(i.flags&=-257,p=tf(Error(r(422))),Jl(s,i,k,p)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(S=p.fallback,x=i.mode,p=uc({mode:"visible",children:p.children},x,0,null),S=Is(S,x,k,null),S.flags|=2,p.return=i,S.return=i,p.sibling=S,i.child=p,(i.mode&1)!==0&&Io(i,s.child,null,k),i.child.memoizedState=af(k),i.memoizedState=of,S);if((i.mode&1)===0)return Jl(s,i,k,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var R=p.dgst;return p=R,S=Error(r(419)),p=tf(S,p,void 0),Jl(s,i,k,p)}if(R=(k&s.childLanes)!==0,Gt||R){if(p=Nt,p!==null){switch(k&-k){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|k))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,bn(s,x),Ar(p,s,x,-1))}return Nf(),p=tf(Error(r(421))),Jl(s,i,k,p)}return x.data==="$?"?(i.flags|=128,i.child=s.child,i=YE.bind(null,s),x._reactRetry=i,null):(s=S.treeContext,or=zn(x.nextSibling),sr=i,ot=!0,kr=null,s!==null&&(hr[pr++]=xn,hr[pr++]=wn,hr[pr++]=_s,xn=s.id,wn=s.overflow,_s=i),i=lf(i,p.children),i.flags|=4096,i)}function Gv(s,i,u){s.lanes|=i;var p=s.alternate;p!==null&&(p.lanes|=i),Fd(s.return,i,u)}function cf(s,i,u,p,x){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:x}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=u,S.tailMode=x)}function Yv(s,i,u){var p=i.pendingProps,x=p.revealOrder,S=p.tail;if($t(s,i,p.children,u),p=it.current,(p&2)!==0)p=p&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gv(s,u,i);else if(s.tag===19)Gv(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Ze(it,p),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(u=i.child,x=null;u!==null;)s=u.alternate,s!==null&&Vl(s)===null&&(x=u),u=u.sibling;u=x,u===null?(x=i.child,i.child=null):(x=u.sibling,u.sibling=null),cf(i,!1,x,u,S);break;case"backwards":for(u=null,x=i.child,i.child=null;x!==null;){if(s=x.alternate,s!==null&&Vl(s)===null){i.child=x;break}s=x.sibling,x.sibling=u,u=x,x=s}cf(i,!0,u,null,S);break;case"together":cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xl(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function jn(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),Ts|=i.lanes,(u&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,u=Zn(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=Zn(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function LE(s,i,u){switch(i.tag){case 3:qv(i),Oo();break;case 5:cv(i);break;case 1:Kt(i.type)&&Il(i);break;case 4:Ud(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,x=i.memoizedProps.value;Ze(Bl,p._currentValue),p._currentValue=x;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(Ze(it,it.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?Kv(s,i,u):(Ze(it,it.current&1),s=jn(s,i,u),s!==null?s.sibling:null);Ze(it,it.current&1);break;case 19:if(p=(u&i.childLanes)!==0,(s.flags&128)!==0){if(p)return Yv(s,i,u);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ze(it,it.current),p)break;return null;case 22:case 23:return i.lanes=0,zv(s,i,u)}return jn(s,i,u)}var Qv,uf,Jv,Xv;Qv=function(s,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},uf=function(){},Jv=function(s,i,u,p){var x=s.memoizedProps;if(x!==p){s=i.stateNode,ks(en.current);var S=null;switch(u){case"input":x=Pt(s,x),p=Pt(s,p),S=[];break;case"select":x=se({},x,{value:void 0}),p=se({},p,{value:void 0}),S=[];break;case"textarea":x=Oe(s,x),p=Oe(s,p),S=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Rl)}Yr(u,p);var k;u=null;for(Z in x)if(!p.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var R=x[Z];for(k in R)R.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?S||(S=[]):(S=S||[]).push(Z,null));for(Z in p){var L=p[Z];if(R=x?.[Z],p.hasOwnProperty(Z)&&L!==R&&(L!=null||R!=null))if(Z==="style")if(R){for(k in R)!R.hasOwnProperty(k)||L&&L.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in L)L.hasOwnProperty(k)&&R[k]!==L[k]&&(u||(u={}),u[k]=L[k])}else u||(S||(S=[]),S.push(Z,u)),u=L;else Z==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(S=S||[]).push(Z,L)):Z==="children"?typeof L!="string"&&typeof L!="number"||(S=S||[]).push(Z,""+L):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(L!=null&&Z==="onScroll"&&rt("scroll",s),S||R===L||(S=[])):(S=S||[]).push(Z,L))}u&&(S=S||[]).push("style",u);var Z=S;(i.updateQueue=Z)&&(i.flags|=4)}},Xv=function(s,i,u,p){u!==p&&(i.flags|=4)};function ha(s,i){if(!ot)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function At(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(i)for(var x=s.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=p,s.childLanes=u,i}function FE(s,i,u){var p=i.pendingProps;switch(Rd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(i),null;case 1:return Kt(i.type)&&Ol(),At(i),null;case 3:return p=i.stateNode,Lo(),nt(Ht),nt(Tt),Vd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Fl(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kr!==null&&(bf(kr),kr=null))),uf(s,i),At(i),null;case 5:zd(i);var x=ks(la.current);if(u=i.type,s!==null&&i.stateNode!=null)Jv(s,i,u,p,x),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(r(166));return At(i),null}if(s=ks(en.current),Fl(i)){p=i.stateNode,u=i.type;var S=i.memoizedProps;switch(p[Zr]=i,p[na]=S,s=(i.mode&1)!==0,u){case"dialog":rt("cancel",p),rt("close",p);break;case"iframe":case"object":case"embed":rt("load",p);break;case"video":case"audio":for(x=0;x<ea.length;x++)rt(ea[x],p);break;case"source":rt("error",p);break;case"img":case"image":case"link":rt("error",p),rt("load",p);break;case"details":rt("toggle",p);break;case"input":br(p,S),rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},rt("invalid",p);break;case"textarea":De(p,S),rt("invalid",p)}Yr(u,S),x=null;for(var k in S)if(S.hasOwnProperty(k)){var R=S[k];k==="children"?typeof R=="string"?p.textContent!==R&&(S.suppressHydrationWarning!==!0&&Tl(p.textContent,R,s),x=["children",R]):typeof R=="number"&&p.textContent!==""+R&&(S.suppressHydrationWarning!==!0&&Tl(p.textContent,R,s),x=["children",""+R]):o.hasOwnProperty(k)&&R!=null&&k==="onScroll"&&rt("scroll",p)}switch(u){case"input":Pe(p),On(p,S,!0);break;case"textarea":Pe(p),mn(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=Rl)}p=x,i.updateQueue=p,p!==null&&(i.flags|=4)}else{k=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Lt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=k.createElement(u,{is:p.is}):(s=k.createElement(u),u==="select"&&(k=s,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):s=k.createElementNS(s,u),s[Zr]=i,s[na]=p,Qv(s,i,!1,!1),i.stateNode=s;e:{switch(k=Li(u,p),u){case"dialog":rt("cancel",s),rt("close",s),x=p;break;case"iframe":case"object":case"embed":rt("load",s),x=p;break;case"video":case"audio":for(x=0;x<ea.length;x++)rt(ea[x],s);x=p;break;case"source":rt("error",s),x=p;break;case"img":case"image":case"link":rt("error",s),rt("load",s),x=p;break;case"details":rt("toggle",s),x=p;break;case"input":br(s,p),x=Pt(s,p),rt("invalid",s);break;case"option":x=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},x=se({},p,{value:void 0}),rt("invalid",s);break;case"textarea":De(s,p),x=Oe(s,p),rt("invalid",s);break;default:x=p}Yr(u,x),R=x;for(S in R)if(R.hasOwnProperty(S)){var L=R[S];S==="style"?gn(s,L):S==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&il(s,L)):S==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&Gr(s,L):typeof L=="number"&&Gr(s,""+L):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?L!=null&&S==="onScroll"&&rt("scroll",s):L!=null&&_(s,S,L,k))}switch(u){case"input":Pe(s),On(s,p,!1);break;case"textarea":Pe(s),mn(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ue(p.value));break;case"select":s.multiple=!!p.multiple,S=p.value,S!=null?oe(s,!!p.multiple,S,!1):p.defaultValue!=null&&oe(s,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=Rl)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return At(i),null;case 6:if(s&&i.stateNode!=null)Xv(s,i,s.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(r(166));if(u=ks(la.current),ks(en.current),Fl(i)){if(p=i.stateNode,u=i.memoizedProps,p[Zr]=i,(S=p.nodeValue!==u)&&(s=sr,s!==null))switch(s.tag){case 3:Tl(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Tl(p.nodeValue,u,(s.mode&1)!==0)}S&&(i.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Zr]=i,i.stateNode=p}return At(i),null;case 13:if(nt(it),p=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&or!==null&&(i.mode&1)!==0&&(i.flags&128)===0)tv(),Oo(),i.flags|=98560,S=!1;else if(S=Fl(i),p!==null&&p.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Zr]=i}else Oo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),S=!1}else kr!==null&&(bf(kr),kr=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(it.current&1)!==0?bt===0&&(bt=3):Nf())),i.updateQueue!==null&&(i.flags|=4),At(i),null);case 4:return Lo(),uf(s,i),s===null&&ta(i.stateNode.containerInfo),At(i),null;case 10:return Ld(i.type._context),At(i),null;case 17:return Kt(i.type)&&Ol(),At(i),null;case 19:if(nt(it),S=i.memoizedState,S===null)return At(i),null;if(p=(i.flags&128)!==0,k=S.rendering,k===null)if(p)ha(S,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(k=Vl(s),k!==null){for(i.flags|=128,ha(S,!1),p=k.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=u,u=i.child;u!==null;)S=u,s=p,S.flags&=14680066,k=S.alternate,k===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=k.childLanes,S.lanes=k.lanes,S.child=k.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=k.memoizedProps,S.memoizedState=k.memoizedState,S.updateQueue=k.updateQueue,S.type=k.type,s=k.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Ze(it,it.current&1|2),i.child}s=s.sibling}S.tail!==null&&ht()>Uo&&(i.flags|=128,p=!0,ha(S,!1),i.lanes=4194304)}else{if(!p)if(s=Vl(k),s!==null){if(i.flags|=128,p=!0,u=s.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),ha(S,!0),S.tail===null&&S.tailMode==="hidden"&&!k.alternate&&!ot)return At(i),null}else 2*ht()-S.renderingStartTime>Uo&&u!==1073741824&&(i.flags|=128,p=!0,ha(S,!1),i.lanes=4194304);S.isBackwards?(k.sibling=i.child,i.child=k):(u=S.last,u!==null?u.sibling=k:i.child=k,S.last=k)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=ht(),i.sibling=null,u=it.current,Ze(it,p?u&1|2:u&1),i):(At(i),null);case 22:case 23:return jf(),p=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(i.flags|=8192),p&&(i.mode&1)!==0?(ir&1073741824)!==0&&(At(i),i.subtreeFlags&6&&(i.flags|=8192)):At(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function $E(s,i){switch(Rd(i),i.tag){case 1:return Kt(i.type)&&Ol(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Lo(),nt(Ht),nt(Tt),Vd(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return zd(i),null;case 13:if(nt(it),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Oo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return nt(it),null;case 4:return Lo(),null;case 10:return Ld(i.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var Zl=!1,Ot=!1,BE=typeof WeakSet=="function"?WeakSet:Set,ye=null;function $o(s,i){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){ut(s,i,p)}else u.current=null}function df(s,i,u){try{u()}catch(p){ut(s,i,p)}}var Zv=!1;function UE(s,i){if(Sd=xl,s=Rg(),pd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var x=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var k=0,R=-1,L=-1,Z=0,ce=0,fe=s,le=null;t:for(;;){for(var ve;fe!==u||x!==0&&fe.nodeType!==3||(R=k+x),fe!==S||p!==0&&fe.nodeType!==3||(L=k+p),fe.nodeType===3&&(k+=fe.nodeValue.length),(ve=fe.firstChild)!==null;)le=fe,fe=ve;for(;;){if(fe===s)break t;if(le===u&&++Z===x&&(R=k),le===S&&++ce===p&&(L=k),(ve=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=ve}u=R===-1||L===-1?null:{start:R,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(jd={focusedElem:s,selectionRange:u},xl=!1,ye=i;ye!==null;)if(i=ye,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ye=s;else for(;ye!==null;){i=ye;try{var we=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,pt=we.memoizedState,H=i.stateNode,F=H.getSnapshotBeforeUpdate(i.elementType===i.type?Se:Pr(i.type,Se),pt);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){ut(i,i.return,me)}if(s=i.sibling,s!==null){s.return=i.return,ye=s;break}ye=i.return}return we=Zv,Zv=!1,we}function pa(s,i,u){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&s)===s){var S=x.destroy;x.destroy=void 0,S!==void 0&&df(i,u,S)}x=x.next}while(x!==p)}}function ec(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==i)}}function ff(s){var i=s.ref;if(i!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof i=="function"?i(s):i.current=s}}function ey(s){var i=s.alternate;i!==null&&(s.alternate=null,ey(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Zr],delete i[na],delete i[Cd],delete i[jE],delete i[NE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ty(s){return s.tag===5||s.tag===3||s.tag===4}function ry(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ty(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hf(s,i,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(s,i):u.insertBefore(s,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(s,u)):(i=u,i.appendChild(s)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Rl));else if(p!==4&&(s=s.child,s!==null))for(hf(s,i,u),s=s.sibling;s!==null;)hf(s,i,u),s=s.sibling}function pf(s,i,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(pf(s,i,u),s=s.sibling;s!==null;)pf(s,i,u),s=s.sibling}var Ct=null,Tr=!1;function Gn(s,i,u){for(u=u.child;u!==null;)ny(s,i,u),u=u.sibling}function ny(s,i,u){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(hl,u)}catch{}switch(u.tag){case 5:Ot||$o(u,i);case 6:var p=Ct,x=Tr;Ct=null,Gn(s,i,u),Ct=p,Tr=x,Ct!==null&&(Tr?(s=Ct,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Ct.removeChild(u.stateNode));break;case 18:Ct!==null&&(Tr?(s=Ct,u=u.stateNode,s.nodeType===8?Ed(s.parentNode,u):s.nodeType===1&&Ed(s,u),Hi(s)):Ed(Ct,u.stateNode));break;case 4:p=Ct,x=Tr,Ct=u.stateNode.containerInfo,Tr=!0,Gn(s,i,u),Ct=p,Tr=x;break;case 0:case 11:case 14:case 15:if(!Ot&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var S=x,k=S.destroy;S=S.tag,k!==void 0&&((S&2)!==0||(S&4)!==0)&&df(u,i,k),x=x.next}while(x!==p)}Gn(s,i,u);break;case 1:if(!Ot&&($o(u,i),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(R){ut(u,i,R)}Gn(s,i,u);break;case 21:Gn(s,i,u);break;case 22:u.mode&1?(Ot=(p=Ot)||u.memoizedState!==null,Gn(s,i,u),Ot=p):Gn(s,i,u);break;default:Gn(s,i,u)}}function sy(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new BE),i.forEach(function(p){var x=QE.bind(null,s,p);u.has(p)||(u.add(p),p.then(x,x))})}}function Rr(s,i){var u=i.deletions;if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];try{var S=s,k=i,R=k;e:for(;R!==null;){switch(R.tag){case 5:Ct=R.stateNode,Tr=!1;break e;case 3:Ct=R.stateNode.containerInfo,Tr=!0;break e;case 4:Ct=R.stateNode.containerInfo,Tr=!0;break e}R=R.return}if(Ct===null)throw Error(r(160));ny(S,k,x),Ct=null,Tr=!1;var L=x.alternate;L!==null&&(L.return=null),x.return=null}catch(Z){ut(x,i,Z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)oy(i,s),i=i.sibling}function oy(s,i){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Rr(i,s),rn(s),p&4){try{pa(3,s,s.return),ec(3,s)}catch(Se){ut(s,s.return,Se)}try{pa(5,s,s.return)}catch(Se){ut(s,s.return,Se)}}break;case 1:Rr(i,s),rn(s),p&512&&u!==null&&$o(u,u.return);break;case 5:if(Rr(i,s),rn(s),p&512&&u!==null&&$o(u,u.return),s.flags&32){var x=s.stateNode;try{Gr(x,"")}catch(Se){ut(s,s.return,Se)}}if(p&4&&(x=s.stateNode,x!=null)){var S=s.memoizedProps,k=u!==null?u.memoizedProps:S,R=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{R==="input"&&S.type==="radio"&&S.name!=null&&Sr(x,S),Li(R,k);var Z=Li(R,S);for(k=0;k<L.length;k+=2){var ce=L[k],fe=L[k+1];ce==="style"?gn(x,fe):ce==="dangerouslySetInnerHTML"?il(x,fe):ce==="children"?Gr(x,fe):_(x,ce,fe,Z)}switch(R){case"input":jr(x,S);break;case"textarea":Hr(x,S);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ve=S.value;ve!=null?oe(x,!!S.multiple,ve,!1):le!==!!S.multiple&&(S.defaultValue!=null?oe(x,!!S.multiple,S.defaultValue,!0):oe(x,!!S.multiple,S.multiple?[]:"",!1))}x[na]=S}catch(Se){ut(s,s.return,Se)}}break;case 6:if(Rr(i,s),rn(s),p&4){if(s.stateNode===null)throw Error(r(162));x=s.stateNode,S=s.memoizedProps;try{x.nodeValue=S}catch(Se){ut(s,s.return,Se)}}break;case 3:if(Rr(i,s),rn(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Hi(i.containerInfo)}catch(Se){ut(s,s.return,Se)}break;case 4:Rr(i,s),rn(s);break;case 13:Rr(i,s),rn(s),x=s.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(vf=ht())),p&4&&sy(s);break;case 22:if(ce=u!==null&&u.memoizedState!==null,s.mode&1?(Ot=(Z=Ot)||ce,Rr(i,s),Ot=Z):Rr(i,s),rn(s),p&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ce&&(s.mode&1)!==0)for(ye=s,ce=s.child;ce!==null;){for(fe=ye=ce;ye!==null;){switch(le=ye,ve=le.child,le.tag){case 0:case 11:case 14:case 15:pa(4,le,le.return);break;case 1:$o(le,le.return);var we=le.stateNode;if(typeof we.componentWillUnmount=="function"){p=le,u=le.return;try{i=p,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(Se){ut(p,u,Se)}}break;case 5:$o(le,le.return);break;case 22:if(le.memoizedState!==null){ly(fe);continue}}ve!==null?(ve.return=le,ye=ve):ly(fe)}ce=ce.sibling}e:for(ce=null,fe=s;;){if(fe.tag===5){if(ce===null){ce=fe;try{x=fe.stateNode,Z?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(R=fe.stateNode,L=fe.memoizedProps.style,k=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=yo("display",k))}catch(Se){ut(s,s.return,Se)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=Z?"":fe.memoizedProps}catch(Se){ut(s,s.return,Se)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Rr(i,s),rn(s),p&4&&sy(s);break;case 21:break;default:Rr(i,s),rn(s)}}function rn(s){var i=s.flags;if(i&2){try{e:{for(var u=s.return;u!==null;){if(ty(u)){var p=u;break e}u=u.return}throw Error(r(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(Gr(x,""),p.flags&=-33);var S=ry(s);pf(s,S,x);break;case 3:case 4:var k=p.stateNode.containerInfo,R=ry(s);hf(s,R,k);break;default:throw Error(r(161))}}catch(L){ut(s,s.return,L)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function zE(s,i,u){ye=s,iy(s)}function iy(s,i,u){for(var p=(s.mode&1)!==0;ye!==null;){var x=ye,S=x.child;if(x.tag===22&&p){var k=x.memoizedState!==null||Zl;if(!k){var R=x.alternate,L=R!==null&&R.memoizedState!==null||Ot;R=Zl;var Z=Ot;if(Zl=k,(Ot=L)&&!Z)for(ye=x;ye!==null;)k=ye,L=k.child,k.tag===22&&k.memoizedState!==null?cy(x):L!==null?(L.return=k,ye=L):cy(x);for(;S!==null;)ye=S,iy(S),S=S.sibling;ye=x,Zl=R,Ot=Z}ay(s)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,ye=S):ay(s)}}function ay(s){for(;ye!==null;){var i=ye;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ot||ec(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!Ot)if(u===null)p.componentDidMount();else{var x=i.elementType===i.type?u.memoizedProps:Pr(i.type,u.memoizedProps);p.componentDidUpdate(x,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&lv(i,S,p);break;case 3:var k=i.updateQueue;if(k!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}lv(i,k,u)}break;case 5:var R=i.stateNode;if(u===null&&i.flags&4){u=R;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Z=i.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&Hi(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ot||i.flags&512&&ff(i)}catch(le){ut(i,i.return,le)}}if(i===s){ye=null;break}if(u=i.sibling,u!==null){u.return=i.return,ye=u;break}ye=i.return}}function ly(s){for(;ye!==null;){var i=ye;if(i===s){ye=null;break}var u=i.sibling;if(u!==null){u.return=i.return,ye=u;break}ye=i.return}}function cy(s){for(;ye!==null;){var i=ye;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{ec(4,i)}catch(L){ut(i,u,L)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var x=i.return;try{p.componentDidMount()}catch(L){ut(i,x,L)}}var S=i.return;try{ff(i)}catch(L){ut(i,S,L)}break;case 5:var k=i.return;try{ff(i)}catch(L){ut(i,k,L)}}}catch(L){ut(i,i.return,L)}if(i===s){ye=null;break}var R=i.sibling;if(R!==null){R.return=i.return,ye=R;break}ye=i.return}}var WE=Math.ceil,tc=P.ReactCurrentDispatcher,mf=P.ReactCurrentOwner,vr=P.ReactCurrentBatchConfig,Ve=0,Nt=null,gt=null,kt=0,ir=0,Bo=Wn(0),bt=0,ma=null,Ts=0,rc=0,gf=0,ga=null,Yt=null,vf=0,Uo=1/0,Nn=null,nc=!1,yf=null,Yn=null,sc=!1,Qn=null,oc=0,va=0,xf=null,ic=-1,ac=0;function Bt(){return(Ve&6)!==0?ht():ic!==-1?ic:ic=ht()}function Jn(s){return(s.mode&1)===0?1:(Ve&2)!==0&&kt!==0?kt&-kt:EE.transition!==null?(ac===0&&(ac=rg()),ac):(s=Ge,s!==0||(s=window.event,s=s===void 0?16:dg(s.type)),s)}function Ar(s,i,u,p){if(50<va)throw va=0,xf=null,Error(r(185));Ui(s,u,p),((Ve&2)===0||s!==Nt)&&(s===Nt&&((Ve&2)===0&&(rc|=u),bt===4&&Xn(s,kt)),Qt(s,p),u===1&&Ve===0&&(i.mode&1)===0&&(Uo=ht()+500,Dl&&qn()))}function Qt(s,i){var u=s.callbackNode;E_(s,i);var p=gl(s,s===Nt?kt:0);if(p===0)u!==null&&Zm(u),s.callbackNode=null,s.callbackPriority=0;else if(i=p&-p,s.callbackPriority!==i){if(u!=null&&Zm(u),i===1)s.tag===0?_E(dy.bind(null,s)):Qg(dy.bind(null,s)),bE(function(){(Ve&6)===0&&qn()}),u=null;else{switch(ng(p)){case 1:u=Ju;break;case 4:u=eg;break;case 16:u=fl;break;case 536870912:u=tg;break;default:u=fl}u=xy(u,uy.bind(null,s))}s.callbackPriority=i,s.callbackNode=u}}function uy(s,i){if(ic=-1,ac=0,(Ve&6)!==0)throw Error(r(327));var u=s.callbackNode;if(zo()&&s.callbackNode!==u)return null;var p=gl(s,s===Nt?kt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||i)i=lc(s,p);else{i=p;var x=Ve;Ve|=2;var S=hy();(Nt!==s||kt!==i)&&(Nn=null,Uo=ht()+500,As(s,i));do try{HE();break}catch(R){fy(s,R)}while(!0);Md(),tc.current=S,Ve=x,gt!==null?i=0:(Nt=null,kt=0,i=bt)}if(i!==0){if(i===2&&(x=Xu(s),x!==0&&(p=x,i=wf(s,x))),i===1)throw u=ma,As(s,0),Xn(s,p),Qt(s,ht()),u;if(i===6)Xn(s,p);else{if(x=s.current.alternate,(p&30)===0&&!VE(x)&&(i=lc(s,p),i===2&&(S=Xu(s),S!==0&&(p=S,i=wf(s,S))),i===1))throw u=ma,As(s,0),Xn(s,p),Qt(s,ht()),u;switch(s.finishedWork=x,s.finishedLanes=p,i){case 0:case 1:throw Error(r(345));case 2:Os(s,Yt,Nn);break;case 3:if(Xn(s,p),(p&130023424)===p&&(i=vf+500-ht(),10<i)){if(gl(s,0)!==0)break;if(x=s.suspendedLanes,(x&p)!==p){Bt(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=_d(Os.bind(null,s,Yt,Nn),i);break}Os(s,Yt,Nn);break;case 4:if(Xn(s,p),(p&4194240)===p)break;for(i=s.eventTimes,x=-1;0<p;){var k=31-Er(p);S=1<<k,k=i[k],k>x&&(x=k),p&=~S}if(p=x,p=ht()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*WE(p/1960))-p,10<p){s.timeoutHandle=_d(Os.bind(null,s,Yt,Nn),p);break}Os(s,Yt,Nn);break;case 5:Os(s,Yt,Nn);break;default:throw Error(r(329))}}}return Qt(s,ht()),s.callbackNode===u?uy.bind(null,s):null}function wf(s,i){var u=ga;return s.current.memoizedState.isDehydrated&&(As(s,i).flags|=256),s=lc(s,i),s!==2&&(i=Yt,Yt=u,i!==null&&bf(i)),s}function bf(s){Yt===null?Yt=s:Yt.push.apply(Yt,s)}function VE(s){for(var i=s;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var x=u[p],S=x.getSnapshot;x=x.value;try{if(!Cr(S(),x))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(s,i){for(i&=~gf,i&=~rc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var u=31-Er(i),p=1<<u;s[u]=-1,i&=~p}}function dy(s){if((Ve&6)!==0)throw Error(r(327));zo();var i=gl(s,0);if((i&1)===0)return Qt(s,ht()),null;var u=lc(s,i);if(s.tag!==0&&u===2){var p=Xu(s);p!==0&&(i=p,u=wf(s,p))}if(u===1)throw u=ma,As(s,0),Xn(s,i),Qt(s,ht()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Os(s,Yt,Nn),Qt(s,ht()),null}function Sf(s,i){var u=Ve;Ve|=1;try{return s(i)}finally{Ve=u,Ve===0&&(Uo=ht()+500,Dl&&qn())}}function Rs(s){Qn!==null&&Qn.tag===0&&(Ve&6)===0&&zo();var i=Ve;Ve|=1;var u=vr.transition,p=Ge;try{if(vr.transition=null,Ge=1,s)return s()}finally{Ge=p,vr.transition=u,Ve=i,(Ve&6)===0&&qn()}}function jf(){ir=Bo.current,nt(Bo)}function As(s,i){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,wE(u)),gt!==null)for(u=gt.return;u!==null;){var p=u;switch(Rd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ol();break;case 3:Lo(),nt(Ht),nt(Tt),Vd();break;case 5:zd(p);break;case 4:Lo();break;case 13:nt(it);break;case 19:nt(it);break;case 10:Ld(p.type._context);break;case 22:case 23:jf()}u=u.return}if(Nt=s,gt=s=Zn(s.current,null),kt=ir=i,bt=0,ma=null,gf=rc=Ts=0,Yt=ga=null,Cs!==null){for(i=0;i<Cs.length;i++)if(u=Cs[i],p=u.interleaved,p!==null){u.interleaved=null;var x=p.next,S=u.pending;if(S!==null){var k=S.next;S.next=x,p.next=k}u.pending=p}Cs=null}return s}function fy(s,i){do{var u=gt;try{if(Md(),ql.current=Yl,Hl){for(var p=at.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}Hl=!1}if(Ps=0,jt=wt=at=null,ca=!1,ua=0,mf.current=null,u===null||u.return===null){bt=1,ma=i,gt=null;break}e:{var S=s,k=u.return,R=u,L=i;if(i=kt,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=L,ce=R,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=Lv(k);if(ve!==null){ve.flags&=-257,Fv(ve,k,R,S,i),ve.mode&1&&Mv(S,Z,i),i=ve,L=Z;var we=i.updateQueue;if(we===null){var Se=new Set;Se.add(L),i.updateQueue=Se}else we.add(L);break e}else{if((i&1)===0){Mv(S,Z,i),Nf();break e}L=Error(r(426))}}else if(ot&&R.mode&1){var pt=Lv(k);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Fv(pt,k,R,S,i),Id(Fo(L,R));break e}}S=L=Fo(L,R),bt!==4&&(bt=2),ga===null?ga=[S]:ga.push(S),S=k;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var H=Iv(S,L,i);av(S,H);break e;case 1:R=L;var F=S.type,Q=S.stateNode;if((S.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Yn===null||!Yn.has(Q)))){S.flags|=65536,i&=-i,S.lanes|=i;var me=Dv(S,R,i);av(S,me);break e}}S=S.return}while(S!==null)}my(u)}catch(Ne){i=Ne,gt===u&&u!==null&&(gt=u=u.return);continue}break}while(!0)}function hy(){var s=tc.current;return tc.current=Yl,s===null?Yl:s}function Nf(){(bt===0||bt===3||bt===2)&&(bt=4),Nt===null||(Ts&268435455)===0&&(rc&268435455)===0||Xn(Nt,kt)}function lc(s,i){var u=Ve;Ve|=2;var p=hy();(Nt!==s||kt!==i)&&(Nn=null,As(s,i));do try{qE();break}catch(x){fy(s,x)}while(!0);if(Md(),Ve=u,tc.current=p,gt!==null)throw Error(r(261));return Nt=null,kt=0,bt}function qE(){for(;gt!==null;)py(gt)}function HE(){for(;gt!==null&&!v_();)py(gt)}function py(s){var i=yy(s.alternate,s,ir);s.memoizedProps=s.pendingProps,i===null?my(s):gt=i,mf.current=null}function my(s){var i=s;do{var u=i.alternate;if(s=i.return,(i.flags&32768)===0){if(u=FE(u,i,ir),u!==null){gt=u;return}}else{if(u=$E(u,i),u!==null){u.flags&=32767,gt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bt=6,gt=null;return}}if(i=i.sibling,i!==null){gt=i;return}gt=i=s}while(i!==null);bt===0&&(bt=5)}function Os(s,i,u){var p=Ge,x=vr.transition;try{vr.transition=null,Ge=1,KE(s,i,u,p)}finally{vr.transition=x,Ge=p}return null}function KE(s,i,u,p){do zo();while(Qn!==null);if((Ve&6)!==0)throw Error(r(327));u=s.finishedWork;var x=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var S=u.lanes|u.childLanes;if(C_(s,S),s===Nt&&(gt=Nt=null,kt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||sc||(sc=!0,xy(fl,function(){return zo(),null})),S=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||S){S=vr.transition,vr.transition=null;var k=Ge;Ge=1;var R=Ve;Ve|=4,mf.current=null,UE(s,u),oy(u,s),hE(jd),xl=!!Sd,jd=Sd=null,s.current=u,zE(u),y_(),Ve=R,Ge=k,vr.transition=S}else s.current=u;if(sc&&(sc=!1,Qn=s,oc=x),S=s.pendingLanes,S===0&&(Yn=null),b_(u.stateNode),Qt(s,ht()),i!==null)for(p=s.onRecoverableError,u=0;u<i.length;u++)x=i[u],p(x.value,{componentStack:x.stack,digest:x.digest});if(nc)throw nc=!1,s=yf,yf=null,s;return(oc&1)!==0&&s.tag!==0&&zo(),S=s.pendingLanes,(S&1)!==0?s===xf?va++:(va=0,xf=s):va=0,qn(),null}function zo(){if(Qn!==null){var s=ng(oc),i=vr.transition,u=Ge;try{if(vr.transition=null,Ge=16>s?16:s,Qn===null)var p=!1;else{if(s=Qn,Qn=null,oc=0,(Ve&6)!==0)throw Error(r(331));var x=Ve;for(Ve|=4,ye=s.current;ye!==null;){var S=ye,k=S.child;if((ye.flags&16)!==0){var R=S.deletions;if(R!==null){for(var L=0;L<R.length;L++){var Z=R[L];for(ye=Z;ye!==null;){var ce=ye;switch(ce.tag){case 0:case 11:case 15:pa(8,ce,S)}var fe=ce.child;if(fe!==null)fe.return=ce,ye=fe;else for(;ye!==null;){ce=ye;var le=ce.sibling,ve=ce.return;if(ey(ce),ce===Z){ye=null;break}if(le!==null){le.return=ve,ye=le;break}ye=ve}}}var we=S.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var pt=Se.sibling;Se.sibling=null,Se=pt}while(Se!==null)}}ye=S}}if((S.subtreeFlags&2064)!==0&&k!==null)k.return=S,ye=k;else e:for(;ye!==null;){if(S=ye,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:pa(9,S,S.return)}var H=S.sibling;if(H!==null){H.return=S.return,ye=H;break e}ye=S.return}}var F=s.current;for(ye=F;ye!==null;){k=ye;var Q=k.child;if((k.subtreeFlags&2064)!==0&&Q!==null)Q.return=k,ye=Q;else e:for(k=F;ye!==null;){if(R=ye,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ec(9,R)}}catch(Ne){ut(R,R.return,Ne)}if(R===k){ye=null;break e}var me=R.sibling;if(me!==null){me.return=R.return,ye=me;break e}ye=R.return}}if(Ve=x,qn(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(hl,s)}catch{}p=!0}return p}finally{Ge=u,vr.transition=i}}return!1}function gy(s,i,u){i=Fo(u,i),i=Iv(s,i,1),s=Kn(s,i,1),i=Bt(),s!==null&&(Ui(s,1,i),Qt(s,i))}function ut(s,i,u){if(s.tag===3)gy(s,s,u);else for(;i!==null;){if(i.tag===3){gy(i,s,u);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Yn===null||!Yn.has(p))){s=Fo(u,s),s=Dv(i,s,1),i=Kn(i,s,1),s=Bt(),i!==null&&(Ui(i,1,s),Qt(i,s));break}}i=i.return}}function GE(s,i,u){var p=s.pingCache;p!==null&&p.delete(i),i=Bt(),s.pingedLanes|=s.suspendedLanes&u,Nt===s&&(kt&u)===u&&(bt===4||bt===3&&(kt&130023424)===kt&&500>ht()-vf?As(s,0):gf|=u),Qt(s,i)}function vy(s,i){i===0&&((s.mode&1)===0?i=1:(i=ml,ml<<=1,(ml&130023424)===0&&(ml=4194304)));var u=Bt();s=bn(s,i),s!==null&&(Ui(s,i,u),Qt(s,u))}function YE(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),vy(s,u)}function QE(s,i){var u=0;switch(s.tag){case 13:var p=s.stateNode,x=s.memoizedState;x!==null&&(u=x.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(i),vy(s,u)}var yy;yy=function(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps||Ht.current)Gt=!0;else{if((s.lanes&u)===0&&(i.flags&128)===0)return Gt=!1,LE(s,i,u);Gt=(s.flags&131072)!==0}else Gt=!1,ot&&(i.flags&1048576)!==0&&Jg(i,Ll,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;Xl(s,i),s=i.pendingProps;var x=To(i,Tt.current);Mo(i,u),x=Kd(null,i,p,s,x,u);var S=Gd();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Kt(p)?(S=!0,Il(i)):S=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Bd(i),x.updater=Ql,i.stateNode=x,x._reactInternals=i,ef(i,p,s,u),i=sf(null,i,p,!0,S,u)):(i.tag=0,ot&&S&&Td(i),$t(null,i,x,u),i=i.child),i;case 16:p=i.elementType;e:{switch(Xl(s,i),s=i.pendingProps,x=p._init,p=x(p._payload),i.type=p,x=i.tag=XE(p),s=Pr(p,s),x){case 0:i=nf(null,i,p,s,u);break e;case 1:i=Vv(null,i,p,s,u);break e;case 11:i=$v(null,i,p,s,u);break e;case 14:i=Bv(null,i,p,Pr(p.type,s),u);break e}throw Error(r(306,p,""))}return i;case 0:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:Pr(p,x),nf(s,i,p,x,u);case 1:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:Pr(p,x),Vv(s,i,p,x,u);case 3:e:{if(qv(i),s===null)throw Error(r(387));p=i.pendingProps,S=i.memoizedState,x=S.element,iv(s,i),Wl(i,p,null,u);var k=i.memoizedState;if(p=k.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){x=Fo(Error(r(423)),i),i=Hv(s,i,p,u,x);break e}else if(p!==x){x=Fo(Error(r(424)),i),i=Hv(s,i,p,u,x);break e}else for(or=zn(i.stateNode.containerInfo.firstChild),sr=i,ot=!0,kr=null,u=sv(i,null,p,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oo(),p===x){i=jn(s,i,u);break e}$t(s,i,p,u)}i=i.child}return i;case 5:return cv(i),s===null&&Od(i),p=i.type,x=i.pendingProps,S=s!==null?s.memoizedProps:null,k=x.children,Nd(p,x)?k=null:S!==null&&Nd(p,S)&&(i.flags|=32),Wv(s,i),$t(s,i,k,u),i.child;case 6:return s===null&&Od(i),null;case 13:return Kv(s,i,u);case 4:return Ud(i,i.stateNode.containerInfo),p=i.pendingProps,s===null?i.child=Io(i,null,p,u):$t(s,i,p,u),i.child;case 11:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:Pr(p,x),$v(s,i,p,x,u);case 7:return $t(s,i,i.pendingProps,u),i.child;case 8:return $t(s,i,i.pendingProps.children,u),i.child;case 12:return $t(s,i,i.pendingProps.children,u),i.child;case 10:e:{if(p=i.type._context,x=i.pendingProps,S=i.memoizedProps,k=x.value,Ze(Bl,p._currentValue),p._currentValue=k,S!==null)if(Cr(S.value,k)){if(S.children===x.children&&!Ht.current){i=jn(s,i,u);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var R=S.dependencies;if(R!==null){k=S.child;for(var L=R.firstContext;L!==null;){if(L.context===p){if(S.tag===1){L=Sn(-1,u&-u),L.tag=2;var Z=S.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?L.next=L:(L.next=ce.next,ce.next=L),Z.pending=L}}S.lanes|=u,L=S.alternate,L!==null&&(L.lanes|=u),Fd(S.return,u,i),R.lanes|=u;break}L=L.next}}else if(S.tag===10)k=S.type===i.type?null:S.child;else if(S.tag===18){if(k=S.return,k===null)throw Error(r(341));k.lanes|=u,R=k.alternate,R!==null&&(R.lanes|=u),Fd(k,u,i),k=S.sibling}else k=S.child;if(k!==null)k.return=S;else for(k=S;k!==null;){if(k===i){k=null;break}if(S=k.sibling,S!==null){S.return=k.return,k=S;break}k=k.return}S=k}$t(s,i,x.children,u),i=i.child}return i;case 9:return x=i.type,p=i.pendingProps.children,Mo(i,u),x=mr(x),p=p(x),i.flags|=1,$t(s,i,p,u),i.child;case 14:return p=i.type,x=Pr(p,i.pendingProps),x=Pr(p.type,x),Bv(s,i,p,x,u);case 15:return Uv(s,i,i.type,i.pendingProps,u);case 17:return p=i.type,x=i.pendingProps,x=i.elementType===p?x:Pr(p,x),Xl(s,i),i.tag=1,Kt(p)?(s=!0,Il(i)):s=!1,Mo(i,u),Av(i,p,x),ef(i,p,x,u),sf(null,i,p,!0,s,u);case 19:return Yv(s,i,u);case 22:return zv(s,i,u)}throw Error(r(156,i.tag))};function xy(s,i){return Xm(s,i)}function JE(s,i,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,i,u,p){return new JE(s,i,u,p)}function _f(s){return s=s.prototype,!(!s||!s.isReactComponent)}function XE(s){if(typeof s=="function")return _f(s)?1:0;if(s!=null){if(s=s.$$typeof,s===X)return 11;if(s===q)return 14}return 2}function Zn(s,i){var u=s.alternate;return u===null?(u=yr(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function cc(s,i,u,p,x,S){var k=2;if(p=s,typeof s=="function")_f(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case I:return Is(u.children,x,S,i);case B:k=8,x|=8;break;case V:return s=yr(12,u,i,x|2),s.elementType=V,s.lanes=S,s;case $:return s=yr(13,u,i,x),s.elementType=$,s.lanes=S,s;case z:return s=yr(19,u,i,x),s.elementType=z,s.lanes=S,s;case ne:return uc(u,x,S,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case te:k=10;break e;case ee:k=9;break e;case X:k=11;break e;case q:k=14;break e;case U:k=16,p=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return i=yr(k,u,i,x),i.elementType=s,i.type=p,i.lanes=S,i}function Is(s,i,u,p){return s=yr(7,s,p,i),s.lanes=u,s}function uc(s,i,u,p){return s=yr(22,s,p,i),s.elementType=ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Ef(s,i,u){return s=yr(6,s,null,i),s.lanes=u,s}function Cf(s,i,u){return i=yr(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function ZE(s,i,u,p,x){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zu(0),this.expirationTimes=Zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function kf(s,i,u,p,x,S,k,R,L){return s=new ZE(s,i,u,R,L),i===1?(i=1,S===!0&&(i|=8)):i=0,S=yr(3,null,null,i),s.current=S,S.stateNode=s,S.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(S),s}function eC(s,i,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:p==null?null:""+p,children:s,containerInfo:i,implementation:u}}function wy(s){if(!s)return Vn;s=s._reactInternals;e:{if(Ss(s)!==s||s.tag!==1)throw Error(r(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Kt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(Kt(u))return Gg(s,u,i)}return i}function by(s,i,u,p,x,S,k,R,L){return s=kf(u,p,!0,s,x,S,k,R,L),s.context=wy(null),u=s.current,p=Bt(),x=Jn(u),S=Sn(p,x),S.callback=i??null,Kn(u,S,x),s.current.lanes=x,Ui(s,x,p),Qt(s,p),s}function dc(s,i,u,p){var x=i.current,S=Bt(),k=Jn(x);return u=wy(u),i.context===null?i.context=u:i.pendingContext=u,i=Sn(S,k),i.payload={element:s},p=p===void 0?null:p,p!==null&&(i.callback=p),s=Kn(x,i,k),s!==null&&(Ar(s,x,k,S),zl(s,x,k)),k}function fc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Sy(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function Pf(s,i){Sy(s,i),(s=s.alternate)&&Sy(s,i)}function tC(){return null}var jy=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tf(s){this._internalRoot=s}hc.prototype.render=Tf.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));dc(s,i,null,null)},hc.prototype.unmount=Tf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Rs(function(){dc(null,s,null,null)}),i[vn]=null}};function hc(s){this._internalRoot=s}hc.prototype.unstable_scheduleHydration=function(s){if(s){var i=ig();s={blockedOn:null,target:s,priority:i};for(var u=0;u<$n.length&&i!==0&&i<$n[u].priority;u++);$n.splice(u,0,s),u===0&&cg(s)}};function Rf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function rC(s,i,u,p,x){if(x){if(typeof p=="function"){var S=p;p=function(){var Z=fc(k);S.call(Z)}}var k=by(i,p,s,0,null,!1,!1,"",Ny);return s._reactRootContainer=k,s[vn]=k.current,ta(s.nodeType===8?s.parentNode:s),Rs(),k}for(;x=s.lastChild;)s.removeChild(x);if(typeof p=="function"){var R=p;p=function(){var Z=fc(L);R.call(Z)}}var L=kf(s,0,!1,null,null,!1,!1,"",Ny);return s._reactRootContainer=L,s[vn]=L.current,ta(s.nodeType===8?s.parentNode:s),Rs(function(){dc(i,L,u,p)}),L}function mc(s,i,u,p,x){var S=u._reactRootContainer;if(S){var k=S;if(typeof x=="function"){var R=x;x=function(){var L=fc(k);R.call(L)}}dc(i,k,s,x)}else k=rC(u,i,s,x,p);return fc(k)}sg=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var u=Bi(i.pendingLanes);u!==0&&(ed(i,u|1),Qt(i,ht()),(Ve&6)===0&&(Uo=ht()+500,qn()))}break;case 13:Rs(function(){var p=bn(s,1);if(p!==null){var x=Bt();Ar(p,s,1,x)}}),Pf(s,1)}},td=function(s){if(s.tag===13){var i=bn(s,134217728);if(i!==null){var u=Bt();Ar(i,s,134217728,u)}Pf(s,134217728)}},og=function(s){if(s.tag===13){var i=Jn(s),u=bn(s,i);if(u!==null){var p=Bt();Ar(u,s,i,p)}Pf(s,i)}},ig=function(){return Ge},ag=function(s,i){var u=Ge;try{return Ge=s,i()}finally{Ge=u}},wo=function(s,i,u){switch(i){case"input":if(jr(s,u),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var p=u[i];if(p!==s&&p.form===s.form){var x=Al(p);if(!x)throw Error(r(90));Ue(p),jr(p,x)}}}break;case"textarea":Hr(s,u);break;case"select":i=u.value,i!=null&&oe(s,!!u.multiple,i,!1)}},He=Sf,Je=Rs;var nC={usingClientEntryPoint:!1,Events:[sa,ko,Al,cl,Ae,Sf]},ya={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sC={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qm(s),s===null?null:s.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||tC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{hl=gc.inject(sC),Xr=gc}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC,Jt.createPortal=function(s,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rf(i))throw Error(r(200));return eC(s,i,null,u)},Jt.createRoot=function(s,i){if(!Rf(s))throw Error(r(299));var u=!1,p="",x=jy;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=kf(s,1,!1,null,null,u,!1,p,x),s[vn]=i.current,ta(s.nodeType===8?s.parentNode:s),new Tf(i)},Jt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Qm(i),s=s===null?null:s.stateNode,s},Jt.flushSync=function(s){return Rs(s)},Jt.hydrate=function(s,i,u){if(!pc(i))throw Error(r(200));return mc(null,s,i,!0,u)},Jt.hydrateRoot=function(s,i,u){if(!Rf(s))throw Error(r(405));var p=u!=null&&u.hydratedSources||null,x=!1,S="",k=jy;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),i=by(i,null,s,1,u??null,x,!1,S,k),s[vn]=i.current,ta(s),p)for(s=0;s<p.length;s++)u=p[s],x=u._getVersion,x=x(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,x]:i.mutableSourceEagerHydrationData.push(u,x);return new hc(i)},Jt.render=function(s,i,u){if(!pc(i))throw Error(r(200));return mc(null,s,i,!1,u)},Jt.unmountComponentAtNode=function(s){if(!pc(s))throw Error(r(40));return s._reactRootContainer?(Rs(function(){mc(null,null,s,!1,function(){s._reactRootContainer=null,s[vn]=null})}),!0):!1},Jt.unstable_batchedUpdates=Sf,Jt.unstable_renderSubtreeIntoContainer=function(s,i,u,p){if(!pc(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return mc(s,i,u,!1,p)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var Ay;function nw(){if(Ay)return If.exports;Ay=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),If.exports=fC(),If.exports}var Oy;function hC(){if(Oy)return vc;Oy=1;var e=nw();return vc.createRoot=e.createRoot,vc.hydrateRoot=e.hydrateRoot,vc}var pC=hC(),v=fu();const ie=du(v),$p=iC({__proto__:null,default:ie},[v]),mC=1,gC=1e6;let Lf=0;function vC(){return Lf=(Lf+1)%Number.MAX_SAFE_INTEGER,Lf.toString()}const Ff=new Map,Iy=e=>{if(Ff.has(e))return;const t=setTimeout(()=>{Ff.delete(e),Ra({type:"REMOVE_TOAST",toastId:e})},gC);Ff.set(e,t)},yC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Iy(r):e.toasts.forEach(n=>{Iy(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},$c=[];let Bc={toasts:[]};function Ra(e){Bc=yC(Bc,e),$c.forEach(t=>{t(Bc)})}function xC({...e}){const t=vC(),r=o=>Ra({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Ra({type:"DISMISS_TOAST",toastId:t});return Ra({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function ft(){const[e,t]=v.useState(Bc);return v.useEffect(()=>($c.push(t),()=>{const r=$c.indexOf(t);r>-1&&$c.splice(r,1)}),[e]),{...e,toast:xC,dismiss:r=>Ra({type:"DISMISS_TOAST",toastId:r})}}var Ei=nw();const sw=du(Ei);function xe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}function Dy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Zs(...e){return t=>{let r=!1;const n=e.map(o=>{const l=Dy(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Dy(e[o],null)}}}}function $e(...e){return v.useCallback(Zs(...e),e)}function wC(e,t){const r=v.createContext(t),n=l=>{const{children:c,...d}=l,f=v.useMemo(()=>d,Object.values(d));return a.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function o(l){const c=v.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[n,o]}function er(e,t=[]){let r=[];function n(l,c){const d=v.createContext(c),f=r.length;r=[...r,c];const h=g=>{const{scope:y,children:w,...N}=g,b=y?.[e]?.[f]||d,j=v.useMemo(()=>N,Object.values(N));return a.jsx(b.Provider,{value:j,children:w})};h.displayName=l+"Provider";function m(g,y){const w=y?.[e]?.[f]||d,N=v.useContext(w);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[h,m]}const o=()=>{const l=r.map(c=>v.createContext(c));return function(d){const f=d?.[e]||l;return v.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[n,bC(o,...t)]}function bC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=n.reduce((d,{useScope:f,scopeName:h})=>{const g=f(l)[`__scope${h}`];return{...d,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function eo(e){const t=jC(e),r=v.forwardRef((n,o)=>{const{children:l,...c}=n,d=v.Children.toArray(l),f=d.find(NC);if(f){const h=f.props.children,m=d.map(g=>g===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return a.jsx(t,{...c,ref:o,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return a.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}var SC=eo("Slot");function jC(e){const t=v.forwardRef((r,n)=>{const{children:o,...l}=r;if(v.isValidElement(o)){const c=EC(o),d=_C(l,o.props);return o.type!==v.Fragment&&(d.ref=n?Zs(n,c):c),v.cloneElement(o,d)}return v.Children.count(o)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ow=Symbol("radix.slottable");function iw(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=ow,t}function NC(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ow}function _C(e,t){const r={...t};for(const n in t){const o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(r[n]=o):n==="style"?r[n]={...o,...l}:n==="className"&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function EC(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Bp(e){const t=e+"CollectionProvider",[r,n]=er(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:j,children:C}=b,E=ie.useRef(null),_=ie.useRef(new Map).current;return a.jsx(o,{scope:j,itemMap:_,collectionRef:E,children:C})};c.displayName=t;const d=e+"CollectionSlot",f=eo(d),h=ie.forwardRef((b,j)=>{const{scope:C,children:E}=b,_=l(d,C),P=$e(j,_.collectionRef);return a.jsx(f,{ref:P,children:E})});h.displayName=d;const m=e+"CollectionItemSlot",g="data-radix-collection-item",y=eo(m),w=ie.forwardRef((b,j)=>{const{scope:C,children:E,..._}=b,P=ie.useRef(null),T=$e(j,P),O=l(m,C);return ie.useEffect(()=>(O.itemMap.set(P,{ref:P,..._}),()=>void O.itemMap.delete(P))),a.jsx(y,{[g]:"",ref:T,children:E})});w.displayName=m;function N(b){const j=l(e+"CollectionConsumer",b);return ie.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((O,I)=>_.indexOf(O.ref.current)-_.indexOf(I.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:h,ItemSlot:w},N,n]}var CC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=CC.reduce((e,t)=>{const r=eo(`Primitive.${t}`),n=v.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...d,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function aw(e,t){e&&Ei.flushSync(()=>e.dispatchEvent(t))}function yt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>t.current?.(...r),[])}function kC(e,t=globalThis?.document){const r=yt(e);v.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var PC="DismissableLayer",Uh="dismissableLayer.update",TC="dismissableLayer.pointerDownOutside",RC="dismissableLayer.focusOutside",My,lw=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ci=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,h=v.useContext(lw),[m,g]=v.useState(null),y=m?.ownerDocument??globalThis?.document,[,w]=v.useState({}),N=$e(t,I=>g(I)),b=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(j),E=m?b.indexOf(m):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,P=E>=C,T=OC(I=>{const B=I.target,V=[...h.branches].some(te=>te.contains(B));!P||V||(o?.(I),c?.(I),I.defaultPrevented||d?.())},y),O=IC(I=>{const B=I.target;[...h.branches].some(te=>te.contains(B))||(l?.(I),c?.(I),I.defaultPrevented||d?.())},y);return kC(I=>{E===h.layers.size-1&&(n?.(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},y),v.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(My=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Ly(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=My)}},[m,y,r,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Ly())},[m,h]),v.useEffect(()=>{const I=()=>w({});return document.addEventListener(Uh,I),()=>document.removeEventListener(Uh,I)},[]),a.jsx(be.div,{...f,ref:N,style:{pointerEvents:_?P?"auto":"none":void 0,...e.style},onFocusCapture:xe(e.onFocusCapture,O.onFocusCapture),onBlurCapture:xe(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:xe(e.onPointerDownCapture,T.onPointerDownCapture)})});Ci.displayName=PC;var AC="DismissableLayerBranch",cw=v.forwardRef((e,t)=>{const r=v.useContext(lw),n=v.useRef(null),o=$e(t,n);return v.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),a.jsx(be.div,{...e,ref:o})});cw.displayName=AC;function OC(e,t=globalThis?.document){const r=yt(e),n=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const l=d=>{if(d.target&&!n.current){let f=function(){uw(TC,r,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function IC(e,t=globalThis?.document){const r=yt(e),n=v.useRef(!1);return v.useEffect(()=>{const o=l=>{l.target&&!n.current&&uw(RC,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ly(){const e=new CustomEvent(Uh);document.dispatchEvent(e)}function uw(e,t,r,{discrete:n}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?aw(o,l):o.dispatchEvent(l)}var DC=Ci,MC=cw,mt=globalThis?.document?v.useLayoutEffect:()=>{},LC="Portal",Ya=v.forwardRef((e,t)=>{const{container:r,...n}=e,[o,l]=v.useState(!1);mt(()=>l(!0),[]);const c=r||o&&globalThis?.document?.body;return c?sw.createPortal(a.jsx(be.div,{...n,ref:t}),c):null});Ya.displayName=LC;function FC(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var tr=e=>{const{present:t,children:r}=e,n=$C(t),o=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),l=$e(n.ref,BC(o));return typeof r=="function"||n.isPresent?v.cloneElement(o,{ref:l}):null};tr.displayName="Presence";function $C(e){const[t,r]=v.useState(),n=v.useRef(null),o=v.useRef(e),l=v.useRef("none"),c=e?"mounted":"unmounted",[d,f]=FC(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=yc(n.current);l.current=d==="mounted"?h:"none"},[d]),mt(()=>{const h=n.current,m=o.current;if(m!==e){const y=l.current,w=yc(h);e?f("MOUNT"):w==="none"||h?.display==="none"?f("UNMOUNT"):f(m&&y!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),mt(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=w=>{const b=yc(n.current).includes(CSS.escape(w.animationName));if(w.target===t&&b&&(f("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},y=w=>{w.target===t&&(l.current=yc(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function yc(e){return e?.animationName||"none"}function BC(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var UC=$p[" useInsertionEffect ".trim().toString()]||mt;function ds({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,l,c]=zC({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:o;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const g=m.current;g!==d&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,n])}const h=v.useCallback(m=>{if(d){const g=WC(m)?m(e):m;g!==e&&c.current?.(g)}else l(m)},[d,e,l,c]);return[f,h]}function zC({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),o=v.useRef(r),l=v.useRef(t);return UC(()=>{l.current=t},[t]),v.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,n,l]}function WC(e){return typeof e=="function"}var dw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VC="VisuallyHidden",hu=v.forwardRef((e,t)=>a.jsx(be.span,{...e,ref:t,style:{...dw,...e.style}}));hu.displayName=VC;var qC=hu,Up="ToastProvider",[zp,HC,KC]=Bp("Toast"),[fw]=er("Toast",[KC]),[GC,pu]=fw(Up),hw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:c}=e,[d,f]=v.useState(null),[h,m]=v.useState(0),g=v.useRef(!1),y=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Up}\`. Expected non-empty \`string\`.`),a.jsx(zp.Provider,{scope:t,children:a.jsx(GC,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:l,toastCount:h,viewport:d,onViewportChange:f,onToastAdd:v.useCallback(()=>m(w=>w+1),[]),onToastRemove:v.useCallback(()=>m(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:c})})};hw.displayName=Up;var pw="ToastViewport",YC=["F8"],zh="toast.viewportPause",Wh="toast.viewportResume",mw=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=YC,label:o="Notifications ({hotkey})",...l}=e,c=pu(pw,r),d=HC(r),f=v.useRef(null),h=v.useRef(null),m=v.useRef(null),g=v.useRef(null),y=$e(t,g,c.onViewportChange),w=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=c.toastCount>0;v.useEffect(()=>{const j=C=>{n.length!==0&&n.every(_=>C[_]||C.code===_)&&g.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),v.useEffect(()=>{const j=f.current,C=g.current;if(N&&j&&C){const E=()=>{if(!c.isClosePausedRef.current){const O=new CustomEvent(zh);C.dispatchEvent(O),c.isClosePausedRef.current=!0}},_=()=>{if(c.isClosePausedRef.current){const O=new CustomEvent(Wh);C.dispatchEvent(O),c.isClosePausedRef.current=!1}},P=O=>{!j.contains(O.relatedTarget)&&_()},T=()=>{j.contains(document.activeElement)||_()};return j.addEventListener("focusin",E),j.addEventListener("focusout",P),j.addEventListener("pointermove",E),j.addEventListener("pointerleave",T),window.addEventListener("blur",E),window.addEventListener("focus",_),()=>{j.removeEventListener("focusin",E),j.removeEventListener("focusout",P),j.removeEventListener("pointermove",E),j.removeEventListener("pointerleave",T),window.removeEventListener("blur",E),window.removeEventListener("focus",_)}}},[N,c.isClosePausedRef]);const b=v.useCallback(({tabbingDirection:j})=>{const E=d().map(_=>{const P=_.ref.current,T=[P,...l2(P)];return j==="forwards"?T:T.reverse()});return(j==="forwards"?E.reverse():E).flat()},[d]);return v.useEffect(()=>{const j=g.current;if(j){const C=E=>{const _=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!_){const T=document.activeElement,O=E.shiftKey;if(E.target===j&&O){h.current?.focus();return}const V=b({tabbingDirection:O?"backwards":"forwards"}),te=V.findIndex(ee=>ee===T);$f(V.slice(te+1))?E.preventDefault():O?h.current?.focus():m.current?.focus()}};return j.addEventListener("keydown",C),()=>j.removeEventListener("keydown",C)}},[d,b]),a.jsxs(MC,{ref:f,role:"region","aria-label":o.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&a.jsx(Vh,{ref:h,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});$f(j)}}),a.jsx(zp.Slot,{scope:r,children:a.jsx(be.ol,{tabIndex:-1,...l,ref:y})}),N&&a.jsx(Vh,{ref:m,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});$f(j)}})]})});mw.displayName=pw;var gw="ToastFocusProxy",Vh=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,l=pu(gw,r);return a.jsx(hu,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&n()}})});Vh.displayName=gw;var Qa="Toast",QC="toast.swipeStart",JC="toast.swipeMove",XC="toast.swipeCancel",ZC="toast.swipeEnd",vw=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:l,...c}=e,[d,f]=ds({prop:n,defaultProp:o??!0,onChange:l,caller:Qa});return a.jsx(tr,{present:r||d,children:a.jsx(r2,{open:d,...c,ref:t,onClose:()=>f(!1),onPause:yt(e.onPause),onResume:yt(e.onResume),onSwipeStart:xe(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(e.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:xe(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(e.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),f(!1)})})})});vw.displayName=Qa;var[e2,t2]=fw(Qa,{onClose(){}}),r2=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:l,onClose:c,onEscapeKeyDown:d,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:w,...N}=e,b=pu(Qa,r),[j,C]=v.useState(null),E=$e(t,z=>C(z)),_=v.useRef(null),P=v.useRef(null),T=o||b.duration,O=v.useRef(0),I=v.useRef(T),B=v.useRef(0),{onToastAdd:V,onToastRemove:te}=b,ee=yt(()=>{j?.contains(document.activeElement)&&b.viewport?.focus(),c()}),X=v.useCallback(z=>{!z||z===1/0||(window.clearTimeout(B.current),O.current=new Date().getTime(),B.current=window.setTimeout(ee,z))},[ee]);v.useEffect(()=>{const z=b.viewport;if(z){const q=()=>{X(I.current),h?.()},U=()=>{const ne=new Date().getTime()-O.current;I.current=I.current-ne,window.clearTimeout(B.current),f?.()};return z.addEventListener(zh,U),z.addEventListener(Wh,q),()=>{z.removeEventListener(zh,U),z.removeEventListener(Wh,q)}}},[b.viewport,T,f,h,X]),v.useEffect(()=>{l&&!b.isClosePausedRef.current&&X(T)},[l,T,b.isClosePausedRef,X]),v.useEffect(()=>(V(),()=>te()),[V,te]);const $=v.useMemo(()=>j?Nw(j):null,[j]);return b.viewport?a.jsxs(a.Fragment,{children:[$&&a.jsx(n2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:$}),a.jsx(e2,{scope:r,onClose:ee,children:Ei.createPortal(a.jsx(zp.ItemSlot,{scope:r,children:a.jsx(DC,{asChild:!0,onEscapeKeyDown:xe(d,()=>{b.isFocusedToastEscapeKeyDownRef.current||ee(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(be.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":b.swipeDirection,...N,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:xe(e.onKeyDown,z=>{z.key==="Escape"&&(d?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:xe(e.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:xe(e.onPointerMove,z=>{if(!_.current)return;const q=z.clientX-_.current.x,U=z.clientY-_.current.y,ne=!!P.current,K=["left","right"].includes(b.swipeDirection),G=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,se=K?G(0,q):0,M=K?0:G(0,U),A=z.pointerType==="touch"?10:2,W={x:se,y:M},D={originalEvent:z,delta:W};ne?(P.current=W,xc(JC,g,D,{discrete:!1})):Fy(W,b.swipeDirection,A)?(P.current=W,xc(QC,m,D,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(q)>A||Math.abs(U)>A)&&(_.current=null)}),onPointerUp:xe(e.onPointerUp,z=>{const q=P.current,U=z.target;if(U.hasPointerCapture(z.pointerId)&&U.releasePointerCapture(z.pointerId),P.current=null,_.current=null,q){const ne=z.currentTarget,K={originalEvent:z,delta:q};Fy(q,b.swipeDirection,b.swipeThreshold)?xc(ZC,w,K,{discrete:!0}):xc(XC,y,K,{discrete:!0}),ne.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),n2=e=>{const{__scopeToast:t,children:r,...n}=e,o=pu(Qa,t),[l,c]=v.useState(!1),[d,f]=v.useState(!1);return i2(()=>c(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),d?null:a.jsx(Ya,{asChild:!0,children:a.jsx(hu,{...n,children:l&&a.jsxs(a.Fragment,{children:[o.label," ",r]})})})},s2="ToastTitle",yw=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(be.div,{...n,ref:t})});yw.displayName=s2;var o2="ToastDescription",xw=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(be.div,{...n,ref:t})});xw.displayName=o2;var ww="ToastAction",bw=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(jw,{altText:r,asChild:!0,children:a.jsx(Wp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ww}\`. Expected non-empty \`string\`.`),null)});bw.displayName=ww;var Sw="ToastClose",Wp=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=t2(Sw,r);return a.jsx(jw,{asChild:!0,children:a.jsx(be.button,{type:"button",...n,ref:t,onClick:xe(e.onClick,o.onClose)})})});Wp.displayName=Sw;var jw=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return a.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function Nw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),a2(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",l=n.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...Nw(n))}}),t}function xc(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?aw(o,l):o.dispatchEvent(l)}var Fy=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),l=n>o;return t==="left"||t==="right"?l&&n>r:!l&&o>r};function i2(e=()=>{}){const t=yt(e);mt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function a2(e){return e.nodeType===e.ELEMENT_NODE}function l2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $f(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var c2=hw,_w=mw,Ew=vw,Cw=yw,kw=xw,Pw=bw,Tw=Wp;function Rw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Rw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Aw(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Rw(e))&&(n&&(n+=" "),n+=t);return n}const $y=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,By=Aw,Ja=(e,t)=>r=>{var n;if(t?.variants==null)return By(e,r?.class,r?.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(h=>{const m=r?.[h],g=l?.[h];if(m===null)return null;const y=$y(m)||$y(g);return o[h][y]}),d=r&&Object.entries(r).reduce((h,m)=>{let[g,y]=m;return y===void 0||(h[g]=y),h},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:g,className:y,...w}=m;return Object.entries(w).every(N=>{let[b,j]=N;return Array.isArray(j)?j.includes({...l,...d}[b]):{...l,...d}[b]===j})?[...h,g,y]:h},[]);return By(e,c,f,r?.class,r?.className)};const u2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ow=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var d2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f2=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...d},f)=>v.createElement("svg",{ref:f,...d2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ow("lucide",o),...d},[...c.map(([h,m])=>v.createElement(h,m)),...Array.isArray(l)?l:[l]]));const _e=(e,t)=>{const r=v.forwardRef(({className:n,...o},l)=>v.createElement(f2,{ref:l,iconNode:t,className:Ow(`lucide-${u2(e)}`,n),...o}));return r.displayName=`${e}`,r};const Iw=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Bf=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const h2=_e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const qh=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const p2=_e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const m2=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const to=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Da=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const g2=_e("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const sn=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const mu=_e("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);const Dw=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const v2=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Ea=_e("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);const Pn=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const kn=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Mw=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Vp=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const y2=_e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Cn=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Lw=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Vc=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gu=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Uy=_e("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const x2=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const w2=_e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const vu=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const b2=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const S2=_e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const j2=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const N2=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const _2=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const E2=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const C2=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const an=_e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const k2=_e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const Hh=_e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const dr=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const zs=_e("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const P2=_e("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const T2=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const ho=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const qc=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const yu=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Fw=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const Kh=_e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const R2=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const $w=_e("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);const A2=_e("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);const Gh=_e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const qp=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const zy=_e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Ma=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Dt=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Wy=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const ro=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const yi=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const O2=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Hp="-",I2=e=>{const t=M2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const d=c.split(Hp);return d[0]===""&&d.length!==1&&d.shift(),Bw(d,t)||D2(c)},getConflictingClassGroupIds:(c,d)=>{const f=r[c]||[];return d&&n[c]?[...f,...n[c]]:f}}},Bw=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?Bw(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(Hp);return t.validators.find(({validator:c})=>c(l))?.classGroupId},Vy=/^\[(.+)\]$/,D2=e=>{if(Vy.test(e)){const t=Vy.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},M2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return F2(Object.entries(e.classGroups),r).forEach(([l,c])=>{Yh(c,n,l,t)}),n},Yh=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:qy(t,o);l.classGroupId=r;return}if(typeof o=="function"){if(L2(o)){Yh(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{Yh(c,qy(t,l),r,n)})})},qy=(e,t)=>{let r=e;return t.split(Hp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},L2=e=>e.isThemeGetter,F2=(e,t)=>t?e.map(([r,n])=>{const o=n.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,d])=>[t+c,d])):l);return[r,o]}):e,$2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(l,c)=>{r.set(l,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},Uw="!",B2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],l=t.length,c=d=>{const f=[];let h=0,m=0,g;for(let j=0;j<d.length;j++){let C=d[j];if(h===0){if(C===o&&(n||d.slice(j,j+l)===t)){f.push(d.slice(m,j)),m=j+l;continue}if(C==="/"){g=j;continue}}C==="["?h++:C==="]"&&h--}const y=f.length===0?d:d.substring(m),w=y.startsWith(Uw),N=w?y.substring(1):y,b=g&&g>m?g-m:void 0;return{modifiers:f,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:b}};return r?d=>r({className:d,parseClassName:c}):c},U2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},z2=e=>({cache:$2(e.cacheSize),parseClassName:B2(e),...I2(e)}),W2=/\s+/,V2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,l=[],c=e.trim().split(W2);let d="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{modifiers:m,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:w}=r(h);let N=!!w,b=n(N?y.substring(0,w):y);if(!b){if(!N){d=h+(d.length>0?" "+d:d);continue}if(b=n(y),!b){d=h+(d.length>0?" "+d:d);continue}N=!1}const j=U2(m).join(":"),C=g?j+Uw:j,E=C+b;if(l.includes(E))continue;l.push(E);const _=o(b,N);for(let P=0;P<_.length;++P){const T=_[P];l.push(C+T)}d=h+(d.length>0?" "+d:d)}return d};function q2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zw(t))&&(n&&(n+=" "),n+=r);return n}const zw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zw(e[n]))&&(r&&(r+=" "),r+=t);return r};function H2(e,...t){let r,n,o,l=c;function c(f){const h=t.reduce((m,g)=>g(m),e());return r=z2(h),n=r.cache.get,o=r.cache.set,l=d,d(f)}function d(f){const h=n(f);if(h)return h;const m=V2(f,r);return o(f,m),m}return function(){return l(q2.apply(null,arguments))}}const st=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ww=/^\[(?:([a-z-]+):)?(.+)\]$/i,K2=/^\d+\/\d+$/,G2=new Set(["px","full","screen"]),Y2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_n=e=>fi(e)||G2.has(e)||K2.test(e),ts=e=>ki(e,"length",ak),fi=e=>!!e&&!Number.isNaN(Number(e)),Uf=e=>ki(e,"number",fi),wa=e=>!!e&&Number.isInteger(Number(e)),ek=e=>e.endsWith("%")&&fi(e.slice(0,-1)),Me=e=>Ww.test(e),rs=e=>Y2.test(e),tk=new Set(["length","size","percentage"]),rk=e=>ki(e,tk,Vw),nk=e=>ki(e,"position",Vw),sk=new Set(["image","url"]),ok=e=>ki(e,sk,ck),ik=e=>ki(e,"",lk),ba=()=>!0,ki=(e,t,r)=>{const n=Ww.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ak=e=>Q2.test(e)&&!J2.test(e),Vw=()=>!1,lk=e=>X2.test(e),ck=e=>Z2.test(e),uk=()=>{const e=st("colors"),t=st("spacing"),r=st("blur"),n=st("brightness"),o=st("borderColor"),l=st("borderRadius"),c=st("borderSpacing"),d=st("borderWidth"),f=st("contrast"),h=st("grayscale"),m=st("hueRotate"),g=st("invert"),y=st("gap"),w=st("gradientColorStops"),N=st("gradientColorStopPositions"),b=st("inset"),j=st("margin"),C=st("opacity"),E=st("padding"),_=st("saturate"),P=st("scale"),T=st("sepia"),O=st("skew"),I=st("space"),B=st("translate"),V=()=>["auto","contain","none"],te=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Me,t],X=()=>[Me,t],$=()=>["",_n,ts],z=()=>["auto",fi,Me],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Me],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[fi,Me];return{cacheSize:500,separator:":",theme:{colors:[ba],spacing:[_n,ts],blur:["none","",rs,Me],brightness:M(),borderColor:[e],borderRadius:["none","","full",rs,Me],borderSpacing:X(),borderWidth:$(),contrast:M(),grayscale:G(),hueRotate:M(),invert:G(),gap:X(),gradientColorStops:[e],gradientColorStopPositions:[ek,ts],inset:ee(),margin:ee(),opacity:M(),padding:X(),saturate:M(),scale:M(),sepia:G(),skew:M(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[rs]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Me]}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wa,Me]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",wa,Me]}],"grid-cols":[{"grid-cols":[ba]}],"col-start-end":[{col:["auto",{span:["full",wa,Me]},Me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ba]}],"row-start-end":[{row:["auto",{span:[wa,Me]},Me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[rs]},rs]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",rs,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uf]}],"font-family":[{font:[ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",fi,Uf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_n,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_n,ts]}],"underline-offset":[{"underline-offset":["auto",_n,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),nk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ok]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:U()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[_n,Me]}],"outline-w":[{outline:[_n,ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[_n,ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",rs,ik]}],"shadow-color":[{shadow:[ba]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",rs,Me]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[_]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[wa,Me]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_n,ts,Uf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dk=H2(uk);function de(...e){return dk(Aw(e))}const fk=c2,qw=v.forwardRef(({className:e,...t},r)=>a.jsx(_w,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));qw.displayName=_w.displayName;const hk=Ja("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Hw=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(Ew,{ref:n,className:de(hk({variant:t}),e),...r}));Hw.displayName=Ew.displayName;const pk=v.forwardRef(({className:e,...t},r)=>a.jsx(Pw,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pk.displayName=Pw.displayName;const Kw=v.forwardRef(({className:e,...t},r)=>a.jsx(Tw,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(yi,{className:"h-4 w-4"})}));Kw.displayName=Tw.displayName;const Gw=v.forwardRef(({className:e,...t},r)=>a.jsx(Cw,{ref:r,className:de("text-sm font-semibold",e),...t}));Gw.displayName=Cw.displayName;const Yw=v.forwardRef(({className:e,...t},r)=>a.jsx(kw,{ref:r,className:de("text-sm opacity-90",e),...t}));Yw.displayName=kw.displayName;function mk(){const{toasts:e}=ft();return a.jsxs(fk,{children:[e.map(function({id:t,title:r,description:n,action:o,...l}){return a.jsxs(Hw,{...l,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Gw,{children:r}),n&&a.jsx(Yw,{children:n})]}),o,a.jsx(Kw,{})]},t)}),a.jsx(qw,{})]})}var Hy=["light","dark"],gk="(prefers-color-scheme: dark)",vk=v.createContext(void 0),yk={setTheme:e=>{},themes:[]},xk=()=>{var e;return(e=v.useContext(vk))!=null?e:yk};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:l,value:c,attrs:d,nonce:f})=>{let h=l==="system",m=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${d.map(N=>`'${N}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,g=o?Hy.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(N,b=!1,j=!0)=>{let C=c?c[N]:N,E=b?N+"|| ''":`'${C}'`,_="";return o&&j&&!b&&Hy.includes(N)&&(_+=`d.style.colorScheme = '${N}';`),r==="class"?b||C?_+=`c.add(${E})`:_+="null":C&&(_+=`d[s](n,${E})`),_},w=e?`!function(){${m}${y(e)}}()`:n?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${gk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${y(c?"x[e]":"e",!0)}}${h?"":"else{"+y(l,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${y(c?"x[e]":"e",!0)}}else{${y(l,!1,!1)};}${g}}catch(t){}}();`;return v.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:w}})});var wk=e=>{switch(e){case"success":return jk;case"info":return _k;case"warning":return Nk;case"error":return Ek;default:return null}},bk=Array(12).fill(0),Sk=({visible:e,className:t})=>ie.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ie.createElement("div",{className:"sonner-spinner"},bk.map((r,n)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),jk=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Nk=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_k=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ek=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ck=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kk=()=>{let[e,t]=ie.useState(document.hidden);return ie.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Qh=1,Pk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Qh++,l=this.toasts.find(d=>d.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:r}),{...d,...e,id:o,dismissible:c,title:r}):d):this.addToast({title:r,...n,dismissible:c,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=r!==void 0,l,c=n.then(async f=>{if(l=["resolve",f],ie.isValidElement(f))o=!1,this.create({id:r,type:"default",message:f});else if(Rk(f)&&!f.ok){o=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description;this.create({id:r,type:"error",message:h,description:m})}else if(t.success!==void 0){o=!1;let h=typeof t.success=="function"?await t.success(f):t.success,m=typeof t.description=="function"?await t.description(f):t.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async f=>{if(l=["reject",f],t.error!==void 0){o=!1;let h=typeof t.error=="function"?await t.error(f):t.error,m=typeof t.description=="function"?await t.description(f):t.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var f;o&&(this.dismiss(r),r=void 0),(f=t.finally)==null||f.call(t)}),d=()=>new Promise((f,h)=>c.then(()=>l[0]==="reject"?h(l[1]):f(l[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{let r=t?.id||Qh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xt=new Pk,Tk=(e,t)=>{let r=t?.id||Qh++;return Xt.addToast({title:e,...t,id:r}),r},Rk=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ak=Tk,Ok=()=>Xt.toasts,Ik=()=>Xt.getActiveToasts();Object.assign(Ak,{success:Xt.success,info:Xt.info,warning:Xt.warning,error:Xt.error,custom:Xt.custom,message:Xt.message,promise:Xt.promise,dismiss:Xt.dismiss,loading:Xt.loading},{getHistory:Ok,getToasts:Ik});function Dk(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Dk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wc(e){return e.label!==void 0}var Mk=3,Lk="32px",Fk="16px",Ky=4e3,$k=356,Bk=14,Uk=20,zk=200;function Or(...e){return e.filter(Boolean).join(" ")}function Wk(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Vk=e=>{var t,r,n,o,l,c,d,f,h,m,g;let{invert:y,toast:w,unstyled:N,interacting:b,setHeights:j,visibleToasts:C,heights:E,index:_,toasts:P,expanded:T,removeToast:O,defaultRichColors:I,closeButton:B,style:V,cancelButtonStyle:te,actionButtonStyle:ee,className:X="",descriptionClassName:$="",duration:z,position:q,gap:U,loadingIcon:ne,expandByDefault:K,classNames:G,icons:se,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:A}=e,[W,D]=ie.useState(null),[Y,ae]=ie.useState(null),[J,ue]=ie.useState(!1),[re,ge]=ie.useState(!1),[Pe,Ue]=ie.useState(!1),[Xe,Pt]=ie.useState(!1),[br,Sr]=ie.useState(!1),[jr,On]=ie.useState(0),[In,qr]=ie.useState(0),oe=ie.useRef(w.duration||z||Ky),Oe=ie.useRef(null),De=ie.useRef(null),Hr=_===0,mn=_+1<=C,Lt=w.type,Kr=w.dismissible!==!1,vo=w.className||"",il=w.descriptionClassName||"",Gr=ie.useMemo(()=>E.findIndex(Ae=>Ae.toastId===w.id)||0,[E,w.id]),bs=ie.useMemo(()=>{var Ae;return(Ae=w.closeButton)!=null?Ae:B},[w.closeButton,B]),al=ie.useMemo(()=>w.duration||z||Ky,[w.duration,z]),yo=ie.useRef(0),gn=ie.useRef(0),ll=ie.useRef(0),Yr=ie.useRef(null),[Li,Fi]=q.split("-"),xo=ie.useMemo(()=>E.reduce((Ae,He,Je)=>Je>=Gr?Ae:Ae+He.height,0),[E,Gr]),wo=kk(),Dn=w.invert||y,Qr=Lt==="loading";gn.current=ie.useMemo(()=>Gr*U+xo,[Gr,xo]),ie.useEffect(()=>{oe.current=al},[al]),ie.useEffect(()=>{ue(!0)},[]),ie.useEffect(()=>{let Ae=De.current;if(Ae){let He=Ae.getBoundingClientRect().height;return qr(He),j(Je=>[{toastId:w.id,height:He,position:w.position},...Je]),()=>j(Je=>Je.filter(Ft=>Ft.toastId!==w.id))}},[j,w.id]),ie.useLayoutEffect(()=>{if(!J)return;let Ae=De.current,He=Ae.style.height;Ae.style.height="auto";let Je=Ae.getBoundingClientRect().height;Ae.style.height=He,qr(Je),j(Ft=>Ft.find(Vt=>Vt.toastId===w.id)?Ft.map(Vt=>Vt.toastId===w.id?{...Vt,height:Je}:Vt):[{toastId:w.id,height:Je,position:w.position},...Ft])},[J,w.title,w.description,j,w.id]);let Nr=ie.useCallback(()=>{ge(!0),On(gn.current),j(Ae=>Ae.filter(He=>He.toastId!==w.id)),setTimeout(()=>{O(w)},zk)},[w,O,j,gn]);ie.useEffect(()=>{if(w.promise&&Lt==="loading"||w.duration===1/0||w.type==="loading")return;let Ae;return T||b||A&&wo?(()=>{if(ll.current<yo.current){let He=new Date().getTime()-yo.current;oe.current=oe.current-He}ll.current=new Date().getTime()})():oe.current!==1/0&&(yo.current=new Date().getTime(),Ae=setTimeout(()=>{var He;(He=w.onAutoClose)==null||He.call(w,w),Nr()},oe.current)),()=>clearTimeout(Ae)},[T,b,w,Lt,A,wo,Nr]),ie.useEffect(()=>{w.delete&&Nr()},[Nr,w.delete]);function cl(){var Ae,He,Je;return se!=null&&se.loading?ie.createElement("div",{className:Or(G?.loader,(Ae=w?.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Lt==="loading"},se.loading):ne?ie.createElement("div",{className:Or(G?.loader,(He=w?.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":Lt==="loading"},ne):ie.createElement(Sk,{className:Or(G?.loader,(Je=w?.classNames)==null?void 0:Je.loader),visible:Lt==="loading"})}return ie.createElement("li",{tabIndex:0,ref:De,className:Or(X,vo,G?.toast,(t=w?.classNames)==null?void 0:t.toast,G?.default,G?.[Lt],(r=w?.classNames)==null?void 0:r[Lt]),"data-sonner-toast":"","data-rich-colors":(n=w.richColors)!=null?n:I,"data-styled":!(w.jsx||w.unstyled||N),"data-mounted":J,"data-promise":!!w.promise,"data-swiped":br,"data-removed":re,"data-visible":mn,"data-y-position":Li,"data-x-position":Fi,"data-index":_,"data-front":Hr,"data-swiping":Pe,"data-dismissible":Kr,"data-type":Lt,"data-invert":Dn,"data-swipe-out":Xe,"data-swipe-direction":Y,"data-expanded":!!(T||K&&J),style:{"--index":_,"--toasts-before":_,"--z-index":P.length-_,"--offset":`${re?jr:gn.current}px`,"--initial-height":K?"auto":`${In}px`,...V,...w.style},onDragEnd:()=>{Ue(!1),D(null),Yr.current=null},onPointerDown:Ae=>{Qr||!Kr||(Oe.current=new Date,On(gn.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(Ue(!0),Yr.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,He,Je,Ft;if(Xe||!Kr)return;Yr.current=null;let Vt=Number(((Ae=De.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qt=Number(((He=De.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_r=new Date().getTime()-((Je=Oe.current)==null?void 0:Je.getTime()),Et=W==="x"?Vt:qt,Jr=Math.abs(Et)/_r;if(Math.abs(Et)>=Uk||Jr>.11){On(gn.current),(Ft=w.onDismiss)==null||Ft.call(w,w),ae(W==="x"?Vt>0?"right":"left":qt>0?"down":"up"),Nr(),Pt(!0),Sr(!1);return}Ue(!1),D(null)},onPointerMove:Ae=>{var He,Je,Ft,Vt;if(!Yr.current||!Kr||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;let qt=Ae.clientY-Yr.current.y,_r=Ae.clientX-Yr.current.x,Et=(Je=e.swipeDirections)!=null?Je:Wk(q);!W&&(Math.abs(_r)>1||Math.abs(qt)>1)&&D(Math.abs(_r)>Math.abs(qt)?"x":"y");let Jr={x:0,y:0};W==="y"?(Et.includes("top")||Et.includes("bottom"))&&(Et.includes("top")&&qt<0||Et.includes("bottom")&&qt>0)&&(Jr.y=qt):W==="x"&&(Et.includes("left")||Et.includes("right"))&&(Et.includes("left")&&_r<0||Et.includes("right")&&_r>0)&&(Jr.x=_r),(Math.abs(Jr.x)>0||Math.abs(Jr.y)>0)&&Sr(!0),(Ft=De.current)==null||Ft.style.setProperty("--swipe-amount-x",`${Jr.x}px`),(Vt=De.current)==null||Vt.style.setProperty("--swipe-amount-y",`${Jr.y}px`)}},bs&&!w.jsx?ie.createElement("button",{"aria-label":M,"data-disabled":Qr,"data-close-button":!0,onClick:Qr||!Kr?()=>{}:()=>{var Ae;Nr(),(Ae=w.onDismiss)==null||Ae.call(w,w)},className:Or(G?.closeButton,(o=w?.classNames)==null?void 0:o.closeButton)},(l=se?.close)!=null?l:Ck):null,w.jsx||v.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:ie.createElement(ie.Fragment,null,Lt||w.icon||w.promise?ie.createElement("div",{"data-icon":"",className:Or(G?.icon,(c=w?.classNames)==null?void 0:c.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||cl():null,w.type!=="loading"?w.icon||se?.[Lt]||wk(Lt):null):null,ie.createElement("div",{"data-content":"",className:Or(G?.content,(d=w?.classNames)==null?void 0:d.content)},ie.createElement("div",{"data-title":"",className:Or(G?.title,(f=w?.classNames)==null?void 0:f.title)},typeof w.title=="function"?w.title():w.title),w.description?ie.createElement("div",{"data-description":"",className:Or($,il,G?.description,(h=w?.classNames)==null?void 0:h.description)},typeof w.description=="function"?w.description():w.description):null),v.isValidElement(w.cancel)?w.cancel:w.cancel&&wc(w.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||te,onClick:Ae=>{var He,Je;wc(w.cancel)&&Kr&&((Je=(He=w.cancel).onClick)==null||Je.call(He,Ae),Nr())},className:Or(G?.cancelButton,(m=w?.classNames)==null?void 0:m.cancelButton)},w.cancel.label):null,v.isValidElement(w.action)?w.action:w.action&&wc(w.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||ee,onClick:Ae=>{var He,Je;wc(w.action)&&((Je=(He=w.action).onClick)==null||Je.call(He,Ae),!Ae.defaultPrevented&&Nr())},className:Or(G?.actionButton,(g=w?.classNames)==null?void 0:g.actionButton)},w.action.label):null))};function Gy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function qk(e,t){let r={};return[e,t].forEach((n,o)=>{let l=o===1,c=l?"--mobile-offset":"--offset",d=l?Fk:Lk;function f(h){["top","right","bottom","left"].forEach(m=>{r[`${c}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=d:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(d)}),r}var Hk=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:f,mobileOffset:h,theme:m="light",richColors:g,duration:y,style:w,visibleToasts:N=Mk,toastOptions:b,dir:j=Gy(),gap:C=Bk,loadingIcon:E,icons:_,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:T}=e,[O,I]=ie.useState([]),B=ie.useMemo(()=>Array.from(new Set([n].concat(O.filter(A=>A.position).map(A=>A.position)))),[O,n]),[V,te]=ie.useState([]),[ee,X]=ie.useState(!1),[$,z]=ie.useState(!1),[q,U]=ie.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=ie.useRef(null),K=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=ie.useRef(null),se=ie.useRef(!1),M=ie.useCallback(A=>{I(W=>{var D;return(D=W.find(Y=>Y.id===A.id))!=null&&D.delete||Xt.dismiss(A.id),W.filter(({id:Y})=>Y!==A.id)})},[]);return ie.useEffect(()=>Xt.subscribe(A=>{if(A.dismiss){I(W=>W.map(D=>D.id===A.id?{...D,delete:!0}:D));return}setTimeout(()=>{sw.flushSync(()=>{I(W=>{let D=W.findIndex(Y=>Y.id===A.id);return D!==-1?[...W.slice(0,D),{...W[D],...A},...W.slice(D+1)]:[A,...W]})})})}),[]),ie.useEffect(()=>{if(m!=="system"){U(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:W})=>{U(W?"dark":"light")})}catch{A.addListener(({matches:D})=>{try{U(D?"dark":"light")}catch(Y){console.error(Y)}})}},[m]),ie.useEffect(()=>{O.length<=1&&X(!1)},[O]),ie.useEffect(()=>{let A=W=>{var D,Y;o.every(ae=>W[ae]||W.code===ae)&&(X(!0),(D=ne.current)==null||D.focus()),W.code==="Escape"&&(document.activeElement===ne.current||(Y=ne.current)!=null&&Y.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[o]),ie.useEffect(()=>{if(ne.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,se.current=!1)}},[ne.current]),ie.createElement("section",{ref:t,"aria-label":`${P} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((A,W)=>{var D;let[Y,ae]=A.split("-");return O.length?ie.createElement("ol",{key:A,dir:j==="auto"?Gy():j,tabIndex:-1,ref:ne,className:d,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Y,"data-lifted":ee&&O.length>1&&!l,"data-x-position":ae,style:{"--front-toast-height":`${((D=V[0])==null?void 0:D.height)||0}px`,"--width":`${$k}px`,"--gap":`${C}px`,...w,...qk(f,h)},onBlur:J=>{se.current&&!J.currentTarget.contains(J.relatedTarget)&&(se.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||se.current||(se.current=!0,G.current=J.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{$||X(!1)},onDragEnd:()=>X(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},O.filter(J=>!J.position&&W===0||J.position===A).map((J,ue)=>{var re,ge;return ie.createElement(Vk,{key:J.id,icons:_,index:ue,toast:J,defaultRichColors:g,duration:(re=b?.duration)!=null?re:y,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:r,visibleToasts:N,closeButton:(ge=b?.closeButton)!=null?ge:c,interacting:$,position:A,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:M,toasts:O.filter(Pe=>Pe.position==J.position),heights:V.filter(Pe=>Pe.position==J.position),setHeights:te,expandByDefault:l,gap:C,loadingIcon:E,expanded:ee,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const Kk=({...e})=>{const{theme:t="system"}=xk();return a.jsx(Hk,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Gk=$p[" useId ".trim().toString()]||(()=>{}),Yk=0;function Wt(e){const[t,r]=v.useState(Gk());return mt(()=>{r(n=>n??String(Yk++))},[e]),t?`radix-${t}`:""}const Qk=["top","right","bottom","left"],fs=Math.min,lr=Math.max,Hc=Math.round,bc=Math.floor,ln=e=>({x:e,y:e}),Jk={left:"right",right:"left",bottom:"top",top:"bottom"},Xk={start:"end",end:"start"};function Jh(e,t,r){return lr(e,fs(t,r))}function Tn(e,t){return typeof e=="function"?e(t):e}function Rn(e){return e.split("-")[0]}function Pi(e){return e.split("-")[1]}function Kp(e){return e==="x"?"y":"x"}function Gp(e){return e==="y"?"height":"width"}const Zk=new Set(["top","bottom"]);function on(e){return Zk.has(Rn(e))?"y":"x"}function Yp(e){return Kp(on(e))}function eP(e,t,r){r===void 0&&(r=!1);const n=Pi(e),o=Yp(e),l=Gp(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Kc(c)),[c,Kc(c)]}function tP(e){const t=Kc(e);return[Xh(e),t,Xh(t)]}function Xh(e){return e.replace(/start|end/g,t=>Xk[t])}const Yy=["left","right"],Qy=["right","left"],rP=["top","bottom"],nP=["bottom","top"];function sP(e,t,r){switch(e){case"top":case"bottom":return r?t?Qy:Yy:t?Yy:Qy;case"left":case"right":return t?rP:nP;default:return[]}}function oP(e,t,r,n){const o=Pi(e);let l=sP(Rn(e),r==="start",n);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(Xh)))),l}function Kc(e){return e.replace(/left|right|bottom|top/g,t=>Jk[t])}function iP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qw(e){return typeof e!="number"?iP(e):{top:e,right:e,bottom:e,left:e}}function Gc(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Jy(e,t,r){let{reference:n,floating:o}=e;const l=on(t),c=Yp(t),d=Gp(c),f=Rn(t),h=l==="y",m=n.x+n.width/2-o.width/2,g=n.y+n.height/2-o.height/2,y=n[d]/2-o[d]/2;let w;switch(f){case"top":w={x:m,y:n.y-o.height};break;case"bottom":w={x:m,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:g};break;case"left":w={x:n.x-o.width,y:g};break;default:w={x:n.x,y:n.y}}switch(Pi(t)){case"start":w[c]-=y*(r&&h?-1:1);break;case"end":w[c]+=y*(r&&h?-1:1);break}return w}const aP=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:g}=Jy(h,n,f),y=n,w={},N=0;for(let b=0;b<d.length;b++){const{name:j,fn:C}=d[b],{x:E,y:_,data:P,reset:T}=await C({x:m,y:g,initialPlacement:n,placement:y,strategy:o,middlewareData:w,rects:h,platform:c,elements:{reference:e,floating:t}});m=E??m,g=_??g,w={...w,[j]:{...w[j],...P}},T&&N<=50&&(N++,typeof T=="object"&&(T.placement&&(y=T.placement),T.rects&&(h=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:m,y:g}=Jy(h,y,f)),b=-1)}return{x:m,y:g,placement:y,strategy:o,middlewareData:w}};async function La(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:w=0}=Tn(t,e),N=Qw(w),j=d[y?g==="floating"?"reference":"floating":g],C=Gc(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(j)))==null||r?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:f})),E=g==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),P=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},T=Gc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:_,strategy:f}):E);return{top:(C.top-T.top+N.top)/P.y,bottom:(T.bottom-C.bottom+N.bottom)/P.y,left:(C.left-T.left+N.left)/P.x,right:(T.right-C.right+N.right)/P.x}}const lP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:h,padding:m=0}=Tn(e,t)||{};if(h==null)return{};const g=Qw(m),y={x:r,y:n},w=Yp(o),N=Gp(w),b=await c.getDimensions(h),j=w==="y",C=j?"top":"left",E=j?"bottom":"right",_=j?"clientHeight":"clientWidth",P=l.reference[N]+l.reference[w]-y[w]-l.floating[N],T=y[w]-l.reference[w],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let I=O?O[_]:0;(!I||!await(c.isElement==null?void 0:c.isElement(O)))&&(I=d.floating[_]||l.floating[N]);const B=P/2-T/2,V=I/2-b[N]/2-1,te=fs(g[C],V),ee=fs(g[E],V),X=te,$=I-b[N]-ee,z=I/2-b[N]/2+B,q=Jh(X,z,$),U=!f.arrow&&Pi(o)!=null&&z!==q&&l.reference[N]/2-(z<X?te:ee)-b[N]/2<0,ne=U?z<X?z-X:z-$:0;return{[w]:y[w]+ne,data:{[w]:q,centerOffset:z-q-ne,...U&&{alignmentOffset:ne}},reset:U}}}),cP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...j}=Tn(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=Rn(o),E=on(d),_=Rn(d)===d,P=await(f.isRTL==null?void 0:f.isRTL(h.floating)),T=y||(_||!b?[Kc(d)]:tP(d)),O=N!=="none";!y&&O&&T.push(...oP(d,b,N,P));const I=[d,...T],B=await La(t,j),V=[];let te=((n=l.flip)==null?void 0:n.overflows)||[];if(m&&V.push(B[C]),g){const z=eP(o,c,P);V.push(B[z[0]],B[z[1]])}if(te=[...te,{placement:o,overflows:V}],!V.every(z=>z<=0)){var ee,X;const z=(((ee=l.flip)==null?void 0:ee.index)||0)+1,q=I[z];if(q&&(!(g==="alignment"?E!==on(q):!1)||te.every(K=>on(K.placement)===E?K.overflows[0]>0:!0)))return{data:{index:z,overflows:te},reset:{placement:q}};let U=(X=te.filter(ne=>ne.overflows[0]<=0).sort((ne,K)=>ne.overflows[1]-K.overflows[1])[0])==null?void 0:X.placement;if(!U)switch(w){case"bestFit":{var $;const ne=($=te.filter(K=>{if(O){const G=on(K.placement);return G===E||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,se)=>G+se,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:$[0];ne&&(U=ne);break}case"initialPlacement":U=d;break}if(o!==U)return{reset:{placement:U}}}return{}}}};function Xy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zy(e){return Qk.some(t=>e[t]>=0)}const uP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=Tn(e,t);switch(n){case"referenceHidden":{const l=await La(t,{...o,elementContext:"reference"}),c=Xy(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Zy(c)}}}case"escaped":{const l=await La(t,{...o,altBoundary:!0}),c=Xy(l,r.floating);return{data:{escapedOffsets:c,escaped:Zy(c)}}}default:return{}}}}},Jw=new Set(["left","top"]);async function dP(e,t){const{placement:r,platform:n,elements:o}=e,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=Rn(r),d=Pi(r),f=on(r)==="y",h=Jw.has(c)?-1:1,m=l&&f?-1:1,g=Tn(t,e);let{mainAxis:y,crossAxis:w,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof N=="number"&&(w=d==="end"?N*-1:N),f?{x:w*m,y:y*h}:{x:y*h,y:w*m}}const fP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:l,placement:c,middlewareData:d}=t,f=await dP(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},hP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:j=>{let{x:C,y:E}=j;return{x:C,y:E}}},...f}=Tn(e,t),h={x:r,y:n},m=await La(t,f),g=on(Rn(o)),y=Kp(g);let w=h[y],N=h[g];if(l){const j=y==="y"?"top":"left",C=y==="y"?"bottom":"right",E=w+m[j],_=w-m[C];w=Jh(E,w,_)}if(c){const j=g==="y"?"top":"left",C=g==="y"?"bottom":"right",E=N+m[j],_=N-m[C];N=Jh(E,N,_)}const b=d.fn({...t,[y]:w,[g]:N});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[y]:l,[g]:c}}}}}},pP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=Tn(e,t),m={x:r,y:n},g=on(o),y=Kp(g);let w=m[y],N=m[g];const b=Tn(d,t),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const _=y==="y"?"height":"width",P=l.reference[y]-l.floating[_]+j.mainAxis,T=l.reference[y]+l.reference[_]-j.mainAxis;w<P?w=P:w>T&&(w=T)}if(h){var C,E;const _=y==="y"?"width":"height",P=Jw.has(Rn(o)),T=l.reference[g]-l.floating[_]+(P&&((C=c.offset)==null?void 0:C[g])||0)+(P?0:j.crossAxis),O=l.reference[g]+l.reference[_]+(P?0:((E=c.offset)==null?void 0:E[g])||0)-(P?j.crossAxis:0);N<T?N=T:N>O&&(N=O)}return{[y]:w,[g]:N}}}},mP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...h}=Tn(e,t),m=await La(t,h),g=Rn(o),y=Pi(o),w=on(o)==="y",{width:N,height:b}=l.floating;let j,C;g==="top"||g==="bottom"?(j=g,C=y===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(C=g,j=y==="end"?"top":"bottom");const E=b-m.top-m.bottom,_=N-m.left-m.right,P=fs(b-m[j],E),T=fs(N-m[C],_),O=!t.middlewareData.shift;let I=P,B=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(B=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(I=E),O&&!y){const te=lr(m.left,0),ee=lr(m.right,0),X=lr(m.top,0),$=lr(m.bottom,0);w?B=N-2*(te!==0||ee!==0?te+ee:lr(m.left,m.right)):I=b-2*(X!==0||$!==0?X+$:lr(m.top,m.bottom))}await f({...t,availableWidth:B,availableHeight:I});const V=await c.getDimensions(d.floating);return N!==V.width||b!==V.height?{reset:{rects:!0}}:{}}}};function xu(){return typeof window<"u"}function Ti(e){return Xw(e)?(e.nodeName||"").toLowerCase():"#document"}function fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fn(e){var t;return(t=(Xw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Xw(e){return xu()?e instanceof Node||e instanceof fr(e).Node:!1}function $r(e){return xu()?e instanceof Element||e instanceof fr(e).Element:!1}function cn(e){return xu()?e instanceof HTMLElement||e instanceof fr(e).HTMLElement:!1}function ex(e){return!xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fr(e).ShadowRoot}const gP=new Set(["inline","contents"]);function Xa(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Br(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!gP.has(o)}const vP=new Set(["table","td","th"]);function yP(e){return vP.has(Ti(e))}const xP=[":popover-open",":modal"];function wu(e){return xP.some(t=>{try{return e.matches(t)}catch{return!1}})}const wP=["transform","translate","scale","rotate","perspective"],bP=["transform","translate","scale","rotate","perspective","filter"],SP=["paint","layout","strict","content"];function Qp(e){const t=Jp(),r=$r(e)?Br(e):e;return wP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||bP.some(n=>(r.willChange||"").includes(n))||SP.some(n=>(r.contain||"").includes(n))}function jP(e){let t=hs(e);for(;cn(t)&&!xi(t);){if(Qp(t))return t;if(wu(t))return null;t=hs(t)}return null}function Jp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NP=new Set(["html","body","#document"]);function xi(e){return NP.has(Ti(e))}function Br(e){return fr(e).getComputedStyle(e)}function bu(e){return $r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hs(e){if(Ti(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ex(e)&&e.host||fn(e);return ex(t)?t.host:t}function Zw(e){const t=hs(e);return xi(t)?e.ownerDocument?e.ownerDocument.body:e.body:cn(t)&&Xa(t)?t:Zw(t)}function Fa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=Zw(e),l=o===((n=e.ownerDocument)==null?void 0:n.body),c=fr(o);if(l){const d=Zh(c);return t.concat(c,c.visualViewport||[],Xa(o)?o:[],d&&r?Fa(d):[])}return t.concat(o,Fa(o,[],r))}function Zh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eb(e){const t=Br(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=cn(e),l=o?e.offsetWidth:r,c=o?e.offsetHeight:n,d=Hc(r)!==l||Hc(n)!==c;return d&&(r=l,n=c),{width:r,height:n,$:d}}function Xp(e){return $r(e)?e:e.contextElement}function hi(e){const t=Xp(e);if(!cn(t))return ln(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:l}=eb(t);let c=(l?Hc(r.width):r.width)/n,d=(l?Hc(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const _P=ln(0);function tb(e){const t=fr(e);return!Jp()||!t.visualViewport?_P:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fr(e)?!1:t}function no(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),l=Xp(e);let c=ln(1);t&&(n?$r(n)&&(c=hi(n)):c=hi(e));const d=EP(l,r,n)?tb(l):ln(0);let f=(o.left+d.x)/c.x,h=(o.top+d.y)/c.y,m=o.width/c.x,g=o.height/c.y;if(l){const y=fr(l),w=n&&$r(n)?fr(n):n;let N=y,b=Zh(N);for(;b&&n&&w!==N;){const j=hi(b),C=b.getBoundingClientRect(),E=Br(b),_=C.left+(b.clientLeft+parseFloat(E.paddingLeft))*j.x,P=C.top+(b.clientTop+parseFloat(E.paddingTop))*j.y;f*=j.x,h*=j.y,m*=j.x,g*=j.y,f+=_,h+=P,N=fr(b),b=Zh(N)}}return Gc({width:m,height:g,x:f,y:h})}function Su(e,t){const r=bu(e).scrollLeft;return t?t.left+r:no(fn(e)).left+r}function rb(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Su(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function CP(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const l=o==="fixed",c=fn(n),d=t?wu(t.floating):!1;if(n===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},h=ln(1);const m=ln(0),g=cn(n);if((g||!g&&!l)&&((Ti(n)!=="body"||Xa(c))&&(f=bu(n)),cn(n))){const w=no(n);h=hi(n),m.x=w.x+n.clientLeft,m.y=w.y+n.clientTop}const y=c&&!g&&!l?rb(c,f):ln(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+m.x+y.x,y:r.y*h.y-f.scrollTop*h.y+m.y+y.y}}function kP(e){return Array.from(e.getClientRects())}function PP(e){const t=fn(e),r=bu(e),n=e.ownerDocument.body,o=lr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=lr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Su(e);const d=-r.scrollTop;return Br(n).direction==="rtl"&&(c+=lr(t.clientWidth,n.clientWidth)-o),{width:o,height:l,x:c,y:d}}const tx=25;function TP(e,t){const r=fr(e),n=fn(e),o=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,d=0,f=0;if(o){l=o.width,c=o.height;const m=Jp();(!m||m&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const h=Su(n);if(h<=0){const m=n.ownerDocument,g=m.body,y=getComputedStyle(g),w=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,N=Math.abs(n.clientWidth-g.clientWidth-w);N<=tx&&(l-=N)}else h<=tx&&(l+=h);return{width:l,height:c,x:d,y:f}}const RP=new Set(["absolute","fixed"]);function AP(e,t){const r=no(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,l=cn(e)?hi(e):ln(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=o*l.x,h=n*l.y;return{width:c,height:d,x:f,y:h}}function rx(e,t,r){let n;if(t==="viewport")n=TP(e,r);else if(t==="document")n=PP(fn(e));else if($r(t))n=AP(t,r);else{const o=tb(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Gc(n)}function nb(e,t){const r=hs(e);return r===t||!$r(r)||xi(r)?!1:Br(r).position==="fixed"||nb(r,t)}function OP(e,t){const r=t.get(e);if(r)return r;let n=Fa(e,[],!1).filter(d=>$r(d)&&Ti(d)!=="body"),o=null;const l=Br(e).position==="fixed";let c=l?hs(e):e;for(;$r(c)&&!xi(c);){const d=Br(c),f=Qp(c);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&RP.has(o.position)||Xa(c)&&!f&&nb(e,c))?n=n.filter(m=>m!==c):o=d,c=hs(c)}return t.set(e,n),n}function IP(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?wu(t)?[]:OP(t,this._c):[].concat(r),n],d=c[0],f=c.reduce((h,m)=>{const g=rx(t,m,o);return h.top=lr(g.top,h.top),h.right=fs(g.right,h.right),h.bottom=fs(g.bottom,h.bottom),h.left=lr(g.left,h.left),h},rx(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function DP(e){const{width:t,height:r}=eb(e);return{width:t,height:r}}function MP(e,t,r){const n=cn(t),o=fn(t),l=r==="fixed",c=no(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=ln(0);function h(){f.x=Su(o)}if(n||!n&&!l)if((Ti(t)!=="body"||Xa(o))&&(d=bu(t)),n){const w=no(t,!0,l,t);f.x=w.x+t.clientLeft,f.y=w.y+t.clientTop}else o&&h();l&&!n&&o&&h();const m=o&&!n&&!l?rb(o,d):ln(0),g=c.left+d.scrollLeft-f.x-m.x,y=c.top+d.scrollTop-f.y-m.y;return{x:g,y,width:c.width,height:c.height}}function zf(e){return Br(e).position==="static"}function nx(e,t){if(!cn(e)||Br(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fn(e)===r&&(r=r.ownerDocument.body),r}function sb(e,t){const r=fr(e);if(wu(e))return r;if(!cn(e)){let o=hs(e);for(;o&&!xi(o);){if($r(o)&&!zf(o))return o;o=hs(o)}return r}let n=nx(e,t);for(;n&&yP(n)&&zf(n);)n=nx(n,t);return n&&xi(n)&&zf(n)&&!Qp(n)?r:n||jP(e)||r}const LP=async function(e){const t=this.getOffsetParent||sb,r=this.getDimensions,n=await r(e.floating);return{reference:MP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function FP(e){return Br(e).direction==="rtl"}const $P={convertOffsetParentRelativeRectToViewportRelativeRect:CP,getDocumentElement:fn,getClippingRect:IP,getOffsetParent:sb,getElementRects:LP,getClientRects:kP,getDimensions:DP,getScale:hi,isElement:$r,isRTL:FP};function ob(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BP(e,t){let r=null,n;const o=fn(e);function l(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const h=e.getBoundingClientRect(),{left:m,top:g,width:y,height:w}=h;if(d||t(),!y||!w)return;const N=bc(g),b=bc(o.clientWidth-(m+y)),j=bc(o.clientHeight-(g+w)),C=bc(m),_={rootMargin:-N+"px "+-b+"px "+-j+"px "+-C+"px",threshold:lr(0,fs(1,f))||1};let P=!0;function T(O){const I=O[0].intersectionRatio;if(I!==f){if(!P)return c();I?c(!1,I):n=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!ob(h,e.getBoundingClientRect())&&c(),P=!1}try{r=new IntersectionObserver(T,{..._,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,_)}r.observe(e)}return c(!0),l}function UP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Xp(e),m=o||l?[...h?Fa(h):[],...Fa(t)]:[];m.forEach(C=>{o&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const g=h&&d?BP(h,r):null;let y=-1,w=null;c&&(w=new ResizeObserver(C=>{let[E]=C;E&&E.target===h&&w&&(w.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(t)})),r()}),h&&!f&&w.observe(h),w.observe(t));let N,b=f?no(e):null;f&&j();function j(){const C=no(e);b&&!ob(b,C)&&r(),b=C,N=requestAnimationFrame(j)}return r(),()=>{var C;m.forEach(E=>{o&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),g?.(),(C=w)==null||C.disconnect(),w=null,f&&cancelAnimationFrame(N)}}const zP=fP,WP=hP,VP=cP,qP=mP,HP=uP,sx=lP,KP=pP,GP=(e,t,r)=>{const n=new Map,o={platform:$P,...r},l={...o.platform,_c:n};return aP(e,t,{...o,platform:l})};var YP=typeof document<"u",QP=function(){},Uc=YP?v.useLayoutEffect:QP;function Yc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Yc(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const l=o[n];if(!(l==="_owner"&&e.$$typeof)&&!Yc(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function ib(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ox(e,t){const r=ib(e);return Math.round(t*r)/r}function Wf(e){const t=v.useRef(e);return Uc(()=>{t.current=e}),t}function JP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[m,g]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,w]=v.useState(n);Yc(y,n)||w(n);const[N,b]=v.useState(null),[j,C]=v.useState(null),E=v.useCallback(K=>{K!==O.current&&(O.current=K,b(K))},[]),_=v.useCallback(K=>{K!==I.current&&(I.current=K,C(K))},[]),P=l||N,T=c||j,O=v.useRef(null),I=v.useRef(null),B=v.useRef(m),V=f!=null,te=Wf(f),ee=Wf(o),X=Wf(h),$=v.useCallback(()=>{if(!O.current||!I.current)return;const K={placement:t,strategy:r,middleware:y};ee.current&&(K.platform=ee.current),GP(O.current,I.current,K).then(G=>{const se={...G,isPositioned:X.current!==!1};z.current&&!Yc(B.current,se)&&(B.current=se,Ei.flushSync(()=>{g(se)}))})},[y,t,r,ee,X]);Uc(()=>{h===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(K=>({...K,isPositioned:!1})))},[h]);const z=v.useRef(!1);Uc(()=>(z.current=!0,()=>{z.current=!1}),[]),Uc(()=>{if(P&&(O.current=P),T&&(I.current=T),P&&T){if(te.current)return te.current(P,T,$);$()}},[P,T,$,te,V]);const q=v.useMemo(()=>({reference:O,floating:I,setReference:E,setFloating:_}),[E,_]),U=v.useMemo(()=>({reference:P,floating:T}),[P,T]),ne=v.useMemo(()=>{const K={position:r,left:0,top:0};if(!U.floating)return K;const G=ox(U.floating,m.x),se=ox(U.floating,m.y);return d?{...K,transform:"translate("+G+"px, "+se+"px)",...ib(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:se}},[r,d,U.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:$,refs:q,elements:U,floatingStyles:ne}),[m,$,q,U,ne])}const XP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?sx({element:n.current,padding:o}).fn(r):{}:n?sx({element:n,padding:o}).fn(r):{}}}},ZP=(e,t)=>({...zP(e),options:[e,t]}),eT=(e,t)=>({...WP(e),options:[e,t]}),tT=(e,t)=>({...KP(e),options:[e,t]}),rT=(e,t)=>({...VP(e),options:[e,t]}),nT=(e,t)=>({...qP(e),options:[e,t]}),sT=(e,t)=>({...HP(e),options:[e,t]}),oT=(e,t)=>({...XP(e),options:[e,t]});var iT="Arrow",ab=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...l}=e;return a.jsx(be.svg,{...l,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ab.displayName=iT;var aT=ab;function lb(e){const[t,r]=v.useState(void 0);return mt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,d=h.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Zp="Popper",[cb,Ri]=er(Zp),[lT,ub]=cb(Zp),db=e=>{const{__scopePopper:t,children:r}=e,[n,o]=v.useState(null);return a.jsx(lT,{scope:t,anchor:n,onAnchorChange:o,children:r})};db.displayName=Zp;var fb="PopperAnchor",hb=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,l=ub(fb,r),c=v.useRef(null),d=$e(t,c),f=v.useRef(null);return v.useEffect(()=>{const h=f.current;f.current=n?.current||c.current,h!==f.current&&l.onAnchorChange(f.current)}),n?null:a.jsx(be.div,{...o,ref:d})});hb.displayName=fb;var em="PopperContent",[cT,uT]=cb(em),pb=v.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:N,...b}=e,j=ub(em,r),[C,E]=v.useState(null),_=$e(t,J=>E(J)),[P,T]=v.useState(null),O=lb(P),I=O?.width??0,B=O?.height??0,V=n+(l!=="center"?"-"+l:""),te=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ee=Array.isArray(h)?h:[h],X=ee.length>0,$={padding:te,boundary:ee.filter(fT),altBoundary:X},{refs:z,floatingStyles:q,placement:U,isPositioned:ne,middlewareData:K}=JP({strategy:"fixed",placement:V,whileElementsMounted:(...J)=>UP(...J,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[ZP({mainAxis:o+B,alignmentAxis:c}),f&&eT({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?tT():void 0,...$}),f&&rT({...$}),nT({...$,apply:({elements:J,rects:ue,availableWidth:re,availableHeight:ge})=>{const{width:Pe,height:Ue}=ue.reference,Xe=J.floating.style;Xe.setProperty("--radix-popper-available-width",`${re}px`),Xe.setProperty("--radix-popper-available-height",`${ge}px`),Xe.setProperty("--radix-popper-anchor-width",`${Pe}px`),Xe.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),P&&oT({element:P,padding:d}),hT({arrowWidth:I,arrowHeight:B}),y&&sT({strategy:"referenceHidden",...$})]}),[G,se]=vb(U),M=yt(N);mt(()=>{ne&&M?.()},[ne,M]);const A=K.arrow?.x,W=K.arrow?.y,D=K.arrow?.centerOffset!==0,[Y,ae]=v.useState();return mt(()=>{C&&ae(window.getComputedStyle(C).zIndex)},[C]),a.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:ne?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(cT,{scope:r,placedSide:G,onArrowChange:T,arrowX:A,arrowY:W,shouldHideArrow:D,children:a.jsx(be.div,{"data-side":G,"data-align":se,...b,ref:_,style:{...b.style,animation:ne?void 0:"none"}})})})});pb.displayName=em;var mb="PopperArrow",dT={top:"bottom",right:"left",bottom:"top",left:"right"},gb=v.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,l=uT(mb,n),c=dT[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(aT,{...o,ref:r,style:{...o.style,display:"block"}})})});gb.displayName=mb;function fT(e){return e!==null}var hT=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=vb(r),g={start:"0%",center:"50%",end:"100%"}[m],y=(o.arrow?.x??0)+d/2,w=(o.arrow?.y??0)+f/2;let N="",b="";return h==="bottom"?(N=c?g:`${y}px`,b=`${-f}px`):h==="top"?(N=c?g:`${y}px`,b=`${n.floating.height+f}px`):h==="right"?(N=`${-f}px`,b=c?g:`${w}px`):h==="left"&&(N=`${n.floating.width+f}px`,b=c?g:`${w}px`),{data:{x:N,y:b}}}});function vb(e){const[t,r="center"]=e.split("-");return[t,r]}var yb=db,ju=hb,tm=pb,rm=gb,[Nu]=er("Tooltip",[Ri]),nm=Ri(),xb="TooltipProvider",pT=700,ix="tooltip.open",[mT,wb]=Nu(xb),bb=e=>{const{__scopeTooltip:t,delayDuration:r=pT,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:l}=e,c=v.useRef(!0),d=v.useRef(!1),f=v.useRef(0);return v.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),a.jsx(mT,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:v.useCallback(h=>{d.current=h},[]),disableHoverableContent:o,children:l})};bb.displayName=xb;var Sb="Tooltip",[y5,_u]=Nu(Sb),ep="TooltipTrigger",gT=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=_u(ep,r),l=wb(ep,r),c=nm(r),d=v.useRef(null),f=$e(t,d,o.onTriggerChange),h=v.useRef(!1),m=v.useRef(!1),g=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),a.jsx(ju,{asChild:!0,...c,children:a.jsx(be.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:f,onPointerMove:xe(e.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:xe(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:xe(e.onPointerDown,()=>{o.open&&o.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:xe(e.onFocus,()=>{h.current||o.onOpen()}),onBlur:xe(e.onBlur,o.onClose),onClick:xe(e.onClick,o.onClose)})})});gT.displayName=ep;var vT="TooltipPortal",[x5,yT]=Nu(vT,{forceMount:void 0}),wi="TooltipContent",jb=v.forwardRef((e,t)=>{const r=yT(wi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...l}=e,c=_u(wi,e.__scopeTooltip);return a.jsx(tr,{present:n||c.open,children:c.disableHoverableContent?a.jsx(Nb,{side:o,...l,ref:t}):a.jsx(xT,{side:o,...l,ref:t})})}),xT=v.forwardRef((e,t)=>{const r=_u(wi,e.__scopeTooltip),n=wb(wi,e.__scopeTooltip),o=v.useRef(null),l=$e(t,o),[c,d]=v.useState(null),{trigger:f,onClose:h}=r,m=o.current,{onPointerInTransitChange:g}=n,y=v.useCallback(()=>{d(null),g(!1)},[g]),w=v.useCallback((N,b)=>{const j=N.currentTarget,C={x:N.clientX,y:N.clientY},E=NT(C,j.getBoundingClientRect()),_=_T(C,E),P=ET(b.getBoundingClientRect()),T=kT([..._,...P]);d(T),g(!0)},[g]);return v.useEffect(()=>()=>y(),[y]),v.useEffect(()=>{if(f&&m){const N=j=>w(j,m),b=j=>w(j,f);return f.addEventListener("pointerleave",N),m.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",N),m.removeEventListener("pointerleave",b)}}},[f,m,w,y]),v.useEffect(()=>{if(c){const N=b=>{const j=b.target,C={x:b.clientX,y:b.clientY},E=f?.contains(j)||m?.contains(j),_=!CT(C,c);E?y():_&&(y(),h())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[f,m,c,h,y]),a.jsx(Nb,{...e,ref:l})}),[wT,bT]=Nu(Sb,{isInside:!1}),ST=iw("TooltipContent"),Nb=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,f=_u(wi,r),h=nm(r),{onClose:m}=f;return v.useEffect(()=>(document.addEventListener(ix,m),()=>document.removeEventListener(ix,m)),[m]),v.useEffect(()=>{if(f.trigger){const g=y=>{y.target?.contains(f.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,m]),a.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:a.jsxs(tm,{"data-state":f.stateAttribute,...h,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(ST,{children:n}),a.jsx(wT,{scope:r,isInside:!0,children:a.jsx(qC,{id:f.contentId,role:"tooltip",children:o||n})})]})})});jb.displayName=wi;var _b="TooltipArrow",jT=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=nm(r);return bT(_b,r).isInside?null:a.jsx(rm,{...o,...n,ref:t})});jT.displayName=_b;function NT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(r,n,o,l)){case l:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _T(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function ET(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function CT(e,t){const{x:r,y:n}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],h=d.x,m=d.y,g=f.x,y=f.y;m>n!=y>n&&r<(g-h)*(n-m)/(y-m)+h&&(o=!o)}return o}function kT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),PT(t)}function PT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TT=bb,Eb=jb;const RT=TT,AT=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(Eb,{ref:n,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));AT.displayName=Eb.displayName;var Eu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},OT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},IT=class{#e=OT;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},tp=new IT;function DT(e){setTimeout(e,0)}var Cu=typeof window>"u"||"Deno"in globalThis;function Mr(){}function MT(e,t){return typeof e=="function"?e(t):e}function LT(e){return typeof e=="number"&&e>=0&&e!==1/0}function FT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rp(e,t){return typeof e=="function"?e(t):e}function $T(e,t){return typeof e=="function"?e(t):e}function ax(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:l,queryKey:c,stale:d}=e;if(c){if(n){if(t.queryHash!==sm(c,t.options))return!1}else if(!Ba(t.queryKey,c))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function lx(e,t){const{exact:r,status:n,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if($a(t.options.mutationKey)!==$a(l))return!1}else if(!Ba(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function sm(e,t){return(t?.queryKeyHashFn||$a)(e)}function $a(e){return JSON.stringify(e,(t,r)=>np(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Ba(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ba(e[r],t[r])):!1}var BT=Object.prototype.hasOwnProperty;function Cb(e,t){if(e===t)return e;const r=cx(e)&&cx(t);if(!r&&!(np(e)&&np(t)))return t;const o=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),c=l.length,d=r?new Array(c):{};let f=0;for(let h=0;h<c;h++){const m=r?h:l[h],g=e[m],y=t[m];if(g===y){d[m]=g,(r?h<o:BT.call(e,m))&&f++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){d[m]=y;continue}const w=Cb(g,y);d[m]=w,w===g&&f++}return o===c&&f===o?e:d}function cx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function np(e){if(!ux(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ux(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ux(e){return Object.prototype.toString.call(e)==="[object Object]"}function UT(e){return new Promise(t=>{tp.setTimeout(t,e)})}function zT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Cb(e,t):t}function WT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function VT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var om=Symbol();function kb(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===om?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qT=class extends Eu{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Cu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Pb=new qT;function HT(){let e,t;const r=new Promise((o,l)=>{e=o,t=l});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}var KT=DT;function GT(){let e=[],t=0,r=d=>{d()},n=d=>{d()},o=KT;const l=d=>{t?e.push(d):o(()=>{r(d)})},c=()=>{const d=e;e=[],d.length&&o(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{o=d}}}var zt=GT(),YT=class extends Eu{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Cu&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Qc=new YT;function QT(e){return Math.min(1e3*2**e,3e4)}function Tb(e){return(e??"online")==="online"?Qc.isOnline():!0}var sp=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Rb(e){let t=!1,r=0,n;const o=HT(),l=()=>o.status!=="pending",c=b=>{if(!l()){const j=new sp(b);y(j),e.onCancel?.(j)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>Pb.isFocused()&&(e.networkMode==="always"||Qc.isOnline())&&e.canRun(),m=()=>Tb(e.networkMode)&&e.canRun(),g=b=>{l()||(n?.(),o.resolve(b))},y=b=>{l()||(n?.(),o.reject(b))},w=()=>new Promise(b=>{n=j=>{(l()||h())&&b(j)},e.onPause?.()}).then(()=>{n=void 0,l()||e.onContinue?.()}),N=()=>{if(l())return;let b;const j=r===0?e.initialPromise:void 0;try{b=j??e.fn()}catch(C){b=Promise.reject(C)}Promise.resolve(b).then(g).catch(C=>{if(l())return;const E=e.retry??(Cu?0:3),_=e.retryDelay??QT,P=typeof _=="function"?_(r,C):_,T=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(t||!T){y(C);return}r++,e.onFail?.(r,C),UT(P).then(()=>h()?void 0:w()).then(()=>{t?y(C):N()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(n?.(),o),cancelRetry:d,continueRetry:f,canStart:m,start:()=>(m()?N():w().then(N),o)}}var Ab=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LT(this.gcTime)&&(this.#e=tp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(tp.clearTimeout(this.#e),this.#e=void 0)}},JT=class extends Ab{#e;#t;#r;#s;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=dx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=dx(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=zT(this.state.data,e,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Mr).catch(Mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>$T(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===om||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>rp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!FT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},o=()=>{const d=kb(this.options,t),h=(()=>{const m={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(m),m})();return this.#a=!1,this.options.persister?this.options.persister(d,h,this):d(h)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return n(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#o({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=Rb({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof sp&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#o({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof sp){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#o({type:"error",error:d}),this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#o(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...XT(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function XT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function fx(e){return{onFetch:(t,r)=>{const n=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let m=!1;const g=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=kb(t.options,t.fetchOptions),w=async(N,b,j)=>{if(m)return Promise.reject();if(b==null&&N.pages.length)return Promise.resolve(N);const E=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:b,direction:j?"backward":"forward",meta:t.options.meta};return g(O),O})(),_=await y(E),{maxPages:P}=t.options,T=j?VT:WT;return{pages:T(N.pages,_,P),pageParams:T(N.pageParams,b,P)}};if(o&&l.length){const N=o==="backward",b=N?ZT:hx,j={pages:l,pageParams:c},C=b(n,j);d=await w(j,C,N)}else{const N=e??l.length;do{const b=f===0?c[0]??n.initialPageParam:hx(n,d);if(f>0&&b==null)break;d=await w(d,b),f++}while(f<N)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function hx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ZT(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var eR=class extends Ab{#e;#t;#r;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||tR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Rb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#n({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",o=!this.#s.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:o}),await this.#r.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:o})}const l=await this.#s.start();return await this.#r.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#r.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#n({type:"success",data:l}),l}catch(l){try{throw await this.#r.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#n({type:"error",error:l})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function tR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rR=class extends Eu{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new eR({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=Sc(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Sc(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Sc(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(o=>o.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Sc(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>lx(t,r))}findAll(e={}){return this.getAll().filter(t=>lx(e,t))}notify(e){zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Mr))))}};function Sc(e){return e.options.scope?.id}var nR=class extends Eu{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,o=t.queryHash??sm(n,t);let l=this.get(o);return l||(l=new JT({client:e,queryKey:n,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ax(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ax(e,r)):t}notify(e){zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sR=class{#e;#t;#r;#s;#n;#i;#a;#o;constructor(e={}){this.#e=e.queryCache||new nR,this.#t=e.mutationCache||new rR,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=Pb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Qc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(rp(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(n.queryHash)?.state.data,c=MT(t,l);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return zt.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zt.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Mr).catch(Mr)}invalidateQueries(e,t={}){return zt.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zt.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,r);return r.throwOnError||(l=l.catch(Mr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(Mr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(rp(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mr).catch(Mr)}fetchInfiniteQuery(e){return e.behavior=fx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mr).catch(Mr)}ensureInfiniteQueryData(e){return e.behavior=fx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set($a(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{Ba(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set($a(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ba(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===om&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},oR=v.createContext(void 0),iR=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(oR.Provider,{value:e,children:t}));function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}var cs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cs||(cs={}));const px="popstate";function aR(e){e===void 0&&(e={});function t(n,o){let{pathname:l,search:c,hash:d}=n.location;return op("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Ib(o)}return cR(t,r,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ob(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lR(){return Math.random().toString(36).substr(2,8)}function mx(e,t){return{usr:e.state,key:e.key,idx:t}}function op(e,t,r,n){return r===void 0&&(r=null),Ua({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ai(t):t,{state:r,key:t&&t.key||n||lR()})}function Ib(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ai(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cR(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:l=!1}=n,c=o.history,d=cs.Pop,f=null,h=m();h==null&&(h=0,c.replaceState(Ua({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function g(){d=cs.Pop;let j=m(),C=j==null?null:j-h;h=j,f&&f({action:d,location:b.location,delta:C})}function y(j,C){d=cs.Push;let E=op(b.location,j,C);h=m()+1;let _=mx(E,h),P=b.createHref(E);try{c.pushState(_,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(P)}l&&f&&f({action:d,location:b.location,delta:1})}function w(j,C){d=cs.Replace;let E=op(b.location,j,C);h=m();let _=mx(E,h),P=b.createHref(E);c.replaceState(_,"",P),l&&f&&f({action:d,location:b.location,delta:0})}function N(j){let C=o.location.origin!=="null"?o.location.origin:o.location.href,E=typeof j=="string"?j:Ib(j);return E=E.replace(/ $/,"%20"),xt(C,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,C)}let b={get action(){return d},get location(){return e(o,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(px,g),f=j,()=>{o.removeEventListener(px,g),f=null}},createHref(j){return t(o,j)},createURL:N,encodeLocation(j){let C=N(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:w,go(j){return c.go(j)}};return b}var gx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gx||(gx={}));function uR(e,t,r){return r===void 0&&(r="/"),dR(e,t,r)}function dR(e,t,r,n){let o=typeof t=="string"?Ai(t):t,l=Lb(o.pathname||"/",r);if(l==null)return null;let c=Db(e);fR(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=NR(l);d=bR(c[f],h)}return d}function Db(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(xt(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Vs([n,f.relativePath]),m=r.concat(f);l.children&&l.children.length>0&&(xt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Db(l.children,t,m,h)),!(l.path==null&&!l.index)&&t.push({path:h,score:xR(h,l.index),routesMeta:m})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let f of Mb(l.path))o(l,c,f)}),t}function Mb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let c=Mb(n.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function fR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hR=/^:[\w-]+$/,pR=3,mR=2,gR=1,vR=10,yR=-2,vx=e=>e==="*";function xR(e,t){let r=e.split("/"),n=r.length;return r.some(vx)&&(n+=yR),t&&(n+=mR),r.filter(o=>!vx(o)).reduce((o,l)=>o+(hR.test(l)?pR:l===""?gR:vR),n)}function wR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function bR(e,t,r){let{routesMeta:n}=e,o={},l="/",c=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",g=SR({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),y=f.route;if(!g)return null;Object.assign(o,g.params),c.push({params:o,pathname:Vs([l,g.pathname]),pathnameBase:kR(Vs([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=Vs([l,g.pathnameBase]))}return c}function SR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jR(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:n.reduce((h,m,g)=>{let{paramName:y,isOptional:w}=m;if(y==="*"){let b=d[g]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const N=d[g];return w&&!N?h[y]=void 0:h[y]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function jR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ob(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function NR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ob(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _R(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Ai(e):e;return{pathname:r?r.startsWith("/")?r:ER(r,t):t,search:PR(n),hash:TR(o)}}function ER(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Vf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fb(e,t){let r=CR(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $b(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=Ai(e):(o=Ua({},e),xt(!o.pathname||!o.pathname.includes("?"),Vf("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),Vf("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),Vf("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=r;else{let g=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;o.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=_R(o,d),h=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}const Vs=e=>e.join("/").replace(/\/\/+/g,"/"),kR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bb=["post","put","patch","delete"];new Set(Bb);const AR=["get",...Bb];new Set(AR);function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},za.apply(this,arguments)}const im=v.createContext(null),OR=v.createContext(null),Za=v.createContext(null),ku=v.createContext(null),ms=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Ub=v.createContext(null);function el(){return v.useContext(ku)!=null}function tl(){return el()||xt(!1),v.useContext(ku).location}function zb(e){v.useContext(Za).static||v.useLayoutEffect(e)}function IR(){let{isDataRoute:e}=v.useContext(ms);return e?YR():DR()}function DR(){el()||xt(!1);let e=v.useContext(im),{basename:t,future:r,navigator:n}=v.useContext(Za),{matches:o}=v.useContext(ms),{pathname:l}=tl(),c=JSON.stringify(Fb(o,r.v7_relativeSplatPath)),d=v.useRef(!1);return zb(()=>{d.current=!0}),v.useCallback(function(h,m){if(m===void 0&&(m={}),!d.current)return;if(typeof h=="number"){n.go(h);return}let g=$b(h,JSON.parse(c),l,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Vs([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,c,l,e])}const MR=v.createContext(null);function LR(e){let t=v.useContext(ms).outlet;return t&&v.createElement(MR.Provider,{value:e},t)}function FR(e,t){return $R(e,t)}function $R(e,t,r,n){el()||xt(!1);let{navigator:o}=v.useContext(Za),{matches:l}=v.useContext(ms),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=tl(),m;if(t){var g;let j=typeof t=="string"?Ai(t):t;f==="/"||(g=j.pathname)!=null&&g.startsWith(f)||xt(!1),m=j}else m=h;let y=m.pathname||"/",w=y;if(f!=="/"){let j=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=uR(e,{pathname:w}),b=VR(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Vs([f,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:Vs([f,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return t&&b?v.createElement(ku.Provider,{value:{location:za({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:cs.Pop}},b):b}function BR(){let e=GR(),t=RR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:o},r):null,null)}const UR=v.createElement(BR,null);class zR extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(ms.Provider,{value:this.props.routeContext},v.createElement(Ub.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WR(e){let{routeContext:t,match:r,children:n}=e,o=v.useContext(im);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(ms.Provider,{value:t},n)}function VR(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,d=(o=r)==null?void 0:o.errors;if(d!=null){let m=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);m>=0||xt(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let g=c[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:y,errors:w}=r,N=g.route.loader&&y[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||N){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,g,y)=>{let w,N=!1,b=null,j=null;r&&(w=d&&g.route.id?d[g.route.id]:void 0,b=g.route.errorElement||UR,f&&(h<0&&y===0?(QR("route-fallback"),N=!0,j=null):h===y&&(N=!0,j=g.route.hydrateFallbackElement||null)));let C=t.concat(c.slice(0,y+1)),E=()=>{let _;return w?_=b:N?_=j:g.route.Component?_=v.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=m,v.createElement(WR,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:r!=null},children:_})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?v.createElement(zR,{location:r.location,revalidation:r.revalidation,component:b,error:w,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}var Wb=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Wb||{}),Vb=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Vb||{});function qR(e){let t=v.useContext(im);return t||xt(!1),t}function HR(e){let t=v.useContext(OR);return t||xt(!1),t}function KR(e){let t=v.useContext(ms);return t||xt(!1),t}function qb(e){let t=KR(),r=t.matches[t.matches.length-1];return r.route.id||xt(!1),r.route.id}function GR(){var e;let t=v.useContext(Ub),r=HR(),n=qb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function YR(){let{router:e}=qR(Wb.UseNavigateStable),t=qb(Vb.UseNavigateStable),r=v.useRef(!1);return zb(()=>{r.current=!0}),v.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,za({fromRouteId:t},l)))},[e,t])}const yx={};function QR(e,t,r){yx[e]||(yx[e]=!0)}function JR(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Hb(e){let{to:t,replace:r,state:n,relative:o}=e;el()||xt(!1);let{future:l,static:c}=v.useContext(Za),{matches:d}=v.useContext(ms),{pathname:f}=tl(),h=IR(),m=$b(t,Fb(d,l.v7_relativeSplatPath),f,o==="path"),g=JSON.stringify(m);return v.useEffect(()=>h(JSON.parse(g),{replace:r,state:n,relative:o}),[h,g,o,r,n]),null}function XR(e){return LR(e.context)}function Ut(e){xt(!1)}function ZR(e){let{basename:t="/",children:r=null,location:n,navigationType:o=cs.Pop,navigator:l,static:c=!1,future:d}=e;el()&&xt(!1);let f=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:f,navigator:l,static:c,future:za({v7_relativeSplatPath:!1},d)}),[f,d,l,c]);typeof n=="string"&&(n=Ai(n));let{pathname:m="/",search:g="",hash:y="",state:w=null,key:N="default"}=n,b=v.useMemo(()=>{let j=Lb(m,f);return j==null?null:{location:{pathname:j,search:g,hash:y,state:w,key:N},navigationType:o}},[f,m,g,y,w,N,o]);return b==null?null:v.createElement(Za.Provider,{value:h},v.createElement(ku.Provider,{children:r,value:b}))}function eA(e){let{children:t,location:r}=e;return FR(ip(t),r)}new Promise(()=>{});function ip(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,o)=>{if(!v.isValidElement(n))return;let l=[...t,o];if(n.type===v.Fragment){r.push.apply(r,ip(n.props.children,l));return}n.type!==Ut&&xt(!1),!n.props.index||!n.props.children||xt(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ip(n.props.children,l)),r.push(c)}),r}const tA="6";try{window.__reactRouterVersion=tA}catch{}const rA="startTransition",xx=$p[rA];function nA(e){let{basename:t,children:r,future:n,window:o}=e,l=v.useRef();l.current==null&&(l.current=aR({window:o,v5Compat:!0}));let c=l.current,[d,f]=v.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=v.useCallback(g=>{h&&xx?xx(()=>f(g)):f(g)},[f,h]);return v.useLayoutEffect(()=>c.listen(m),[c,m]),v.useEffect(()=>JR(n),[n]),v.createElement(ZR,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:c,future:n})}var wx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wx||(wx={}));var bx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bx||(bx={}));const am=Ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-light shadow-card hover:shadow-card-hover",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary-light shadow-card hover:shadow-card-hover",warning:"bg-warning text-warning-foreground hover:bg-warning-light shadow-card hover:shadow-card-hover",success:"bg-success text-success-foreground hover:bg-success/90 shadow-card hover:shadow-card-hover",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-card hover:shadow-card-hover",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-hero text-primary-foreground hover:opacity-90 shadow-card-hover font-semibold",gradient:"bg-gradient-primary text-primary-foreground hover:opacity-90 shadow-card hover:shadow-card-hover"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},l)=>{const c=n?SC:"button";return a.jsx(c,{className:de(am({variant:t,size:r,className:e})),ref:l,...o})});pe.displayName="Button";var ap=function(e,t){return ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},ap(e,t)};function Kb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ap(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xr=function(){return xr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},xr.apply(this,arguments)};function gs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Gb(e,t,r,n){var o=arguments.length,l=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,r,n);else for(var d=e.length-1;d>=0;d--)(c=e[d])&&(l=(o<3?c(l):o>3?c(t,r,l):c(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l}function Yb(e,t){return function(r,n){t(r,n,e)}}function Qb(e,t,r,n,o,l){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=n.kind,f=d==="getter"?"get":d==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,m=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),g,y=!1,w=r.length-1;w>=0;w--){var N={};for(var b in n)N[b]=b==="access"?{}:n[b];for(var b in n.access)N.access[b]=n.access[b];N.addInitializer=function(C){if(y)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(C||null))};var j=(0,r[w])(d==="accessor"?{get:m.get,set:m.set}:m[f],N);if(d==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(g=c(j.get))&&(m.get=g),(g=c(j.set))&&(m.set=g),(g=c(j.init))&&o.unshift(g)}else(g=c(j))&&(d==="field"?o.unshift(g):m[f]=g)}h&&Object.defineProperty(h,n.name,m),y=!0}function Jb(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function Xb(e){return typeof e=="symbol"?e:"".concat(e)}function Zb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function e1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function je(e,t,r,n){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(m){try{h(n.next(m))}catch(g){c(g)}}function f(m){try{h(n.throw(m))}catch(g){c(g)}}function h(m){m.done?l(m.value):o(m.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}function t1(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,o,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(h){return function(m){return f([h,m])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,o&&(l=h[0]&2?o.return:h[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,h[1])).done)return l;switch(o=0,l&&(h=[h[0]&2,l.value]),h[0]){case 0:case 1:l=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,o=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!l||h[1]>l[0]&&h[1]<l[3])){r.label=h[1];break}if(h[0]===6&&r.label<l[1]){r.label=l[1],l=h;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(h);break}l[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(m){h=[6,m],o=0}finally{n=l=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Pu=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function r1(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pu(t,e,r)}function Jc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lm(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,l=[],c;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)l.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return l}function n1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lm(arguments[t]));return e}function s1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var l=arguments[t],c=0,d=l.length;c<d;c++,o++)n[o]=l[c];return n}function cm(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,l;n<o;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}function bi(e){return this instanceof bi?(this.v=e,this):new bi(e)}function o1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(N){return Promise.resolve(N).then(w,g)}}function d(w,N){n[w]&&(o[w]=function(b){return new Promise(function(j,C){l.push([w,b,j,C])>1||f(w,b)})},N&&(o[w]=N(o[w])))}function f(w,N){try{h(n[w](N))}catch(b){y(l[0][3],b)}}function h(w){w.value instanceof bi?Promise.resolve(w.value.v).then(m,g):y(l[0][2],w)}function m(w){f("next",w)}function g(w){f("throw",w)}function y(w,N){w(N),l.shift(),l.length&&f(l[0][0],l[0][1])}}function i1(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,l){t[o]=e[o]?function(c){return(r=!r)?{value:bi(e[o](c)),done:!1}:l?l(c):c}:l}}function a1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Jc=="function"?Jc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=e[l]&&function(c){return new Promise(function(d,f){c=e[l](c),o(d,f,c.done,c.value)})}}function o(l,c,d,f){Promise.resolve(f).then(function(h){l({value:h,done:d})},c)}}function l1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var sA=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},lp=function(e){return lp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},lp(e)};function c1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=lp(e),n=0;n<r.length;n++)r[n]!=="default"&&Pu(t,e,r[n]);return sA(t,e),t}function u1(e){return e&&e.__esModule?e:{default:e}}function d1(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function f1(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function h1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function p1(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var oA=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function m1(e){function t(l){e.error=e.hasError?new oA(l,e.error,"An error was suppressed during disposal."):l,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(o,function(c){return t(c),o()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function g1(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,l,c){return n?t?".jsx":".js":o&&(!l||!c)?r:o+l+"."+c.toLowerCase()+"js"}):e}const iA={__extends:Kb,__assign:xr,__rest:gs,__decorate:Gb,__param:Yb,__esDecorate:Qb,__runInitializers:Jb,__propKey:Xb,__setFunctionName:Zb,__metadata:e1,__awaiter:je,__generator:t1,__createBinding:Pu,__exportStar:r1,__values:Jc,__read:lm,__spread:n1,__spreadArrays:s1,__spreadArray:cm,__await:bi,__asyncGenerator:o1,__asyncDelegator:i1,__asyncValues:a1,__makeTemplateObject:l1,__importStar:c1,__importDefault:u1,__classPrivateFieldGet:d1,__classPrivateFieldSet:f1,__classPrivateFieldIn:h1,__addDisposableResource:p1,__disposeResources:m1,__rewriteRelativeImportExtension:g1},aA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:p1,get __assign(){return xr},__asyncDelegator:i1,__asyncGenerator:o1,__asyncValues:a1,__await:bi,__awaiter:je,__classPrivateFieldGet:d1,__classPrivateFieldIn:h1,__classPrivateFieldSet:f1,__createBinding:Pu,__decorate:Gb,__disposeResources:m1,__esDecorate:Qb,__exportStar:r1,__extends:Kb,__generator:t1,__importDefault:u1,__importStar:c1,__makeTemplateObject:l1,__metadata:e1,__param:Yb,__propKey:Xb,__read:lm,__rest:gs,__rewriteRelativeImportExtension:g1,__runInitializers:Jb,__setFunctionName:Zb,__spread:n1,__spreadArray:cm,__spreadArrays:s1,__values:Jc,default:iA},Symbol.toStringTag,{value:"Module"})),lA="modulepreload",cA=function(e){return"/"+e},Sx={},Oi=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var c=h;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");o=h(r.map(m=>{if(m=cA(m),m in Sx)return;Sx[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":lA,g||(w.as="script"),w.crossOrigin="",w.href=m,f&&w.setAttribute("nonce",f),document.head.appendChild(w),g)return new Promise((N,b)=>{w.addEventListener("load",N),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})},uA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oi(async()=>{const{default:n}=await Promise.resolve().then(()=>po);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class um extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class jx extends um{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nx extends um{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _x extends um{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cp||(cp={}));class dA{constructor(t,{headers:r={},customFetch:n,region:o=cp.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=uA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return je(this,arguments,void 0,function*(r,n={}){var o;try{const{headers:l,method:c,body:d,signal:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;const w=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:y,signal:f}).catch(C=>{throw C.name==="AbortError"?C:new jx(C)}),N=w.headers.get("x-relay-error");if(N&&N==="true")throw new Nx(w);if(!w.ok)throw new _x(w);let b=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield w.json():b==="application/octet-stream"||b==="application/pdf"?j=yield w.blob():b==="text/event-stream"?j=w:b==="multipart/form-data"?j=yield w.formData():j=yield w.text(),{data:j,error:null,response:w}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new jx(l)}:{data:null,error:l,response:l instanceof _x||l instanceof Nx?l.context:void 0}}})}}var It={};const Ii=rw(aA);var jc={},Nc={},_c={},Ec={},Cc={},fA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Si=fA();const hA=Si.fetch,v1=Si.fetch.bind(Si),y1=Si.Headers,pA=Si.Request,mA=Si.Response,po=Object.freeze(Object.defineProperty({__proto__:null,Headers:y1,Request:pA,Response:mA,default:v1,fetch:hA},Symbol.toStringTag,{value:"Module"})),gA=rw(po);var kc={},Ex;function x1(){if(Ex)return kc;Ex=1,Object.defineProperty(kc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return kc.default=e,kc}var Cx;function w1(){if(Cx)return Cc;Cx=1,Object.defineProperty(Cc,"__esModule",{value:!0});const e=Ii,t=e.__importDefault(gA),r=e.__importDefault(x1());class n{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,g,y,w;let N=null,b=null,j=null,C=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const O=await h.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?b=O:b=JSON.parse(O))}const P=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");P&&T&&T.length>1&&(j=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(N={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,j=null,C=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const P=await h.text();try{N=JSON.parse(P),Array.isArray(N)&&h.status===404&&(b=[],N=null,C=200,E="OK")}catch{h.status===404&&P===""?(C=204,E="No Content"):N={message:P}}if(N&&this.isMaybeSingle&&(!((w=N?.details)===null||w===void 0)&&w.includes("0 rows"))&&(N=null,C=200,E="OK"),N&&this.shouldThrowOnError)throw new r.default(N)}return{error:N,data:b,count:j,status:C,statusText:E}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,g,y;return{error:{message:`${(m=h?.name)!==null&&m!==void 0?m:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=h?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return Cc.default=n,Cc}var kx;function b1(){if(kx)return Ec;kx=1,Object.defineProperty(Ec,"__esModule",{value:!0});const t=Ii.__importDefault(w1());class r extends t.default{select(o){let l=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var m;const g=[o?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ec.default=r,Ec}var Px;function dm(){if(Px)return _c;Px=1,Object.defineProperty(_c,"__esModule",{value:!0});const t=Ii.__importDefault(b1());class r extends t.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${h}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return _c.default=r,_c}var Tx;function S1(){if(Tx)return Nc;Tx=1,Object.defineProperty(Nc,"__esModule",{value:!0});const t=Ii.__importDefault(dm());class r{constructor(o,{headers:l={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(o,l){const{head:c=!1,count:d}=l??{},f=c?"HEAD":"GET";let h=!1;const m=(o??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var d;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const h=o.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(g.length>0){const y=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(o,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Nc.default=r,Nc}var Rx;function vA(){if(Rx)return jc;Rx=1,Object.defineProperty(jc,"__esModule",{value:!0});const e=Ii,t=e.__importDefault(S1()),r=e.__importDefault(dm());class n{constructor(l,{headers:c={},schema:d,fetch:f}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(l){const c=new URL(`${this.url}/${l}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new n(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:f=!1,count:h}={}){var m;let g;const y=new URL(`${this.url}/rpc/${l}`);let w;d||f?(g=d?"HEAD":"GET",Object.entries(c).filter(([b,j])=>j!==void 0).map(([b,j])=>[b,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([b,j])=>{y.searchParams.append(b,j)})):(g="POST",w=c);const N=new Headers(this.headers);return h&&N.set("Prefer",`count=${h}`),new r.default({method:g,url:y,headers:N,schema:this.schemaName,body:w,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return jc.default=n,jc}var Ax;function yA(){if(Ax)return It;Ax=1,Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const e=Ii,t=e.__importDefault(vA());It.PostgrestClient=t.default;const r=e.__importDefault(S1());It.PostgrestQueryBuilder=r.default;const n=e.__importDefault(dm());It.PostgrestFilterBuilder=n.default;const o=e.__importDefault(b1());It.PostgrestTransformBuilder=o.default;const l=e.__importDefault(w1());It.PostgrestBuilder=l.default;const c=e.__importDefault(x1());return It.PostgrestError=c.default,It.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},It}var xA=yA();const wA=du(xA),{PostgrestClient:bA,PostgrestQueryBuilder:w5,PostgrestFilterBuilder:b5,PostgrestTransformBuilder:S5,PostgrestBuilder:j5,PostgrestError:N5}=wA;class SA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jA="2.76.1",NA=`realtime-js/${jA}`,_A="1.0.0",up=1e4,EA=1e3,CA=100;var Aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Aa||(Aa={}));var St;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(St||(St={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var dp;(function(e){e.websocket="websocket"})(dp||(dp={}));var $s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($s||($s={}));class kA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+l));c=c+l;const h=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class j1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const Ox=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=PA(c,e,t,o),l),{}):{}},PA=(e,t,r,n)=>{const o=t.find(d=>d.name===e),l=o?.type,c=r[e];return l&&!n.includes(l)?N1(l,c):fp(c)},N1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return OA(t,r)}switch(e){case et.bool:return TA(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return RA(t);case et.json:case et.jsonb:return AA(t);case et.timestamp:return IA(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return fp(t);default:return fp(t)}},fp=e=>e,TA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let l;const c=e.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>N1(t,d))}return e},IA=e=>typeof e=="string"?e.replace(" ","T"):e,_1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class qf{constructor(t,r,n={},o=up){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ix;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ix||(Ix={}));class Oa{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oa.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=Oa.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Oa.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const l=this.cloneDeep(t),c=this.transformState(r),d={},f={};return this.map(l,(h,m)=>{c[h]||(f[h]=m)}),this.map(c,(h,m)=>{const g=l[h];if(g){const y=m.map(j=>j.presence_ref),w=g.map(j=>j.presence_ref),N=m.filter(j=>w.indexOf(j.presence_ref)<0),b=g.filter(j=>y.indexOf(j.presence_ref)<0);N.length>0&&(d[h]=N),b.length>0&&(f[h]=b)}else d[h]=m}),this.syncDiff(l,{joins:d,leaves:f},n,o)}static syncDiff(t,r,n,o){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(l,(d,f)=>{var h;const m=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),m.length>0){const g=t[d].map(w=>w.presence_ref),y=m.filter(w=>g.indexOf(w.presence_ref)<0);t[d].unshift(...y)}n(d,m,f)}),this.map(c,(d,f)=>{let h=t[d];if(!h)return;const m=f.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),t[d]=h,o(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dx||(Dx={}));var Ia;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ia||(Ia={}));var En;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class fm{constructor(t,r={config:{}},n){var o,l;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qf(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new j1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Oa(this),this.broadcastEndpointURL=_1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,h=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Ia.PRESENCE]&&this.bindings[Ia.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},y={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(En.CHANNEL_ERROR,w)),this._onClose(()=>t?.(En.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var N;if(this.socket.setAuth(),w===void 0){t?.(En.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,j=(N=b?.length)!==null&&N!==void 0?N:0,C=[];for(let E=0;E<j;E++){const _=b[E],{filter:{event:P,schema:T,table:O,filter:I}}=_,B=w&&w[E];if(B&&B.event===P&&B.schema===T&&B.table===O&&B.filter===I)C.push(Object.assign(Object.assign({},_),{id:B.id}));else{this.unsubscribe(),this.state=St.errored,t?.(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(En.SUBSCRIBED);return}}).receive("error",w=>{this.state=St.errored,t?.(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===St.joined&&t===Ia.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=St.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new qf(this,Fr.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=St.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,l=setTimeout(()=>o.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new qf(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>CA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,l;const c=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:m}=Fr;if(n&&[d,f,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let y=this._onMessage(c,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var N,b,j;return((N=w.filter)===null||N===void 0?void 0:N.event)==="*"||((j=(b=w.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===c}).map(w=>w.callback(y,n)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var N,b,j,C,E,_;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const P=w.id,T=(N=w.filter)===null||N===void 0?void 0:N.event;return P&&((b=r.ids)===null||b===void 0?void 0:b.includes(P))&&(T==="*"||T?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const P=(E=(C=w?.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return P==="*"||P===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof y=="object"&&"ids"in y){const N=y.data,{schema:b,table:j,commit_timestamp:C,type:E,errors:_}=N;y=Object.assign(Object.assign({},{schema:b,table:j,commit_timestamp:C,eventType:E,new:{},old:{},errors:_}),this._getPayloadRecords(N))}w.callback(y,n)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),l={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&fm.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ox(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ox(t.columns,t.old_record)),r}}const Hf=()=>{},Pc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DA=[1e3,2e3,5e3,1e4],MA=1e4,LA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=up,this.transport=null,this.heartbeatIntervalMs=Pc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hf,this.ref=0,this.reconnectTimer=null,this.logger=Hf,this.conn=null,this.sendBuffer=[],this.serializer=new kA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>Oi(async()=>{const{default:d}=await Promise.resolve().then(()=>po);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${dp.websocket}`,this.httpEndpoint=_1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_A}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return $s.Connecting;case Aa.open:return $s.Open;case Aa.closing:return $s.Closing;default:return $s.Closed}}isConnected(){return this.connectionState()===$s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===n);if(o)return o;{const l=new fm(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:n,payload:o,ref:l}=t,c=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(EA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Pc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:l,ref:c}=r,d=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${n} ${o} ${d}`.trim(),l),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(o,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([LA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:NA};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(Fr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new j1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,l,c,d,f,h,m;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:up,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Pc.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Hf,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(g=>DA[g-1]||MA),this.encode=(h=t?.encode)!==null&&h!==void 0?h:((g,y)=>y(JSON.stringify(g))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class hm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $A extends hm{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hp extends hm{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const pm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oi(async()=>{const{default:n}=await Promise.resolve().then(()=>po);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},BA=()=>je(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oi(()=>Promise.resolve().then(()=>po),void 0)).Response:Response}),pp=e=>{if(Array.isArray(e))return e.map(r=>pp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=pp(n)}),t},UA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zA=(e,t,r)=>je(void 0,void 0,void 0,function*(){const n=yield BA();e instanceof n&&!r?.noResolveJson?e.json().then(o=>{const l=e.status||500,c=o?.statusCode||l+"";t(new $A(Kf(o),l,c))}).catch(o=>{t(new hp(Kf(o),o))}):t(new hp(Kf(e),e))}),WA=(e,t,r,n)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!n?o:(UA(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(n)):o.body=n,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r))};function rl(e,t,r,n,o,l){return je(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,WA(t,n,o,l)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>zA(f,d,n))})})}function Wa(e,t,r,n){return je(this,void 0,void 0,function*(){return rl(e,"GET",t,r,n)})}function Lr(e,t,r,n,o){return je(this,void 0,void 0,function*(){return rl(e,"POST",t,n,o,r)})}function mp(e,t,r,n,o){return je(this,void 0,void 0,function*(){return rl(e,"PUT",t,n,o,r)})}function VA(e,t,r,n){return je(this,void 0,void 0,function*(){return rl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mm(e,t,r,n,o){return je(this,void 0,void 0,function*(){return rl(e,"DELETE",t,n,o,r)})}class qA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return je(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var E1;class HA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[E1]="BlobDownloadBuilder",this.promise=null}asStream(){return new qA(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return je(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}E1=Symbol.toStringTag;const KA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GA{constructor(t,r={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=pm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,o){return je(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Mx),o);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),g=yield(t=="PUT"?mp:Lr)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}upload(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return je(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:Mx.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield mp(this.fetch,d.toString(),f,{headers:m});return{data:{path:l,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield Lr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new hm("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}copy(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield Lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return je(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),l=yield Lr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return je(this,void 0,void 0,function*(){try{const o=yield Lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}download(t,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(t),f=()=>Wa(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new HA(f,this.shouldThrowOnError)}info(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Wa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield VA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof hp){const o=n.originalError;if([400,404].includes(o?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${h}`)}}}remove(t){return je(this,void 0,void 0,function*(){try{return{data:yield mm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return je(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},KA),r),{prefix:t||""});return{data:yield Lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}listV2(t,r){return je(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Lr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const C1="2.76.1",k1={"X-Client-Info":`storage-js/${C1}`};class YA{constructor(t,r={},n,o){this.shouldThrowOnError=!1;const l=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k1),r),this.fetch=pm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return je(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(t){return je(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Lr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return je(this,void 0,void 0,function*(){try{return{data:yield mp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield mm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}class QA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k1),r),this.fetch=pm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(t){return je(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),o=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,l=yield Wa(this.fetch,o,{headers:this.headers});return{data:Array.isArray(l)?l.filter(d=>d.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield mm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}const gm={"X-Client-Info":`storage-js/${C1}`,"Content-Type":"application/json"};class P1 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function cr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Gf extends P1{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class JA extends P1{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Lx;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Lx||(Lx={}));const vm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oi(async()=>{const{default:n}=await Promise.resolve().then(()=>po);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},XA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZA=(e,t,r)=>je(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const o=e.status||500,l=e;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||o+"";t(new Gf(Fx(c),o,d))}).catch(()=>{const c=o+"",d=l.statusText||`HTTP ${o} error`;t(new Gf(d,o,c))});else{const c=o+"",d=l.statusText||`HTTP ${o} error`;t(new Gf(d,o,c))}}else t(new JA(Fx(e),e))}),eO=(e,t,r,n)=>{const o={method:e,headers:t?.headers||{}};return n?(XA(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(n)):o.body=n,Object.assign(Object.assign({},o),r)):o};function tO(e,t,r,n,o,l){return je(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,eO(t,n,o,l)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>ZA(f,d,n))})})}function ur(e,t,r,n,o){return je(this,void 0,void 0,function*(){return tO(e,"POST",t,n,o,r)})}class rO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),r),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return je(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return je(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cr(n))return{data:null,error:n};throw n}})}listIndexes(t){return je(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return je(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cr(n))return{data:null,error:n};throw n}})}}class nO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),r),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return je(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ur(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}getVectors(t){return je(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}listVectors(t){return je(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ur(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}queryVectors(t){return je(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return je(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ur(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}}class sO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),r),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return je(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}getBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}listBuckets(){return je(this,arguments,void 0,function*(t={}){try{return{data:yield ur(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return je(this,void 0,void 0,function*(){try{return{data:(yield ur(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cr(r))return{data:null,error:r};throw r}})}}class oO extends sO{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new iO(this.url,this.headers,t,this.fetch)}}class iO extends rO{constructor(t,r,n,o){super(t,r,o),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return je(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return je(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return je(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return je(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new aO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class aO extends nO{constructor(t,r,n,o,l){super(t,r,l),this.vectorBucketName=n,this.indexName=o}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return je(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return je(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return je(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return je(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return je(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lO extends YA{constructor(t,r={},n,o){super(t,r,n,o)}from(t){return new GA(this.url,this.headers,t,this.fetch)}get vectors(){return new oO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new QA(this.url+"/iceberg",this.headers,this.fetch)}}const cO="2.76.1";let Ca="";typeof Deno<"u"?Ca="deno":typeof document<"u"?Ca="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ca="react-native":Ca="node";const uO={"X-Client-Info":`supabase-js-${Ca}/${cO}`},dO={headers:uO},fO={schema:"public"},hO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pO={},mO=e=>{let t;return e?t=e:typeof fetch>"u"?t=v1:t=fetch,(...r)=>t(...r)},gO=()=>typeof Headers>"u"?y1:Headers,vO=(e,t,r)=>{const n=mO(r),o=gO();return async(l,c)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new o(c?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(l,Object.assign(Object.assign({},c),{headers:h}))}};function yO(e){return e.endsWith("/")?e:e+"/"}function xO(e,t){var r,n;const{db:o,auth:l,realtime:c,global:d}=e,{db:f,auth:h,realtime:m,global:g}=t,y={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},h),l),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function wO(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const T1="2.76.1",Zo=30*1e3,gp=3,Yf=gp*Zo,bO="http://localhost:9999",SO="supabase.auth.token",jO={"X-Client-Info":`gotrue-js/${T1}`},vp="X-Supabase-Api-Version",R1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_O=600*1e3;class Va extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class EO extends Va{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function CO(e){return ke(e)&&e.name==="AuthApiError"}class Bs extends Va{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vs extends Va{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class is extends vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kO(e){return ke(e)&&e.name==="AuthSessionMissingError"}class Wo extends vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tc extends vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rc extends vs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PO(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class $x extends vs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yp extends vs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qf(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class Bx extends vs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xp extends vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ux=` 	
\r=`.split(""),TO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ux.length;t+=1)e[Ux[t].charCodeAt(0)]=-2;for(let t=0;t<Xc.length;t+=1)e[Xc[t].charCodeAt(0)]=t;return e})();function zx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xc[n]),t.queuedBits-=6}}function A1(e,t,r){const n=TO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wx(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{OO(c,n,r)};for(let c=0;c<e.length;c+=1)A1(e.charCodeAt(c),o,l);return t.join("")}function RO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}RO(n,t)}}function OO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function pi(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)A1(e.charCodeAt(o),r,n);return new Uint8Array(t)}function IO(e){const t=[];return AO(e,r=>t.push(r)),new Uint8Array(t)}function Ws(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>zx(o,r,n)),zx(null,r,n),t.join("")}function DO(e){return Math.round(Date.now()/1e3)+e}function MO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},O1=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function LO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const I1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Oi(async()=>{const{default:n}=await Promise.resolve().then(()=>po);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ei=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ms=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ns=async(e,t)=>{await e.removeItem(t)};class Tu{constructor(){this.promise=new Tu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Tu.promiseConstructor=Promise;function Jf(e){const t=e.split(".");if(t.length!==3)throw new xp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NO.test(t[n]))throw new xp("JWT not in base64url format");return{header:JSON.parse(Wx(t[0])),payload:JSON.parse(Wx(t[1])),signature:pi(t[2]),raw:{header:t[0],payload:t[1]}}}async function $O(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BO(e,t){return new Promise((n,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){n(c);return}}catch(c){if(!t(l,c)){o(c);return}}})()})}function UO(e){return("0"+e.toString(16)).substr(-2)}function zO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,UO).join("")}async function WO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function VO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await WO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vo(e,t,r=!1){const n=zO();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await ei(e,`${t}-code-verifier`,o);const l=await VO(n);return[l,n===l?"plain":"s256"]}const qO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HO(e){const t=e.headers.get(vp);if(!t||!t.match(qO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qo(e){if(!YO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vx(e){return JSON.parse(JSON.stringify(e))}const Ls=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QO=[502,503,504];async function qx(e){var t;if(!FO(e))throw new yp(Ls(e),0);if(QO.includes(e.status))throw new yp(Ls(e),e.status);let r;try{r=await e.json()}catch(l){throw new Bs(Ls(l),l)}let n;const o=HO(e);if(o&&o.getTime()>=R1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bx(Ls(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new is}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Bx(Ls(r),e.status,r.weak_password.reasons);throw new EO(Ls(r),e.status||500,n)}const JO=(e,t,r,n)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function Ie(e,t,r,n){var o;const l=Object.assign({},n?.headers);l[vp]||(l[vp]=R1["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const c=(o=n?.query)!==null&&o!==void 0?o:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await XO(e,t,r+d,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function XO(e,t,r,n,o,l){const c=JO(t,n,o,l);let d;try{d=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new yp(Ls(f),0)}if(d.ok||await qx(d),n?.noResolveJson)return d;try{return await d.json()}catch(f){await qx(f)}}function Ir(e){var t;let r=null;tI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Hx(e){const t=Ir(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ls(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZO(e){return{data:e,error:null}}function eI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l}=e,c=gs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function Kx(e){return e}function tI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zf=["global","local","others"];class rI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=I1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Zf[0]){if(Zf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zf.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ls})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=gs(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n?.newEmail,delete o.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:eI,redirectTo:r?.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ls})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,l,c,d,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Kx});if(m.error)throw m.error;const g=await m.json(),y=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(N=>{const b=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);h[`${j}Page`]=b}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(ke(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){qo(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ls})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){qo(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ls})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){qo(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ls})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){qo(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){qo(t.userId),qo(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,o,l,c,d,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Kx});if(m.error)throw m.error;const g=await m.json(),y=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(N=>{const b=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);h[`${j}Page`]=b}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(ke(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function Gx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ho={debug:!!(globalThis&&O1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nI extends D1{}async function sI(e,t,r){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ho.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function oI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function M1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function iI(e){return parseInt(e,16)}function aI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function lI(e){var t;const{chainId:r,domain:n,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:f,resources:h,scheme:m,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=M1(e.address),N=m?`${m}://${n}`:n,b=e.statement?`${e.statement}
`:"",j=`${N} wants you to sign in with your Ethereum account:
${w}

${b}`;let C=`URI: ${g}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),f&&(C+=`
Request ID: ${f}`),h){let E=`
Resources:`;for(const _ of h){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);E+=`
- ${_}`}C+=E}return`${j}
${C}`}class vt extends Error{constructor({message:t,code:r,cause:n,name:o}){var l;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=o??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Zc extends vt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function cI({error:e,options:t}){var r,n,o;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(L1(c)){if(l.rp.id!==c)return new vt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(L1(n)){if(r.rpId!==n)return new vt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fI=new dI;function hI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=gs(e,["challenge","user","excludeCredentials"]),l=pi(t).buffer,c=Object.assign(Object.assign({},r),{id:pi(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:pi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function pI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=gs(e,["challenge","allowCredentials"]),o=pi(t).buffer,l=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:pi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function mI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ws(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ws(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ws(new Uint8Array(o.authenticatorData)),clientDataJSON:Ws(new Uint8Array(o.clientDataJSON)),signature:Ws(new Uint8Array(o.signature)),userHandle:o.userHandle?Ws(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function L1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Yx(){var e,t;return!!(ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zc("Browser returned unexpected credential type",t)}:{data:null,error:new Zc("Empty credential response",t)}}catch(t){return{data:null,error:cI({error:t,options:e})}}}async function yI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zc("Browser returned unexpected credential type",t)}:{data:null,error:new Zc("Empty credential response",t)}}catch(t){return{data:null,error:uI({error:t,options:e})}}}const xI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},wI={userVerification:"preferred",hints:["security-key"]};function eu(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of e)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))n[l]=c;else if(r(c))n[l]=c;else if(t(c)){const d=n[l];t(d)?n[l]=eu(d,c):n[l]=eu(c)}else n[l]=c}return n}function bI(e,t){return eu(xI,e,t||{})}function SI(e,t){return eu(wI,e,t||{})}class jI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:d};const f=o??fI.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=bI(c.webauthn.credential_options.publicKey,l?.create),{data:m,error:g}=await vI({publicKey:h,signal:f});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=SI(c.webauthn.credential_options.publicKey,l?.request),{data:m,error:g}=await yI(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:f}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(c){return ke(c)?{data:null,error:c}:{data:null,error:new Bs("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new Va("rpId is required for WebAuthn authentication")};try{if(!Yx())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(c){return ke(c)?{data:null,error:c}:{data:null,error:new Bs("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new Va("rpId is required for WebAuthn registration")};try{if(!Yx())return{data:null,error:new Bs("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(c){return ke(c)?{data:null,error:c}:{data:null,error:new Bs("Unexpected error in register",c)}}}}oI();const NI={url:bO,storageKey:SO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qx(e,t,r){return await r()}const Ko={};class qa{get jwks(){var t,r;return(r=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qa.nextInstanceID,qa.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},NI),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=I1(o.fetch),this.lock=o.lock||Qx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ar()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=sI:this.lock=Qx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jI(this)},this.persistSession?(o.storage?this.storage=o.storage:O1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gx(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Gx(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${T1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=LO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ar()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),PO(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?{error:r}:{error:new Bs("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const l=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ir}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(ke(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var r,n,o;try{let l;if("email"in t){const{email:m,password:g,options:y}=t;let w=null,N=null;this.flowType==="pkce"&&([w,N]=await Vo(this.storage,this.storageKey)),l=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:N},xform:Ir})}else if("phone"in t){const{phone:m,password:g,options:y}=t;l=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(o=y?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ir})}else throw new Tc("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(ke(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:d}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Hx})}else if("phone"in t){const{phone:l,password:c,options:d}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Hx})}else throw new Tc("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,o,l,c,d,f,h,m,g,y;let w,N;if("message"in t)w=t.message,N=t.signature;else{const{chain:b,wallet:j,statement:C,options:E}=t;let _;if(ar())if(typeof j=="object")_=j;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")_=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=j}const P=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),T=await _.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=M1(T[0]);let I=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const V=await _.request({method:"eth_chainId"});I=iI(V)}const B={domain:P.host,address:O,statement:C,uri:P.href,version:"1",chainId:I,nonce:(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.resources};w=lI(B),N=await _.request({method:"personal_sign",params:[aI(w),O]})}try{const{data:b,error:j}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:N},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ir});if(j)throw j;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Wo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:j})}catch(b){if(ke(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,n,o,l,c,d,f,h,m,g,y,w;let N,b;if("message"in t)N=t.message,b=t.signature;else{const{chain:j,wallet:C,statement:E,options:_}=t;let P;if(ar())if(typeof C=="object")P=C;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))P=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const T=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const O=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let I;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")I=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)I=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)N=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),b=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${T.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(o=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=_?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((f=_?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((h=_?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((g=(m=_?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",..._.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const O=await P.signMessage(new TextEncoder().encode(N),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=O}}try{const{data:j,error:C}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Ws(b)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ir});if(C)throw C;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Wo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:C})}catch(j){if(ke(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await Ms(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ir});if(await ns(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Wo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(ke(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:l,nonce:c}=t,d=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ir}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Wo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,l,c;try{if("email"in t){const{email:d,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Vo(this.storage,this.storageKey));const{error:g}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:m}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new Tc("You must provide either an email or phone number.")}catch(d){if(ke(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,n;try{let o,l;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Ir});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Vo(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:ZO})}catch(l){if(ke(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new is;const{error:o}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:l}=t,{error:c}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:o,options:l}=t,{data:c,error:d}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Tc("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Yf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Ms(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Xf()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,m)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,m))})}return{data:{session:t},error:null}}const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ls}):await this._useSession(async r=>{var n,o,l;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new is}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:ls})})}catch(r){if(ke(r))return kO(r)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:l}=n;if(l)throw l;if(!o.session)throw new is;const c=o.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Vo(this.storage,this.storageKey));const{data:h,error:m}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:ls});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new is;const r=Date.now()/1e3;let n=r,o=!0,l=null;const{payload:c}=Jf(t.access_token);if(c.exp&&(n=c.exp,o=n<=r),o){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new is;const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ar())throw new Rc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $x("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $x("No code detected.");const{data:E,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:h}=t;if(!l||!d||!c||!h)throw new Rc("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(d);let y=m+g;f&&(y=parseInt(f));const w=y-m;w*1e3<=Zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const N=y-g;m-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,y,m):m-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,y,m);const{data:b,error:j}=await this._getUser(l);if(j)throw j;const C={provider_token:n,provider_refresh_token:o,access_token:l,expires_in:g,expires_at:y,refresh_token:c,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(n){if(ke(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{error:l};const c=(n=o.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(CO(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=MO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:l},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await Vo(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ke(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:o}=await this._useSession(async l=>{var c,d,f,h,m;const{data:g,error:y}=l;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(ke(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:c,provider:d,token:f,access_token:h,nonce:m}=t,g=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ir}),{data:y,error:w}=g;return w?{data:{user:null,session:null},error:w}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Wo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:w})}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)throw c;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BO(async o=>(o>0&&await $O(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ir})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Qf(l)&&Date.now()+c-n<Zo})}catch(n){if(this._debug(r,"error",n),ke(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await Ms(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ei(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:Xf()}else if(o&&!o.user&&!o.user){const c=await Ms(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await ns(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,o)):o.user=Xf()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yf;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Yf}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Qf(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tu;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new is;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ke(l)){const c={data:null,error:l};return Qf(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ei(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Vx(o);await ei(this.storage,this.storageKey,l)}else{const o=Vx(r);await ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/Zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Zo}ms, refresh threshold is ${gp} ticks`),o<=gp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,c]=await Vo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);o.push(l.toString())}return n?.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;return l?{data:null,error:l}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:l,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?mI(t.webauthn.credential_response):gI(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:l}=r;if(l)return{data:null,error:l};const c=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:hI(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:pI(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:l}=t;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Jf(o.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+_O>o)return n;const{data:l,error:c}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,n=l.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:N}=await this.getSession();if(N||!w.session)return{data:null,error:N};n=w.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:f}}=Jf(n);r?.allowExpired||KO(l.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:l,header:o,signature:c},error:null}}const m=GO(o.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,c,IO(`${d}.${f}`)))throw new xp("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}qa.nextInstanceID=0;const _I=qa;class EI extends _I{constructor(t){super(t)}}class CI{constructor(t,r,n){var o,l,c;this.supabaseUrl=t,this.supabaseKey=r;const d=wO(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:fO,realtime:pO,auth:Object.assign(Object.assign({},hO),{storageKey:f}),global:dO},m=xO(n??{},h);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=vO(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new bA(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new lO(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new dA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:c,flowType:d,lock:f,debug:h},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EI({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,flowType:d,lock:f,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new FA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kI=(e,t,r)=>new CI(e,t,r);function PI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}PI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TI="https://imnecvcvhypnlvujajpn.supabase.co",RI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbmVjdmN2aHlwbmx2dWphanBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2OTI4NzMsImV4cCI6MjA3MTI2ODg3M30.NEeQADbjV6kTF2mZfESk2rbpyoFPa3aQzWZ4rgddUoI",he=kI(TI,RI,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),F1=v.createContext(void 0),AI=({children:e})=>{const[t,r]=v.useState(null),[n,o]=v.useState(null),[l,c]=v.useState(!0);v.useEffect(()=>{const{data:{subscription:g}}=he.auth.onAuthStateChange((y,w)=>{o(w),r(w?.user??null),c(!1)});return he.auth.getSession().then(({data:{session:y}})=>{o(y),r(y?.user??null),c(!1)}),()=>g.unsubscribe()},[]);const m={user:t,session:n,loading:l,signUp:async(g,y,w)=>{const N=`${window.location.origin}/`,{error:b}=await he.auth.signUp({email:g,password:y,options:{emailRedirectTo:N,data:w?{display_name:w}:void 0}});return{error:b}},signIn:async(g,y)=>{const{error:w}=await he.auth.signInWithPassword({email:g,password:y});return{error:w}},signOut:async()=>{await he.auth.signOut()}};return a.jsx(F1.Provider,{value:m,children:e})},hn=()=>{const e=v.useContext(F1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function OI(){const[e,t]=v.useState("light");v.useEffect(()=>{const n=localStorage.getItem("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,l=n||(o?"dark":"light");t(l),document.documentElement.classList.toggle("dark",l==="dark")},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return a.jsx(pe,{variant:"ghost",size:"icon",onClick:r,className:"w-9 h-9",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?a.jsx(C2,{className:"h-4 w-4"}):a.jsx(R2,{className:"h-4 w-4"})})}const Di=()=>{const{user:e}=hn(),[t,r]=v.useState([]),[n,o]=v.useState(null),[l,c]=v.useState(!0);v.useEffect(()=>{if(!e){r([]),o(null),c(!1);return}const y=async()=>{const{data:N,error:b}=await he.from("user_roles").select("*").eq("user_id",e.id);if(b){console.error("Error fetching user roles:",b),c(!1);return}const j=N.map(_=>_.role);r(j);const E=["admin","manager","leader_chef","staff"].find(_=>j.includes(_))||null;o(E),c(!1)};y();const w=he.channel("user_roles_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_roles",filter:`user_id=eq.${e.id}`},()=>{y()}).subscribe();return()=>{w.unsubscribe()}},[e]);const d=y=>t.includes(y),f=y=>y.some(w=>t.includes(w)),h=d("admin"),m=f(["admin","manager"]),g=f(["admin","leader_chef"]);return{roles:t,highestRole:n,loading:l,hasRole:d,hasAnyRole:f,isAdmin:h,isManager:m,isLeaderChef:g}},Ha=({className:e="w-5 h-5",removeBackground:t=!1})=>t?a.jsx("img",{src:"/tampa-logo.png",alt:"Tampa APP",className:e,style:{objectFit:"contain"}}):a.jsx("div",{className:"bg-gradient-primary rounded-lg flex items-center justify-center p-1",children:a.jsx("img",{src:"/tampa-logo.png",alt:"Tampa APP",className:e,style:{objectFit:"contain"}})}),Jx=[{name:"Dashboard",href:"/",icon:Da},{name:"Recipes",href:"/recipes",icon:y2},{name:"Labeling",href:"/labeling",icon:$w},{name:"Inventory",href:"/inventory",icon:an},{name:"Daily Routines",href:"/routines",icon:to},{name:"Training",href:"/training",icon:x2},{name:"People",href:"/people",icon:ro},{name:"Notifications",href:"/notifications",icon:qh},{name:"Product Traffic Light",href:"/traffic-light",icon:b2},{name:"Analytics",href:"/analytics",icon:Da},{name:"Settings",href:"/settings",icon:qc}];function II(){const[e,t]=v.useState(!1),r=tl(),{signOut:n,user:o}=hn(),{toast:l}=ft(),{highestRole:c,loading:d}=Di(),f=async()=>{await n(),l({title:"Signed out",description:"You have been successfully signed out."})};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-muted/40",children:[a.jsxs("div",{className:de("fixed inset-0 z-50 lg:hidden",e?"block":"hidden"),children:[a.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>t(!1)}),a.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-card border-r shadow-modal",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"w-8 h-8"}),a.jsx("h1",{className:"font-bold text-lg",children:"Tampa APP"})]}),a.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:a.jsx(yi,{className:"w-5 h-5"})})]}),a.jsx("nav",{className:"p-4 space-y-2",children:Jx.map(h=>{const m=r.pathname===h.href;return a.jsxs("a",{href:h.href,className:de("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",m?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[a.jsx(h.icon,{className:"w-5 h-5"}),h.name]},h.name)})})]})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:w-64 lg:flex lg:flex-col",children:a.jsxs("div",{className:"flex flex-col flex-1 bg-card border-r shadow-card",children:[a.jsxs("div",{className:"flex items-center gap-2 p-6 border-b",children:[a.jsx(Ha,{className:"w-8 h-8"}),a.jsx("h1",{className:"font-bold text-lg",children:"Tampa APP"})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2",children:Jx.map(h=>{const m=r.pathname===h.href;return a.jsxs("a",{href:h.href,className:de("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",m?"bg-primary text-primary-foreground shadow-card":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[a.jsx(h.icon,{className:"w-5 h-5"}),h.name]},h.name)})})]})}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b bg-card/80 backdrop-blur-sm px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[a.jsx(pe,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>t(!0),children:a.jsx(_2,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:a.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Organization:"}),a.jsx("span",{className:"font-medium",children:"Demo Restaurant Group"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Location:"}),a.jsx("span",{className:"font-medium",children:"Main Kitchen"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[!d&&c&&a.jsx("div",{className:"px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium capitalize",children:c.replace("_"," ")}),a.jsx("span",{className:"text-sm text-muted-foreground hidden sm:block",children:o?.email})]}),a.jsx(OI,{}),a.jsxs(pe,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[a.jsx(N2,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:block",children:"Sign Out"})]})]})]})})]}),a.jsx("main",{className:"py-8",children:a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:a.jsx(XR,{})})})]})]})}const DI=({children:e})=>{const{user:t,loading:r}=hn();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/20 to-muted/40",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(Hb,{to:"/auth",replace:!0})},MI=Ja("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qe({className:e,variant:t,...r}){return a.jsx("div",{className:de(MI({variant:t}),e),...r})}const Xx=e=>{let t;const r=new Set,n=(h,m)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const y=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(w=>w(t,y))}},o=()=>t,d={setState:n,getState:o,getInitialState:()=>f,subscribe:h=>(r.add(h),()=>r.delete(h))},f=t=e(n,o,d);return d},LI=(e=>e?Xx(e):Xx),FI=e=>e;function $I(e,t=FI){const r=ie.useSyncExternalStore(e.subscribe,ie.useCallback(()=>t(e.getState()),[e,t]),ie.useCallback(()=>t(e.getInitialState()),[e,t]));return ie.useDebugValue(r),r}const BI=e=>{const t=LI(e),r=n=>$I(t,n);return Object.assign(r,t),r},UI=(e=>BI);function zI(e,t){let r;try{r=e()}catch{return}return{getItem:o=>{var l;const c=f=>f===null?null:JSON.parse(f,void 0),d=(l=r.getItem(o))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(o,l)=>r.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>r.removeItem(o)}}const wp=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return wp(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return wp(n)(r)}}}},WI=(e,t)=>(r,n,o)=>{let l={storage:zI(()=>localStorage),partialize:b=>b,version:0,merge:(b,j)=>({...j,...b}),...t},c=!1;const d=new Set,f=new Set;let h=l.storage;if(!h)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...b)},n,o);const m=()=>{const b=l.partialize({...n()});return h.setItem(l.name,{state:b,version:l.version})},g=o.setState;o.setState=(b,j)=>(g(b,j),m());const y=e((...b)=>(r(...b),m()),n,o);o.getInitialState=()=>y;let w;const N=()=>{var b,j;if(!h)return;c=!1,d.forEach(E=>{var _;return E((_=n())!=null?_:y)});const C=((j=l.onRehydrateStorage)==null?void 0:j.call(l,(b=n())!=null?b:y))||void 0;return wp(h.getItem.bind(h))(l.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==l.version){if(l.migrate){const _=l.migrate(E.state,E.version);return _ instanceof Promise?_.then(P=>[!0,P]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var _;const[P,T]=E;if(w=l.merge(T,(_=n())!=null?_:y),r(w,!0),P)return m()}).then(()=>{C?.(w,void 0),w=n(),c=!0,f.forEach(E=>E(w))}).catch(E=>{C?.(void 0,E)})};return o.persist={setOptions:b=>{l={...l,...b},b.storage&&(h=b.storage)},clearStorage:()=>{h?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>N(),hasHydrated:()=>c,onHydrate:b=>(d.add(b),()=>{d.delete(b)}),onFinishHydration:b=>(f.add(b),()=>{f.delete(b)})},l.skipHydration||N(),w||y},VI=WI,ym=UI()(VI((e,t)=>({timers:[],addTimer:r=>{const n=crypto.randomUUID(),o={...r,id:n,elapsedTime:0};return e(l=>({timers:[...l.timers,o]})),n},pauseTimer:r=>{e(n=>({timers:n.timers.map(o=>o.id===r?{...o,isRunning:!1}:o)}))},resumeTimer:r=>{e(n=>({timers:n.timers.map(o=>o.id===r?{...o,isRunning:!0,startTime:Date.now()-o.elapsedTime}:o)}))},updateTimer:(r,n)=>{e(o=>({timers:o.timers.map(l=>l.id===r?{...l,elapsedTime:n}:l)}))},removeTimer:r=>{e(n=>({timers:n.timers.filter(o=>o.id!==r)}))},getActiveTimers:()=>t().timers.filter(r=>r.isRunning),getTimerById:r=>t().timers.find(n=>n.id===r)}),{name:"timer-storage"}));function qI(){const{getActiveTimers:e}=ym(),t=e();if(t.length===0)return null;const r=n=>{const o=Math.floor(n/1e3),l=Math.floor(o/3600),c=Math.floor(o%3600/60),d=o%60;return`${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`};return a.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:t.map(n=>a.jsxs(Qe,{variant:"secondary",className:"px-3 py-2 text-sm animate-pulse",children:[a.jsx(Gh,{className:"w-4 h-4 mr-2"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:n.recipeName}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.staffName," - ",r(n.elapsedTime)]})]})]},n.id))})}function HI(){const{timers:e,updateTimer:t}=ym();return v.useEffect(()=>{const r=setInterval(()=>{e.forEach(n=>{if(n.isRunning){const o=Date.now()-n.startTime;t(n.id,o)}})},1e3);return()=>clearInterval(r)},[e,t]),null}function Zt({title:e,value:t,change:r,changeType:n="neutral",icon:o,className:l,flags:c}){return a.jsx("div",{className:de("bg-card rounded-lg border shadow-card hover:shadow-card-hover transition-shadow p-6",l),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),a.jsx("p",{className:"text-2xl font-bold text-foreground mt-2",children:t}),r&&a.jsx("p",{className:de("text-sm mt-2 font-medium",n==="positive"&&"text-success",n==="negative"&&"text-destructive",n==="neutral"&&"text-muted-foreground"),children:r}),c&&a.jsxs("div",{className:"flex gap-3 mt-2",children:[c.yellow!==void 0&&c.yellow>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Uy,{className:"w-4 h-4 text-yellow-500",fill:"currentColor"}),a.jsx("span",{className:"text-xs font-medium text-yellow-600 dark:text-yellow-400",children:c.yellow})]}),c.green!==void 0&&c.green>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Uy,{className:"w-4 h-4 text-green-500",fill:"currentColor"}),a.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:c.green})]})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(o,{className:"w-6 h-6 text-primary"})})})]})})}const ze=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ze.displayName="Card";const tt=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",e),...t}));tt.displayName="CardHeader";const ct=v.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));ct.displayName="CardTitle";const Ru=v.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",e),...t}));Ru.displayName="CardDescription";const We=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:de("p-6 pt-0",e),...t}));We.displayName="CardContent";const KI=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",e),...t}));KI.displayName="CardFooter";const $1=6048e5,GI=864e5,Zx=Symbol.for("constructDateFrom");function Ur(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Zx in e?e[Zx](t):e instanceof Date?new e.constructor(t):new Date(t)}function Mt(e,t){return Ur(t||e,e)}function bp(e,t,r){const n=Mt(e,r?.in);return isNaN(t)?Ur(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let YI={};function Au(){return YI}function Ka(e,t){const r=Au(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Mt(e,t?.in),l=o.getDay(),c=(l<n?7:0)+l-n;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function tu(e,t){return Ka(e,{...t,weekStartsOn:1})}function B1(e,t){const r=Mt(e,t?.in),n=r.getFullYear(),o=Ur(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const l=tu(o),c=Ur(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=tu(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function e0(e){const t=Mt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function U1(e,...t){const r=Ur.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Ga(e,t){const r=Mt(e,t?.in);return r.setHours(0,0,0,0),r}function QI(e,t,r){const[n,o]=U1(r?.in,e,t),l=Ga(n),c=Ga(o),d=+l-e0(l),f=+c-e0(c);return Math.round((d-f)/GI)}function JI(e,t){const r=B1(e,t),n=Ur(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),tu(n)}function z1(e){return Ur(e,Date.now())}function W1(e,t,r){const[n,o]=U1(r?.in,e,t);return+Ga(n)==+Ga(o)}function XI(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ZI(e){return!(!XI(e)&&typeof e!="number"||isNaN(+Mt(e)))}function e4(e,t){const r=Mt(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const t4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r4=(e,t,r)=>{let n;const o=t4[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function eh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const n4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i4={date:eh({formats:n4,defaultWidth:"full"}),time:eh({formats:s4,defaultWidth:"full"}),dateTime:eh({formats:o4,defaultWidth:"full"})},a4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l4=(e,t,r,n)=>a4[e];function Sa(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r?.width?String(r.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r?.width?String(r.width):e.defaultWidth;o=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}const c4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},h4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},p4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m4=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},g4={ordinalNumber:m4,era:Sa({values:c4,defaultWidth:"wide"}),quarter:Sa({values:u4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sa({values:d4,defaultWidth:"wide"}),day:Sa({values:f4,defaultWidth:"wide"}),dayPeriod:Sa({values:h4,defaultWidth:"wide",formattingValues:p4,defaultFormattingWidth:"wide"})};function ja(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;const c=l[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?y4(d,g=>g.test(c)):v4(d,g=>g.test(c));let h;h=e.valueCallback?e.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;const m=t.slice(c.length);return{value:h,rest:m}}}function v4(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function y4(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function x4(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}const w4=/^(\d+)(th|st|nd|rd)?/i,b4=/\d+/i,S4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},j4={any:[/^b/i,/^(a|c)/i]},N4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_4={any:[/1/i,/2/i,/3/i,/4/i]},E4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},C4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},R4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},A4={ordinalNumber:x4({matchPattern:w4,parsePattern:b4,valueCallback:e=>parseInt(e,10)}),era:ja({matchPatterns:S4,defaultMatchWidth:"wide",parsePatterns:j4,defaultParseWidth:"any"}),quarter:ja({matchPatterns:N4,defaultMatchWidth:"wide",parsePatterns:_4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ja({matchPatterns:E4,defaultMatchWidth:"wide",parsePatterns:C4,defaultParseWidth:"any"}),day:ja({matchPatterns:k4,defaultMatchWidth:"wide",parsePatterns:P4,defaultParseWidth:"any"}),dayPeriod:ja({matchPatterns:T4,defaultMatchWidth:"any",parsePatterns:R4,defaultParseWidth:"any"})},O4={code:"en-US",formatDistance:r4,formatLong:i4,formatRelative:l4,localize:g4,match:A4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I4(e,t){const r=Mt(e,t?.in);return QI(r,e4(r))+1}function D4(e,t){const r=Mt(e,t?.in),n=+tu(r)-+JI(r);return Math.round(n/$1)+1}function V1(e,t){const r=Mt(e,t?.in),n=r.getFullYear(),o=Au(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=Ur(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const d=Ka(c,t),f=Ur(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const h=Ka(f,t);return+r>=+d?n+1:+r>=+h?n:n-1}function M4(e,t){const r=Au(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=V1(e,t),l=Ur(t?.in||e,0);return l.setFullYear(o,0,n),l.setHours(0,0,0,0),Ka(l,t)}function L4(e,t){const r=Mt(e,t?.in),n=+Ka(r,t)-+M4(r,t);return Math.round(n/$1)+1}function Ye(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ss={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ye(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ye(r+1,2)},d(e,t){return Ye(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ye(e.getHours()%12||12,t.length)},H(e,t){return Ye(e.getHours(),t.length)},m(e,t){return Ye(e.getMinutes(),t.length)},s(e,t){return Ye(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return Ye(o,t.length)}},Go={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},t0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return ss.y(e,t)},Y:function(e,t,r,n){const o=V1(e,n),l=o>0?o:1-o;if(t==="YY"){const c=l%100;return Ye(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Ye(l,t.length)},R:function(e,t){const r=B1(e);return Ye(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ye(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ye(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ye(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ss.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ye(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=L4(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Ye(o,t.length)},I:function(e,t,r){const n=D4(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ye(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ss.d(e,t)},D:function(e,t,r){const n=I4(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ye(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),l=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Ye(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),l=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Ye(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return Ye(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=Go.noon:n===0?o=Go.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=Go.evening:n>=12?o=Go.afternoon:n>=4?o=Go.morning:o=Go.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ss.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ss.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ye(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ye(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ss.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ss.s(e,t)},S:function(e,t){return ss.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return n0(n);case"XXXX":case"XX":return Fs(n);case"XXXXX":case"XXX":default:return Fs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return n0(n);case"xxxx":case"xx":return Fs(n);case"xxxxx":case"xxx":default:return Fs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+r0(n,":");case"OOOO":default:return"GMT"+Fs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+r0(n,":");case"zzzz":default:return"GMT"+Fs(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ye(n,t.length)},T:function(e,t,r){return Ye(+e,t.length)}};function r0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),l=n%60;return l===0?r+String(o):r+String(o)+t+Ye(l,2)}function n0(e,t){return e%60===0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):Fs(e,t)}function Fs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Ye(Math.trunc(n/60),2),l=Ye(n%60,2);return r+o+t+l}const s0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},q1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},F4=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return s0(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",s0(n,t)).replace("{{time}}",q1(o,t))},$4={p:q1,P:F4},B4=/^D+$/,U4=/^Y+$/,z4=["D","DD","YY","YYYY"];function W4(e){return B4.test(e)}function V4(e){return U4.test(e)}function q4(e,t,r){const n=H4(e,t,r);if(console.warn(n),z4.includes(e))throw new RangeError(n)}function H4(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const K4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y4=/^'([^]*?)'?$/,Q4=/''/g,J4=/[a-zA-Z]/;function qs(e,t,r){const n=Au(),o=n.locale??O4,l=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=Mt(e,r?.in);if(!ZI(d))throw new RangeError("Invalid time value");let f=t.match(G4).map(m=>{const g=m[0];if(g==="p"||g==="P"){const y=$4[g];return y(m,o.formatLong)}return m}).join("").match(K4).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:X4(m)};if(t0[g])return{isToken:!0,value:m};if(g.match(J4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(f=o.localize.preprocessor(d,f));const h={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return f.map(m=>{if(!m.isToken)return m.value;const g=m.value;(V4(g)||W4(g))&&q4(g,t,String(e));const y=t0[g[0]];return y(d,g,o.localize,h)}).join("")}function X4(e){const t=e.match(Y4);return t?t[1].replace(Q4,"'"):e}function o0(e,t){return+Mt(e)>+Mt(t)}function Z4(e,t){return+Mt(e)<+Mt(t)}function eD(e,t){return W1(Ur(e,e),z1(e))}function tD(e,t){return W1(e,bp(z1(e),1),t)}function rD({items:e}){const t=Ga(new Date),r=e.filter(l=>{const c=new Date(l.expiry_date);return Z4(c,t)}).reduce((l,c)=>l+(c.label_count||1),0),n=e.filter(l=>eD(new Date(l.expiry_date))).reduce((l,c)=>l+(c.label_count||1),0),o=e.filter(l=>tD(new Date(l.expiry_date))).reduce((l,c)=>l+(c.label_count||1),0);return a.jsxs(ze,{className:"shadow-card hover:shadow-card-hover transition-shadow",children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(Dt,{className:"w-4 h-4 text-primary"})}),a.jsx(ct,{className:"text-lg",children:"Active Alerts"})]})}),a.jsx(We,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-destructive/5 dark:bg-destructive/20 rounded-lg border border-destructive/10 dark:border-destructive/30 backdrop-blur-sm hover:bg-destructive/10 dark:hover:bg-destructive/30 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qe,{variant:"destructive",className:"text-xs",children:"Yesterday"}),a.jsx("span",{className:"text-sm font-medium",children:"Expired"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-destructive",children:r}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"labels"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-warning/5 dark:bg-warning/20 rounded-lg border border-warning/10 dark:border-warning/30 backdrop-blur-sm hover:bg-warning/10 dark:hover:bg-warning/30 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qe,{variant:"default",className:"text-xs bg-warning text-warning-foreground",children:"Today"}),a.jsx("span",{className:"text-sm font-medium",children:"About to expire"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-warning",children:n}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"labels"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-success/10 rounded-lg border border-success/20 backdrop-blur-sm hover:bg-success/20 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qe,{variant:"secondary",className:"text-xs",children:"Tomorrow"}),a.jsx("span",{className:"text-sm font-medium",children:"Will expire"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-success",children:o}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"labels"})]})]})]})})]})}const Ac=e=>{const t=new Date,r=new Date(e),n=Math.floor((r.getTime()-t.getTime())/(1e3*60*60));return n<0?{status:"expired",hoursUntilExpiry:n,message:`Expired ${Math.abs(n)} hours ago`}:n<=24?{status:"warning",hoursUntilExpiry:n,message:`Expires in ${n} hours`}:n<=72?{status:"good",hoursUntilExpiry:n,message:`Expires in ${Math.floor(n/24)} days`}:{status:"good",hoursUntilExpiry:n,message:`Fresh for ${Math.floor(n/24)} days`}};function H1(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),{toast:o}=ft(),l=async()=>{try{const{data:d,error:f}=await he.from("prepared_items").select(`
          *,
          recipes (
            name,
            allergens
          )
        `).order("expires_at",{ascending:!0});if(f){console.error("Error fetching prepared items:",f),o({title:"Error",description:"Failed to fetch prepared items",variant:"destructive"});return}t(d||[])}catch(d){console.error("Error:",d),o({title:"Error",description:"Failed to fetch prepared items",variant:"destructive"})}finally{n(!1)}};v.useEffect(()=>{l()},[]);const c=e.filter(d=>Ac(d.expires_at).hoursUntilExpiry<=72);if(c.filter(d=>Ac(d.expires_at).status==="expired").length,c.filter(d=>Ac(d.expires_at).status==="warning").length,c.filter(d=>{const f=Ac(d.expires_at);return f.status==="good"&&f.hoursUntilExpiry<=72}).length,r)return a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"w-5 h-5"}),"Expiry Alerts"]})}),a.jsx(We,{children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})})})]})}var th="focusScope.autoFocusOnMount",rh="focusScope.autoFocusOnUnmount",i0={bubbles:!1,cancelable:!0},nD="FocusScope",Ou=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[d,f]=v.useState(null),h=yt(o),m=yt(l),g=v.useRef(null),y=$e(t,b=>f(b)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let b=function(_){if(w.paused||!d)return;const P=_.target;d.contains(P)?g.current=P:as(g.current,{select:!0})},j=function(_){if(w.paused||!d)return;const P=_.relatedTarget;P!==null&&(d.contains(P)||as(g.current,{select:!0}))},C=function(_){if(document.activeElement===document.body)for(const T of _)T.removedNodes.length>0&&as(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const E=new MutationObserver(C);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),E.disconnect()}}},[n,d,w.paused]),v.useEffect(()=>{if(d){l0.add(w);const b=document.activeElement;if(!d.contains(b)){const C=new CustomEvent(th,i0);d.addEventListener(th,h),d.dispatchEvent(C),C.defaultPrevented||(sD(cD(K1(d)),{select:!0}),document.activeElement===b&&as(d))}return()=>{d.removeEventListener(th,h),setTimeout(()=>{const C=new CustomEvent(rh,i0);d.addEventListener(rh,m),d.dispatchEvent(C),C.defaultPrevented||as(b??document.body,{select:!0}),d.removeEventListener(rh,m),l0.remove(w)},0)}}},[d,h,m,w]);const N=v.useCallback(b=>{if(!r&&!n||w.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(j&&C){const E=b.currentTarget,[_,P]=oD(E);_&&P?!b.shiftKey&&C===P?(b.preventDefault(),r&&as(_,{select:!0})):b.shiftKey&&C===_&&(b.preventDefault(),r&&as(P,{select:!0})):C===E&&b.preventDefault()}},[r,n,w.paused]);return a.jsx(be.div,{tabIndex:-1,...c,ref:y,onKeyDown:N})});Ou.displayName=nD;function sD(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(as(n,{select:t}),document.activeElement!==r)return}function oD(e){const t=K1(e),r=a0(t,e),n=a0(t.reverse(),e);return[r,n]}function K1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function a0(e,t){for(const r of e)if(!iD(r,{upTo:t}))return r}function iD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aD(e){return e instanceof HTMLInputElement&&"select"in e}function as(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&aD(e)&&t&&e.select()}}var l0=lD();function lD(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=c0(e,t),e.unshift(t)},remove(t){e=c0(e,t),e[0]?.resume()}}}function c0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cD(e){return e.filter(t=>t.tagName!=="A")}var nh=0;function xm(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??u0()),document.body.insertAdjacentElement("beforeend",e[1]??u0()),nh++,()=>{nh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nh--}},[])}function u0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zc="right-scroll-bar-position",Wc="width-before-scroll-bar",uD="with-scroll-bars-hidden",dD="--removed-body-scroll-bar-size";function sh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fD(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var hD=typeof window<"u"?v.useLayoutEffect:v.useEffect,d0=new WeakMap;function pD(e,t){var r=fD(null,function(n){return e.forEach(function(o){return sh(o,n)})});return hD(function(){var n=d0.get(r);if(n){var o=new Set(n),l=new Set(e),c=r.current;o.forEach(function(d){l.has(d)||sh(d,null)}),l.forEach(function(d){o.has(d)||sh(d,c)})}d0.set(r,e)},[e]),r}function mD(e){return e}function gD(e,t){t===void 0&&(t=mD);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(n=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var m=c;c=[],m.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return o}function vD(e){e===void 0&&(e={});var t=gD(null);return t.options=xr({async:!0,ssr:!1},e),t}var G1=function(e){var t=e.sideCar,r=gs(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,xr({},r))};G1.isSideCarExport=!0;function yD(e,t){return e.useMedium(t),G1}var Y1=vD(),oh=function(){},Iu=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:oh,onWheelCapture:oh,onTouchMoveCapture:oh}),o=n[0],l=n[1],c=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,w=e.noRelative,N=e.noIsolation,b=e.inert,j=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,_=e.gapMode,P=gs(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,O=pD([r,t]),I=xr(xr({},P),o);return v.createElement(v.Fragment,null,m&&v.createElement(T,{sideCar:Y1,removeScrollBar:h,shards:g,noRelative:w,noIsolation:N,inert:b,setCallbacks:l,allowPinchZoom:!!j,lockRef:r,gapMode:_}),c?v.cloneElement(v.Children.only(d),xr(xr({},I),{ref:O})):v.createElement(E,xr({},I,{className:f,ref:O}),d))});Iu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Iu.classNames={fullWidth:Wc,zeroRight:zc};var xD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xD();return t&&e.setAttribute("nonce",t),e}function bD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function SD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=wD())&&(bD(t,r),SD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ND=function(){var e=jD();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Q1=function(){var e=ND(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},_D={left:0,top:0,right:0,gap:0},ih=function(e){return parseInt(e||"",10)||0},ED=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ih(r),ih(n),ih(o)]},CD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _D;var t=ED(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},kD=Q1(),mi="data-scroll-locked",PD=function(e,t,r,n){var o=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(uD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(mi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zc,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Wc,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mi,`] {
    `).concat(dD,": ").concat(d,`px;
  }
`)},f0=function(){var e=parseInt(document.body.getAttribute(mi)||"0",10);return isFinite(e)?e:0},TD=function(){v.useEffect(function(){return document.body.setAttribute(mi,(f0()+1).toString()),function(){var e=f0()-1;e<=0?document.body.removeAttribute(mi):document.body.setAttribute(mi,e.toString())}},[])},RD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;TD();var l=v.useMemo(function(){return CD(o)},[o]);return v.createElement(kD,{styles:PD(l,!t,o,r?"":"!important")})},Sp=!1;if(typeof window<"u")try{var Oc=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{Sp=!1}var Yo=Sp?{passive:!1}:!1,AD=function(e){return e.tagName==="TEXTAREA"},J1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!AD(e)&&r[t]==="visible")},OD=function(e){return J1(e,"overflowY")},ID=function(e){return J1(e,"overflowX")},h0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=X1(e,n);if(o){var l=Z1(e,n),c=l[1],d=l[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},DD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},MD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},X1=function(e,t){return e==="v"?OD(t):ID(t)},Z1=function(e,t){return e==="v"?DD(t):MD(t)},LD=function(e,t){return e==="h"&&t==="rtl"?-1:1},FD=function(e,t,r,n,o){var l=LD(e,window.getComputedStyle(t).direction),c=l*n,d=r.target,f=t.contains(d),h=!1,m=c>0,g=0,y=0;do{if(!d)break;var w=Z1(e,d),N=w[0],b=w[1],j=w[2],C=b-j-l*N;(N||C)&&X1(e,d)&&(g+=C,y+=N);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(m&&Math.abs(g)<1||!m&&Math.abs(y)<1)&&(h=!0),h},Ic=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p0=function(e){return[e.deltaX,e.deltaY]},m0=function(e){return e&&"current"in e?e.current:e},$D=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},UD=0,Qo=[];function zD(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),o=v.useState(UD++)[0],l=v.useState(Q1)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var b=cm([e.lockRef.current],(e.shards||[]).map(m0),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=v.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var C=Ic(b),E=r.current,_="deltaX"in b?b.deltaX:E[0]-C[0],P="deltaY"in b?b.deltaY:E[1]-C[1],T,O=b.target,I=Math.abs(_)>Math.abs(P)?"h":"v";if("touches"in b&&I==="h"&&O.type==="range")return!1;var B=h0(I,O);if(!B)return!0;if(B?T=I:(T=I==="v"?"h":"v",B=h0(I,O)),!B)return!1;if(!n.current&&"changedTouches"in b&&(_||P)&&(n.current=T),!T)return!0;var V=n.current||T;return FD(V,j,b,V==="h"?_:P)},[]),f=v.useCallback(function(b){var j=b;if(!(!Qo.length||Qo[Qo.length-1]!==l)){var C="deltaY"in j?p0(j):Ic(j),E=t.current.filter(function(T){return T.name===j.type&&(T.target===j.target||j.target===T.shadowParent)&&$D(T.delta,C)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var _=(c.current.shards||[]).map(m0).filter(Boolean).filter(function(T){return T.contains(j.target)}),P=_.length>0?d(j,_[0]):!c.current.noIsolation;P&&j.cancelable&&j.preventDefault()}}},[]),h=v.useCallback(function(b,j,C,E){var _={name:b,delta:j,target:C,should:E,shadowParent:WD(C)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(P){return P!==_})},1)},[]),m=v.useCallback(function(b){r.current=Ic(b),n.current=void 0},[]),g=v.useCallback(function(b){h(b.type,p0(b),b.target,d(b,e.lockRef.current))},[]),y=v.useCallback(function(b){h(b.type,Ic(b),b.target,d(b,e.lockRef.current))},[]);v.useEffect(function(){return Qo.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Yo),document.addEventListener("touchmove",f,Yo),document.addEventListener("touchstart",m,Yo),function(){Qo=Qo.filter(function(b){return b!==l}),document.removeEventListener("wheel",f,Yo),document.removeEventListener("touchmove",f,Yo),document.removeEventListener("touchstart",m,Yo)}},[]);var w=e.removeScrollBar,N=e.inert;return v.createElement(v.Fragment,null,N?v.createElement(l,{styles:BD(o)}):null,w?v.createElement(RD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function WD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VD=yD(Y1,zD);var Du=v.forwardRef(function(e,t){return v.createElement(Iu,xr({},e,{ref:t,sideCar:VD}))});Du.classNames=Iu.classNames;var qD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jo=new WeakMap,Dc=new WeakMap,Mc={},ah=0,eS=function(e){return e&&(e.host||eS(e.parentNode))},HD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=eS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},KD=function(e,t,r,n){var o=HD(t,Array.isArray(e)?e:[e]);Mc[r]||(Mc[r]=new WeakMap);var l=Mc[r],c=[],d=new Set,f=new Set(o),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};o.forEach(h);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(d.has(y))m(y);else try{var w=y.getAttribute(n),N=w!==null&&w!=="false",b=(Jo.get(y)||0)+1,j=(l.get(y)||0)+1;Jo.set(y,b),l.set(y,j),c.push(y),b===1&&N&&Dc.set(y,!0),j===1&&y.setAttribute(r,"true"),N||y.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return m(t),d.clear(),ah++,function(){c.forEach(function(g){var y=Jo.get(g)-1,w=l.get(g)-1;Jo.set(g,y),l.set(g,w),y||(Dc.has(g)||g.removeAttribute(n),Dc.delete(g)),w||g.removeAttribute(r)}),ah--,ah||(Jo=new WeakMap,Jo=new WeakMap,Dc=new WeakMap,Mc={})}},wm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=qD(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),KD(n,o,r,"aria-hidden")):function(){return null}},Mu="Dialog",[tS,rS]=er(Mu),[GD,Vr]=tS(Mu),nS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=v.useRef(null),f=v.useRef(null),[h,m]=ds({prop:n,defaultProp:o??!1,onChange:l,caller:Mu});return a.jsx(GD,{scope:t,triggerRef:d,contentRef:f,contentId:Wt(),titleId:Wt(),descriptionId:Wt(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:c,children:r})};nS.displayName=Mu;var sS="DialogTrigger",oS=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Vr(sS,r),l=$e(t,o.triggerRef);return a.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":jm(o.open),...n,ref:l,onClick:xe(e.onClick,o.onOpenToggle)})});oS.displayName=sS;var bm="DialogPortal",[YD,iS]=tS(bm,{forceMount:void 0}),aS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,l=Vr(bm,t);return a.jsx(YD,{scope:t,forceMount:r,children:v.Children.map(n,c=>a.jsx(tr,{present:r||l.open,children:a.jsx(Ya,{asChild:!0,container:o,children:c})}))})};aS.displayName=bm;var ru="DialogOverlay",lS=v.forwardRef((e,t)=>{const r=iS(ru,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=Vr(ru,e.__scopeDialog);return l.modal?a.jsx(tr,{present:n||l.open,children:a.jsx(JD,{...o,ref:t})}):null});lS.displayName=ru;var QD=eo("DialogOverlay.RemoveScroll"),JD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Vr(ru,r);return a.jsx(Du,{as:QD,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(be.div,{"data-state":jm(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),so="DialogContent",cS=v.forwardRef((e,t)=>{const r=iS(so,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,l=Vr(so,e.__scopeDialog);return a.jsx(tr,{present:n||l.open,children:l.modal?a.jsx(XD,{...o,ref:t}):a.jsx(ZD,{...o,ref:t})})});cS.displayName=so;var XD=v.forwardRef((e,t)=>{const r=Vr(so,e.__scopeDialog),n=v.useRef(null),o=$e(t,r.contentRef,n);return v.useEffect(()=>{const l=n.current;if(l)return wm(l)},[]),a.jsx(uS,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:xe(e.onFocusOutside,l=>l.preventDefault())})}),ZD=v.forwardRef((e,t)=>{const r=Vr(so,e.__scopeDialog),n=v.useRef(!1),o=v.useRef(!1);return a.jsx(uS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),uS=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,d=Vr(so,r),f=v.useRef(null),h=$e(t,f);return xm(),a.jsxs(a.Fragment,{children:[a.jsx(Ou,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(Ci,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":jm(d.open),...c,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(tM,{titleId:d.titleId}),a.jsx(nM,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Sm="DialogTitle",dS=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Vr(Sm,r);return a.jsx(be.h2,{id:o.titleId,...n,ref:t})});dS.displayName=Sm;var fS="DialogDescription",hS=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Vr(fS,r);return a.jsx(be.p,{id:o.descriptionId,...n,ref:t})});hS.displayName=fS;var pS="DialogClose",mS=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Vr(pS,r);return a.jsx(be.button,{type:"button",...n,ref:t,onClick:xe(e.onClick,()=>o.onOpenChange(!1))})});mS.displayName=pS;function jm(e){return e?"open":"closed"}var gS="DialogTitleWarning",[eM,vS]=wC(gS,{contentName:so,titleName:Sm,docsSlug:"dialog"}),tM=({titleId:e})=>{const t=vS(gS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},rM="DialogDescriptionWarning",nM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vS(rM).contentName}}.`;return v.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Nm=nS,sM=oS,_m=aS,Lu=lS,Fu=cS,Em=dS,Cm=hS,km=mS;const ji=Nm,oM=_m,yS=v.forwardRef(({className:e,...t},r)=>a.jsx(Lu,{ref:r,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yS.displayName=Lu.displayName;const oo=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(oM,{children:[a.jsx(yS,{}),a.jsxs(Fu,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(km,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(yi,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oo.displayName=Fu.displayName;const io=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});io.displayName="DialogHeader";const jp=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jp.displayName="DialogFooter";const ao=v.forwardRef(({className:e,...t},r)=>a.jsx(Em,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));ao.displayName=Em.displayName;const nu=v.forwardRef(({className:e,...t},r)=>a.jsx(Cm,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));nu.displayName=Cm.displayName;const Fe=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Fe.displayName="Input";var iM="Label",xS=v.forwardRef((e,t)=>a.jsx(be.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xS.displayName=iM;var wS=xS;const aM=Ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=v.forwardRef(({className:e,...t},r)=>a.jsx(wS,{ref:r,className:de(aM(),e),...t}));Re.displayName=wS.displayName;function Np(e,[t,r]){return Math.min(r,Math.max(t,e))}var lM=v.createContext(void 0);function $u(e){const t=v.useContext(lM);return e||t||"ltr"}function bS(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cM=[" ","Enter","ArrowUp","ArrowDown"],uM=[" ","Enter"],lo="Select",[Bu,Uu,dM]=Bp(lo),[Mi]=er(lo,[dM,Ri]),zu=Ri(),[fM,ys]=Mi(lo),[hM,pM]=Mi(lo),SS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:h,name:m,autoComplete:g,disabled:y,required:w,form:N}=e,b=zu(t),[j,C]=v.useState(null),[E,_]=v.useState(null),[P,T]=v.useState(!1),O=$u(h),[I,B]=ds({prop:n,defaultProp:o??!1,onChange:l,caller:lo}),[V,te]=ds({prop:c,defaultProp:d,onChange:f,caller:lo}),ee=v.useRef(null),X=j?N||!!j.closest("form"):!0,[$,z]=v.useState(new Set),q=Array.from($).map(U=>U.props.value).join(";");return a.jsx(yb,{...b,children:a.jsxs(fM,{required:w,scope:t,trigger:j,onTriggerChange:C,valueNode:E,onValueNodeChange:_,valueNodeHasChildren:P,onValueNodeHasChildrenChange:T,contentId:Wt(),value:V,onValueChange:te,open:I,onOpenChange:B,dir:O,triggerPointerDownPosRef:ee,disabled:y,children:[a.jsx(Bu.Provider,{scope:t,children:a.jsx(hM,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(U=>{z(ne=>new Set(ne).add(U))},[]),onNativeOptionRemove:v.useCallback(U=>{z(ne=>{const K=new Set(ne);return K.delete(U),K})},[]),children:r})}),X?a.jsxs(HS,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:g,value:V,onChange:U=>te(U.target.value),disabled:y,form:N,children:[V===void 0?a.jsx("option",{value:""}):null,Array.from($)]},q):null]})})};SS.displayName=lo;var jS="SelectTrigger",NS=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,l=zu(r),c=ys(jS,r),d=c.disabled||n,f=$e(t,c.onTriggerChange),h=Uu(r),m=v.useRef("touch"),[g,y,w]=GS(b=>{const j=h().filter(_=>!_.disabled),C=j.find(_=>_.value===c.value),E=YS(j,b,C);E!==void 0&&c.onValueChange(E.value)}),N=b=>{d||(c.onOpenChange(!0),w()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(ju,{asChild:!0,...l,children:a.jsx(be.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":KS(c.value)?"":void 0,...o,ref:f,onClick:xe(o.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&N(b)}),onPointerDown:xe(o.onPointerDown,b=>{m.current=b.pointerType;const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:xe(o.onKeyDown,b=>{const j=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(j&&b.key===" ")&&cM.includes(b.key)&&(N(),b.preventDefault())})})})});NS.displayName=jS;var _S="SelectValue",ES=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:l,placeholder:c="",...d}=e,f=ys(_S,r),{onValueNodeHasChildrenChange:h}=f,m=l!==void 0,g=$e(t,f.onValueNodeChange);return mt(()=>{h(m)},[h,m]),a.jsx(be.span,{...d,ref:g,style:{pointerEvents:"none"},children:KS(f.value)?a.jsx(a.Fragment,{children:c}):l})});ES.displayName=_S;var mM="SelectIcon",CS=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return a.jsx(be.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});CS.displayName=mM;var gM="SelectPortal",kS=e=>a.jsx(Ya,{asChild:!0,...e});kS.displayName=gM;var co="SelectContent",PS=v.forwardRef((e,t)=>{const r=ys(co,e.__scopeSelect),[n,o]=v.useState();if(mt(()=>{o(new DocumentFragment)},[]),!r.open){const l=n;return l?Ei.createPortal(a.jsx(TS,{scope:e.__scopeSelect,children:a.jsx(Bu.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),l):null}return a.jsx(RS,{...e,ref:t})});PS.displayName=co;var Dr=10,[TS,xs]=Mi(co),vM="SelectContentImpl",yM=eo("SelectContent.RemoveScroll"),RS=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:N,hideWhenDetached:b,avoidCollisions:j,...C}=e,E=ys(co,r),[_,P]=v.useState(null),[T,O]=v.useState(null),I=$e(t,J=>P(J)),[B,V]=v.useState(null),[te,ee]=v.useState(null),X=Uu(r),[$,z]=v.useState(!1),q=v.useRef(!1);v.useEffect(()=>{if(_)return wm(_)},[_]),xm();const U=v.useCallback(J=>{const[ue,...re]=X().map(Ue=>Ue.ref.current),[ge]=re.slice(-1),Pe=document.activeElement;for(const Ue of J)if(Ue===Pe||(Ue?.scrollIntoView({block:"nearest"}),Ue===ue&&T&&(T.scrollTop=0),Ue===ge&&T&&(T.scrollTop=T.scrollHeight),Ue?.focus(),document.activeElement!==Pe))return},[X,T]),ne=v.useCallback(()=>U([B,_]),[U,B,_]);v.useEffect(()=>{$&&ne()},[$,ne]);const{onOpenChange:K,triggerPointerDownPosRef:G}=E;v.useEffect(()=>{if(_){let J={x:0,y:0};const ue=ge=>{J={x:Math.abs(Math.round(ge.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(G.current?.y??0))}},re=ge=>{J.x<=10&&J.y<=10?ge.preventDefault():_.contains(ge.target)||K(!1),document.removeEventListener("pointermove",ue),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",re,{capture:!0})}}},[_,K,G]),v.useEffect(()=>{const J=()=>K(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[K]);const[se,M]=GS(J=>{const ue=X().filter(Pe=>!Pe.disabled),re=ue.find(Pe=>Pe.ref.current===document.activeElement),ge=YS(ue,J,re);ge&&setTimeout(()=>ge.ref.current.focus())}),A=v.useCallback((J,ue,re)=>{const ge=!q.current&&!re;(E.value!==void 0&&E.value===ue||ge)&&(V(J),ge&&(q.current=!0))},[E.value]),W=v.useCallback(()=>_?.focus(),[_]),D=v.useCallback((J,ue,re)=>{const ge=!q.current&&!re;(E.value!==void 0&&E.value===ue||ge)&&ee(J)},[E.value]),Y=n==="popper"?_p:AS,ae=Y===_p?{side:d,sideOffset:f,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:w,sticky:N,hideWhenDetached:b,avoidCollisions:j}:{};return a.jsx(TS,{scope:r,content:_,viewport:T,onViewportChange:O,itemRefCallback:A,selectedItem:B,onItemLeave:W,itemTextRefCallback:D,focusSelectedItem:ne,selectedItemText:te,position:n,isPositioned:$,searchRef:se,children:a.jsx(Du,{as:yM,allowPinchZoom:!0,children:a.jsx(Ou,{asChild:!0,trapped:E.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:xe(o,J=>{E.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:a.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:a.jsx(Y,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:J=>J.preventDefault(),...C,...ae,onPlaced:()=>z(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:xe(C.onKeyDown,J=>{const ue=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ue&&J.key.length===1&&M(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ge=X().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Pe=J.target,Ue=ge.indexOf(Pe);ge=ge.slice(Ue+1)}setTimeout(()=>U(ge)),J.preventDefault()}})})})})})})});RS.displayName=vM;var xM="SelectItemAlignedPosition",AS=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,l=ys(co,r),c=xs(co,r),[d,f]=v.useState(null),[h,m]=v.useState(null),g=$e(t,I=>m(I)),y=Uu(r),w=v.useRef(!1),N=v.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:C,focusSelectedItem:E}=c,_=v.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&h&&b&&j&&C){const I=l.trigger.getBoundingClientRect(),B=h.getBoundingClientRect(),V=l.valueNode.getBoundingClientRect(),te=C.getBoundingClientRect();if(l.dir!=="rtl"){const Pe=te.left-B.left,Ue=V.left-Pe,Xe=I.left-Ue,Pt=I.width+Xe,br=Math.max(Pt,B.width),Sr=window.innerWidth-Dr,jr=Np(Ue,[Dr,Math.max(Dr,Sr-br)]);d.style.minWidth=Pt+"px",d.style.left=jr+"px"}else{const Pe=B.right-te.right,Ue=window.innerWidth-V.right-Pe,Xe=window.innerWidth-I.right-Ue,Pt=I.width+Xe,br=Math.max(Pt,B.width),Sr=window.innerWidth-Dr,jr=Np(Ue,[Dr,Math.max(Dr,Sr-br)]);d.style.minWidth=Pt+"px",d.style.right=jr+"px"}const ee=y(),X=window.innerHeight-Dr*2,$=b.scrollHeight,z=window.getComputedStyle(h),q=parseInt(z.borderTopWidth,10),U=parseInt(z.paddingTop,10),ne=parseInt(z.borderBottomWidth,10),K=parseInt(z.paddingBottom,10),G=q+U+$+K+ne,se=Math.min(j.offsetHeight*5,G),M=window.getComputedStyle(b),A=parseInt(M.paddingTop,10),W=parseInt(M.paddingBottom,10),D=I.top+I.height/2-Dr,Y=X-D,ae=j.offsetHeight/2,J=j.offsetTop+ae,ue=q+U+J,re=G-ue;if(ue<=D){const Pe=ee.length>0&&j===ee[ee.length-1].ref.current;d.style.bottom="0px";const Ue=h.clientHeight-b.offsetTop-b.offsetHeight,Xe=Math.max(Y,ae+(Pe?W:0)+Ue+ne),Pt=ue+Xe;d.style.height=Pt+"px"}else{const Pe=ee.length>0&&j===ee[0].ref.current;d.style.top="0px";const Xe=Math.max(D,q+b.offsetTop+(Pe?A:0)+ae)+re;d.style.height=Xe+"px",b.scrollTop=ue-D+b.offsetTop}d.style.margin=`${Dr}px 0`,d.style.minHeight=se+"px",d.style.maxHeight=X+"px",n?.(),requestAnimationFrame(()=>w.current=!0)}},[y,l.trigger,l.valueNode,d,h,b,j,C,l.dir,n]);mt(()=>_(),[_]);const[P,T]=v.useState();mt(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const O=v.useCallback(I=>{I&&N.current===!0&&(_(),E?.(),N.current=!1)},[_,E]);return a.jsx(bM,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:a.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:a.jsx(be.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});AS.displayName=xM;var wM="SelectPopperPosition",_p=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Dr,...l}=e,c=zu(r);return a.jsx(tm,{...c,...l,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_p.displayName=wM;var[bM,Pm]=Mi(co,{}),Ep="SelectViewport",OS=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,l=xs(Ep,r),c=Pm(Ep,r),d=$e(t,l.onViewportChange),f=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Bu.Slot,{scope:r,children:a.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:xe(o.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=c;if(y?.current&&g){const w=Math.abs(f.current-m.scrollTop);if(w>0){const N=window.innerHeight-Dr*2,b=parseFloat(g.style.minHeight),j=parseFloat(g.style.height),C=Math.max(b,j);if(C<N){const E=C+w,_=Math.min(N,E),P=E-_;g.style.height=_+"px",g.style.bottom==="0px"&&(m.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});OS.displayName=Ep;var IS="SelectGroup",[SM,jM]=Mi(IS),NM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Wt();return a.jsx(SM,{scope:r,id:o,children:a.jsx(be.div,{role:"group","aria-labelledby":o,...n,ref:t})})});NM.displayName=IS;var DS="SelectLabel",MS=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=jM(DS,r);return a.jsx(be.div,{id:o.id,...n,ref:t})});MS.displayName=DS;var su="SelectItem",[_M,LS]=Mi(su),FS=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:l,...c}=e,d=ys(su,r),f=xs(su,r),h=d.value===n,[m,g]=v.useState(l??""),[y,w]=v.useState(!1),N=$e(t,E=>f.itemRefCallback?.(E,n,o)),b=Wt(),j=v.useRef("touch"),C=()=>{o||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(_M,{scope:r,value:n,disabled:o,textId:b,isSelected:h,onItemTextChange:v.useCallback(E=>{g(_=>_||(E?.textContent??"").trim())},[]),children:a.jsx(Bu.ItemSlot,{scope:r,value:n,disabled:o,textValue:m,children:a.jsx(be.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:N,onFocus:xe(c.onFocus,()=>w(!0)),onBlur:xe(c.onBlur,()=>w(!1)),onClick:xe(c.onClick,()=>{j.current!=="mouse"&&C()}),onPointerUp:xe(c.onPointerUp,()=>{j.current==="mouse"&&C()}),onPointerDown:xe(c.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:xe(c.onPointerMove,E=>{j.current=E.pointerType,o?f.onItemLeave?.():j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:xe(c.onKeyDown,E=>{f.searchRef?.current!==""&&E.key===" "||(uM.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});FS.displayName=su;var ka="SelectItemText",$S=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...l}=e,c=ys(ka,r),d=xs(ka,r),f=LS(ka,r),h=pM(ka,r),[m,g]=v.useState(null),y=$e(t,C=>g(C),f.onItemTextChange,C=>d.itemTextRefCallback?.(C,f.value,f.disabled)),w=m?.textContent,N=v.useMemo(()=>a.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=h;return mt(()=>(b(N),()=>j(N)),[b,j,N]),a.jsxs(a.Fragment,{children:[a.jsx(be.span,{id:f.textId,...l,ref:y}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ei.createPortal(l.children,c.valueNode):null]})});$S.displayName=ka;var BS="SelectItemIndicator",US=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return LS(BS,r).isSelected?a.jsx(be.span,{"aria-hidden":!0,...n,ref:t}):null});US.displayName=BS;var Cp="SelectScrollUpButton",zS=v.forwardRef((e,t)=>{const r=xs(Cp,e.__scopeSelect),n=Pm(Cp,e.__scopeSelect),[o,l]=v.useState(!1),c=$e(t,n.onScrollButtonChange);return mt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=f.scrollTop>0;l(h)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?a.jsx(VS,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});zS.displayName=Cp;var kp="SelectScrollDownButton",WS=v.forwardRef((e,t)=>{const r=xs(kp,e.__scopeSelect),n=Pm(kp,e.__scopeSelect),[o,l]=v.useState(!1),c=$e(t,n.onScrollButtonChange);return mt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?a.jsx(VS,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});WS.displayName=kp;var VS=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,l=xs("SelectScrollButton",r),c=v.useRef(null),d=Uu(r),f=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),mt(()=>{d().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),a.jsx(be.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:xe(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:xe(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:xe(o.onPointerLeave,()=>{f()})})}),EM="SelectSeparator",qS=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(be.div,{"aria-hidden":!0,...n,ref:t})});qS.displayName=EM;var Pp="SelectArrow",CM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=zu(r),l=ys(Pp,r),c=xs(Pp,r);return l.open&&c.position==="popper"?a.jsx(rm,{...o,...n,ref:t}):null});CM.displayName=Pp;var kM="SelectBubbleInput",HS=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=v.useRef(null),l=$e(n,o),c=bS(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&m){const g=new Event("change",{bubbles:!0});m.call(d,t),d.dispatchEvent(g)}},[c,t]),a.jsx(be.select,{...r,style:{...dw,...r.style},ref:l,defaultValue:t})});HS.displayName=kM;function KS(e){return e===""||e===void 0}function GS(e){const t=yt(e),r=v.useRef(""),n=v.useRef(0),o=v.useCallback(c=>{const d=r.current+c;t(d),(function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,l]}function YS(e,t,r){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=PM(e,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function PM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var TM=SS,QS=NS,RM=ES,AM=CS,OM=kS,JS=PS,IM=OS,XS=MS,ZS=FS,DM=$S,MM=US,ej=zS,tj=WS,rj=qS;const un=TM,dn=RM,zr=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(QS,{ref:n,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(AM,{asChild:!0,children:a.jsx(Dw,{className:"h-4 w-4 opacity-50"})})]}));zr.displayName=QS.displayName;const nj=v.forwardRef(({className:e,...t},r)=>a.jsx(ej,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(v2,{className:"h-4 w-4"})}));nj.displayName=ej.displayName;const sj=v.forwardRef(({className:e,...t},r)=>a.jsx(tj,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Dw,{className:"h-4 w-4"})}));sj.displayName=tj.displayName;const Wr=v.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>a.jsx(OM,{children:a.jsxs(JS,{ref:o,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(nj,{}),a.jsx(IM,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(sj,{})]})}));Wr.displayName=JS.displayName;const LM=v.forwardRef(({className:e,...t},r)=>a.jsx(XS,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));LM.displayName=XS.displayName;const Ke=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(ZS,{ref:n,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(MM,{children:a.jsx(sn,{className:"h-4 w-4"})})}),a.jsx(DM,{children:t})]}));Ke.displayName=ZS.displayName;const FM=v.forwardRef(({className:e,...t},r)=>a.jsx(rj,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));FM.displayName=rj.displayName;const $M=["Kitchen Staff","Prep Cook","Line Cook","Sous Chef","Head Chef","Kitchen Manager"];function BM(){const[e,t]=v.useState([]),[r,n]=v.useState(!1),[o,l]=v.useState({name:"",role:"Kitchen Staff"}),[c,d]=v.useState(!1),{user:f}=hn(),{isAdmin:h,isManager:m}=Di(),{toast:g}=ft();v.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:b,error:j}=await he.from("staff").select("*").order("name");if(j)throw j;t(b||[])}catch(b){console.error("Error fetching staff:",b),g({title:"Error",description:"Failed to fetch staff list",variant:"destructive"})}},w=async b=>{if(b.preventDefault(),!(!f||!o.name.trim())){d(!0);try{const{data:j}=await he.from("profiles").select("organization_id").eq("user_id",f.id).single(),{error:C}=await he.from("staff").insert({name:o.name.trim(),role:o.role,organization_id:j?.organization_id,is_active:!0});if(C)throw C;g({title:"Success",description:"Staff member added successfully"}),l({name:"",role:"Kitchen Staff"}),n(!1),y()}catch(j){console.error("Error adding staff:",j),g({title:"Error",description:"Failed to add staff member",variant:"destructive"})}finally{d(!1)}}},N=async(b,j)=>{try{const{error:C}=await he.from("staff").update({is_active:!j}).eq("id",b);if(C)throw C;g({title:"Success",description:`Staff member ${j?"deactivated":"activated"}`}),y()}catch(C){console.error("Error updating staff status:",C),g({title:"Error",description:"Failed to update staff status",variant:"destructive"})}};return!h&&!m?null:a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"w-5 h-5"}),"Staff Management"]}),a.jsxs(pe,{onClick:()=>n(!0),children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]})}),a.jsx(We,{children:a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ro,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No staff members found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your first staff member to get started"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(b=>a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:b.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:b.role})]}),a.jsx(Qe,{variant:b.is_active?"default":"secondary",children:b.is_active?"Active":"Inactive"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(pe,{size:"sm",variant:b.is_active?"outline":"default",onClick:()=>N(b.id,b.is_active),children:b.is_active?"Deactivate":"Activate"})})]},b.id))})})}),a.jsx(ji,{open:r,onOpenChange:n,children:a.jsxs(oo,{className:"max-w-md",children:[a.jsx(io,{children:a.jsx(ao,{children:"Add New Staff Member"})}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"staffName",children:"Staff Name *"}),a.jsx(Fe,{id:"staffName",value:o.name,onChange:b=>l({...o,name:b.target.value}),placeholder:"Enter staff member's name",required:!0})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"staffRole",children:"Role"}),a.jsxs(un,{value:o.role,onValueChange:b=>l({...o,role:b}),children:[a.jsx(zr,{children:a.jsx(dn,{})}),a.jsx(Wr,{className:"bg-background opacity-100",children:$M.map(b=>a.jsx(Ke,{value:b,className:"bg-background opacity-100",children:b},b))})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(pe,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:c,children:"Cancel"}),a.jsx(pe,{type:"submit",disabled:c||!o.name.trim(),children:c?"Adding...":"Add Staff Member"})]})]})]})})]})}function UM(){const[e,t]=v.useState(null),[r,n]=v.useState(!0),{user:o}=hn(),{roles:l,highestRole:c,loading:d,isAdmin:f}=Di(),{toast:h}=ft();v.useEffect(()=>{m()},[o]);const m=async()=>{if(o)try{const{data:g,error:y}=await he.from("profiles").select("organization_id, display_name, phone, position").eq("user_id",o.id).single();if(y)throw y;t(g)}catch(g){console.error("Error fetching user profile:",g),h({title:"Error",description:"Failed to fetch user profile",variant:"destructive"})}finally{n(!1)}};if(!(r||d))return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(qc,{className:"w-5 h-5"}),"User Profile & Roles"]})}),a.jsx(We,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Name"}),a.jsx("p",{className:"font-medium",children:e?.display_name||"Not set"})]}),e?.position&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Position"}),a.jsx("p",{className:"font-medium",children:e.position})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Assigned Roles"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.length>0?l.map(g=>a.jsxs(Qe,{variant:g==="admin"?"default":"secondary",className:"flex items-center gap-1",children:[a.jsx(yu,{className:"w-3 h-3"}),g]},g)):a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Pn,{className:"w-4 h-4"}),"No roles assigned"]})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Highest Role"}),a.jsx("p",{className:"font-medium",children:c||"None"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"User ID"}),a.jsx("p",{className:"font-mono text-xs",children:o?.id})]})]}),f&&a.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("p",{className:"text-green-800 text-sm font-medium",children:" You have admin access - Staff management is available below"})}),!l.length&&a.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("p",{className:"text-amber-800 text-sm",children:[a.jsx("strong",{children:"Note:"})," You don't have any roles assigned yet. Contact an administrator to assign you a role."]})})]})})]}),f&&a.jsx(BM,{})]})}function zM(){const[e,t]=v.useState([]),[r,n]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState("kg"),[f,h]=v.useState("spoilage"),[m,g]=v.useState(""),{toast:y}=ft();v.useEffect(()=>{w()},[]);const w=async()=>{const{data:j,error:C}=await he.from("waste_logs").select("*").order("logged_at",{ascending:!1}).limit(10);!C&&j&&t(j)},N=async()=>{if(!r||!o){y({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const{data:{user:j}}=await he.auth.getUser();if(!j)return;const{data:C}=await he.from("profiles").select("organization_id").eq("user_id",j.id).single(),{error:E}=await he.from("waste_logs").insert({organization_id:C?.organization_id,logged_by:j.id,item_name:r,quantity:parseFloat(o),unit:c,reason:f,estimated_cost:m?parseFloat(m):null});E?y({title:"Error",description:"Failed to log waste",variant:"destructive"}):(y({title:"Success",description:"Waste logged successfully"}),n(""),l(""),g(""),w())},b=e.reduce((j,C)=>j+(C.estimated_cost||0),0);return a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(qp,{className:"w-5 h-5"}),"Waste Tracker"]})}),a.jsxs(We,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Fe,{placeholder:"Item name",value:r,onChange:j=>n(j.target.value)}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fe,{type:"number",placeholder:"Quantity",value:o,onChange:j=>l(j.target.value)}),a.jsxs(un,{value:c,onValueChange:d,children:[a.jsx(zr,{className:"w-24",children:a.jsx(dn,{})}),a.jsxs(Wr,{className:"bg-background opacity-100",children:[a.jsx(Ke,{value:"kg",className:"bg-background opacity-100",children:"kg"}),a.jsx(Ke,{value:"l",className:"bg-background opacity-100",children:"L"}),a.jsx(Ke,{value:"pcs",className:"bg-background opacity-100",children:"pcs"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(un,{value:f,onValueChange:h,children:[a.jsx(zr,{children:a.jsx(dn,{})}),a.jsxs(Wr,{className:"bg-background opacity-100",children:[a.jsx(Ke,{value:"spoilage",className:"bg-background opacity-100",children:"Spoilage"}),a.jsx(Ke,{value:"overcooking",className:"bg-background opacity-100",children:"Overcooking"}),a.jsx(Ke,{value:"expired",className:"bg-background opacity-100",children:"Expired"}),a.jsx(Ke,{value:"contamination",className:"bg-background opacity-100",children:"Contamination"})]})]}),a.jsx(Fe,{type:"number",placeholder:"Estimated cost (optional)",value:m,onChange:j=>g(j.target.value)})]}),a.jsx(pe,{onClick:N,className:"w-full",children:"Log Waste"}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Total Cost (Recent)"}),a.jsxs("span",{className:"text-lg font-bold text-destructive",children:["$",b.toFixed(2)]})]}),a.jsx("div",{className:"space-y-2",children:e.slice(0,3).map(j=>a.jsxs("div",{className:"text-sm flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[j.item_name," (",j.quantity," ",j.unit,")"]}),a.jsxs("span",{className:"text-destructive",children:["$",(j.estimated_cost||0).toFixed(2)]})]},j.id))})]})]})]})}function WM(){const[e,t]=v.useState([]),[r,n]=v.useState(null);v.useEffect(()=>{o()},[]);const o=async()=>{const{data:d}=await he.from("compliance_checks").select("*").order("checked_at",{ascending:!1}).limit(5);if(d){t(d);const f=d.length,h=d.filter(y=>y.status==="passed").length,m=d.filter(y=>y.status==="failed").length,g=d.filter(y=>y.status==="needs_attention").length;n({total_checks:f,passed_count:h,failed_count:m,needs_attention_count:g})}},l=d=>{switch(d){case"passed":return a.jsx(Mw,{className:"h-4 w-4 text-green-500"});case"failed":return a.jsx(Vp,{className:"h-4 w-4 text-red-500"});case"needs_attention":return a.jsx(Pn,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(Pn,{className:"h-4 w-4 text-gray-500"})}},c=d=>{const f={passed:"default",failed:"destructive",needs_attention:"secondary"};return a.jsx(Qe,{variant:f[d]||"default",children:d.replace("_"," ")})};return a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(yu,{className:"h-5 w-5"}),"Compliance Reports"]})}),a.jsx(We,{children:r&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Checks"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total_checks})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Passed"}),a.jsx("p",{className:"text-2xl font-bold text-success",children:r.passed_count})]})]}),a.jsx("div",{className:"space-y-2",children:e.map(d=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[l(d.status),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:d.check_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d.area})]})]}),c(d.status)]},d.id))})]})})]})}var Tm="Progress",Rm=100,[VM]=er(Tm),[qM,HM]=VM(Tm),oj=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:l=KM,...c}=e;(o||o===0)&&!g0(o)&&console.error(GM(`${o}`,"Progress"));const d=g0(o)?o:Rm;n!==null&&!v0(n,d)&&console.error(YM(`${n}`,"Progress"));const f=v0(n,d)?n:null,h=ou(f)?l(f,d):void 0;return a.jsx(qM,{scope:r,value:f,max:d,children:a.jsx(be.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":ou(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":lj(f,d),"data-value":f??void 0,"data-max":d,...c,ref:t})})});oj.displayName=Tm;var ij="ProgressIndicator",aj=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=HM(ij,r);return a.jsx(be.div,{"data-state":lj(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});aj.displayName=ij;function KM(e,t){return`${Math.round(e/t*100)}%`}function lj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ou(e){return typeof e=="number"}function g0(e){return ou(e)&&!isNaN(e)&&e>0}function v0(e,t){return ou(e)&&!isNaN(e)&&e<=t&&e>=0}function GM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Rm}\`.`}function YM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Rm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cj=oj,QM=aj;const iu=v.forwardRef(({className:e,value:t,...r},n)=>a.jsx(cj,{ref:n,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(QM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));iu.displayName=cj.displayName;function JM(){const[e,t]=v.useState([]),[r,n]=v.useState(!0);v.useEffect(()=>{o()},[]);const o=async()=>{const{data:d,error:f}=await he.from("efficiency_analytics").select("*").limit(5);!f&&d&&t(d),n(!1)},l=d=>d<=1.1?"text-green-500":d<=1.3?"text-yellow-500":"text-red-500",c=d=>d<=1.1?"Excellent":d<=1.3?"Good":"Needs Improvement";return r?a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-5 w-5"}),"Efficiency Metrics"]})}),a.jsx(We,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})})]}):a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-5 w-5"}),"Production Efficiency"]})}),a.jsx(We,{children:e.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No production data yet"}):a.jsx("div",{className:"space-y-4",children:e.map((d,f)=>{const h=d.time_efficiency_ratio||1,m=(d.avg_quality||0)/5*100;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-sm",children:d.recipe_name}),a.jsx("span",{className:`text-xs font-medium ${l(h)}`,children:c(h)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("div",{className:"flex-1",children:a.jsx(iu,{value:Math.min(1/h*100,100)})}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[(h*100).toFixed(0),"% of planned time"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kh,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("div",{className:"flex-1",children:a.jsx(iu,{value:m})}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.avg_quality?.toFixed(1),"/5.0"]})]})]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.production_count," batches  ",d.total_produced," units produced"]})]},f)})})})]})}function XM(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[o,l]=v.useState(0),{user:c}=hn(),{toast:d}=ft();v.useEffect(()=>{f(),h()},[]);const f=async()=>{try{n(!0);const{data:m,error:g}=await he.from("prepared_items").select(`
          *,
          recipes:recipe_id (
            name,
            hold_time_days,
            allergens
          )
        `).order("prepared_at",{ascending:!1}).limit(10);if(g)throw g;const y=m?.map(w=>{const N=w.recipes,b=bp(new Date(w.prepared_at),N.hold_time_days||3),j=o0(new Date,bp(b,-1)),C=o0(new Date,b);return{...w,recipe_name:N?.name||"Unknown Recipe",expiry_date:b,status:C?"expired":j?"expiring":"good",allergens:N?.allergens||[]}})||[];t(y)}catch(m){console.error("Error fetching recent activity:",m),d({title:"Error",description:"Failed to fetch recent activity",variant:"destructive"})}finally{n(!1)}},h=async()=>{try{const{data:m,error:g}=await he.from("waste_logs").select("estimated_cost");if(g)throw g;const y=m?.reduce((w,N)=>w+(N.estimated_cost||0),0)||0;l(y)}catch(m){console.error("Error fetching waste total:",m)}};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Kitchen Dashboard"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor your kitchen operations and food safety"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsx(pe,{variant:"hero",children:"Generate Report"})})]}),a.jsx(rD,{items:e}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(Zt,{title:"Compliance Score",value:"98.5%",change:"+0.3% this week",changeType:"positive",icon:kn}),a.jsx(Zt,{title:"Total Waste Cost",value:`$${o.toFixed(2)}`,icon:Ma})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-secondary/10 rounded-lg flex items-center justify-center",children:a.jsx(A2,{className:"w-4 h-4 text-secondary"})}),a.jsx("h3",{className:"font-semibold",children:"Temperature Alerts"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 bg-success/10 rounded-lg border border-success/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Walk-in Cooler"}),a.jsx("span",{className:"text-sm text-success",children:"3C"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Normal range"})]}),a.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg border border-warning/20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Freezer Unit 2"}),a.jsx("span",{className:"text-sm text-warning",children:"-17C"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Slightly high"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-accent/50 rounded-lg flex items-center justify-center",children:a.jsx(to,{className:"w-4 h-4 text-accent-foreground"})}),a.jsx("h3",{className:"font-semibold",children:"Daily Routine"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[a.jsx("span",{className:"text-sm",children:"Opening Checklist"}),a.jsx("span",{className:"text-sm text-success font-medium",children:"Complete"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[a.jsx("span",{className:"text-sm",children:"Temperature Logs"}),a.jsx("span",{className:"text-sm text-warning font-medium",children:"In Progress"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm",children:"Cleaning Tasks"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"})]})]})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(Cn,{className:"w-4 h-4 text-primary"})}),a.jsx("h3",{className:"font-semibold",children:"Today's Schedule"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[a.jsx("span",{className:"text-sm",children:"Morning Prep"}),a.jsx("span",{className:"text-sm text-success font-medium",children:"Complete"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[a.jsx("span",{className:"text-sm",children:"Lunch Service"}),a.jsx("span",{className:"text-sm text-warning font-medium",children:"In Progress"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm",children:"Evening Prep"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-accent/50 rounded-lg flex items-center justify-center",children:a.jsx(mu,{className:"w-4 h-4 text-accent-foreground"})}),a.jsx("h3",{className:"font-semibold",children:"Recent Preparations"})]}),a.jsx("div",{className:"space-y-3",children:r?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading activity..."}):e.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"No recent activity"}):e.slice(0,3).map((m,g)=>a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:m.recipe_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Expires: ",qs(new Date(m.expiry_date),"dd/MM HH:mm")]}),a.jsx(Qe,{variant:m.status==="expired"?"destructive":m.status==="expiring"?"default":"secondary",className:"text-xs",children:m.status==="expired"?"Expired":m.status==="expiring"?"Expiring":"Fresh"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:qs(new Date(m.prepared_at),"MMM dd, HH:mm")})]},g))})]})}),a.jsx(UM,{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(zM,{}),a.jsx(WM,{}),a.jsx(JM,{})]}),a.jsx(H1,{})]})}const au=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));au.displayName="Textarea";var Wu="Checkbox",[ZM]=er(Wu),[eL,Am]=ZM(Wu);function tL(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:l,form:c,name:d,onCheckedChange:f,required:h,value:m="on",internal_do_not_use_render:g}=e,[y,w]=ds({prop:r,defaultProp:o??!1,onChange:f,caller:Wu}),[N,b]=v.useState(null),[j,C]=v.useState(null),E=v.useRef(!1),_=N?!!c||!!N.closest("form"):!0,P={checked:y,disabled:l,setChecked:w,control:N,setControl:b,name:d,form:c,value:m,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:us(o)?!1:o,isFormControl:_,bubbleInput:j,setBubbleInput:C};return a.jsx(eL,{scope:t,...P,children:rL(g)?g(P):n})}var uj="CheckboxTrigger",dj=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:l,value:c,disabled:d,checked:f,required:h,setControl:m,setChecked:g,hasConsumerStoppedPropagationRef:y,isFormControl:w,bubbleInput:N}=Am(uj,e),b=$e(o,m),j=v.useRef(f);return v.useEffect(()=>{const C=l?.form;if(C){const E=()=>g(j.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[l,g]),a.jsx(be.button,{type:"button",role:"checkbox","aria-checked":us(f)?"mixed":f,"aria-required":h,"data-state":gj(f),"data-disabled":d?"":void 0,disabled:d,value:c,...n,ref:b,onKeyDown:xe(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:xe(r,C=>{g(E=>us(E)?!0:!E),N&&w&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})})});dj.displayName=uj;var Om=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:l,required:c,disabled:d,value:f,onCheckedChange:h,form:m,...g}=e;return a.jsx(tL,{__scopeCheckbox:r,checked:o,defaultChecked:l,disabled:d,required:c,onCheckedChange:h,name:n,form:m,value:f,internal_do_not_use_render:({isFormControl:y})=>a.jsxs(a.Fragment,{children:[a.jsx(dj,{...g,ref:t,__scopeCheckbox:r}),y&&a.jsx(mj,{__scopeCheckbox:r})]})})});Om.displayName=Wu;var fj="CheckboxIndicator",hj=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,l=Am(fj,r);return a.jsx(tr,{present:n||us(l.checked)||l.checked===!0,children:a.jsx(be.span,{"data-state":gj(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});hj.displayName=fj;var pj="CheckboxBubbleInput",mj=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:l,defaultChecked:c,required:d,disabled:f,name:h,value:m,form:g,bubbleInput:y,setBubbleInput:w}=Am(pj,e),N=$e(r,w),b=bS(l),j=lb(n);v.useEffect(()=>{const E=y;if(!E)return;const _=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(_,"checked").set,O=!o.current;if(b!==l&&T){const I=new Event("click",{bubbles:O});E.indeterminate=us(l),T.call(E,us(l)?!1:l),E.dispatchEvent(I)}},[y,b,l,o]);const C=v.useRef(us(l)?!1:l);return a.jsx(be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,required:d,disabled:f,name:h,value:m,form:g,...t,tabIndex:-1,ref:N,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mj.displayName=pj;function rL(e){return typeof e=="function"}function us(e){return e==="indeterminate"}function gj(e){return us(e)?"indeterminate":e?"checked":"unchecked"}const Vu=v.forwardRef(({className:e,...t},r)=>a.jsx(Om,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(hj,{className:de("flex items-center justify-center text-current"),children:a.jsx(sn,{className:"h-4 w-4"})})}));Vu.displayName=Om.displayName;const nL=["Dairy","Eggs","Fish","Shellfish","Tree Nuts","Peanuts","Wheat","Gluten","Soybeans","Sesame","Lupin","Sulphites","Mustard","Celery"],sL=["Vegan","Vegetarian","Halal","Kosher","Gluten-Free","Dairy-Free","Nut-Free"],oL=["Entrees","Mains","Desserts","Sides","Sauces","Beverages","Bakery","Other"];function iL({open:e,onOpenChange:t,onSuccess:r,recipeToEdit:n}){const[o,l]=v.useState({name:"",yieldAmount:"",yieldUnit:"servings",holdTimeDays:"3",category:"Mains",estimatedPrepMinutes:"30",serviceGapMinutes:"0"}),[c,d]=v.useState([]),[f,h]=v.useState(""),[m,g]=v.useState([]),[y,w]=v.useState(""),[N,b]=v.useState([]),[j,C]=v.useState(""),[E,_]=v.useState([]),[P,T]=v.useState(!1),{user:O}=hn(),{toast:I}=ft();v.useEffect(()=>{n?(l({name:n.name||"",yieldAmount:n.yield_amount?.toString()||"",yieldUnit:n.yield_unit||"servings",holdTimeDays:n.hold_time_days?.toString()||"3",category:n.category||"Mains",estimatedPrepMinutes:n.estimated_prep_minutes?.toString()||"30",serviceGapMinutes:n.service_gap_minutes?.toString()||"0"}),d(n.ingredients||[]),g(n.prep_steps||[]),b(n.allergens||[]),_(n.dietary_requirements||[])):B()},[n,e]);const B=()=>{l({name:"",yieldAmount:"",yieldUnit:"servings",holdTimeDays:"3",category:"Mains",estimatedPrepMinutes:"30",serviceGapMinutes:"0"}),d([]),h(""),g([]),w(""),b([]),C(""),_([])},V=()=>{f.trim()&&(d([...c,f.trim()]),h(""))},te=U=>{d(c.filter((ne,K)=>K!==U))},ee=()=>{y.trim()&&(g([...m,y.trim()]),w(""))},X=U=>{g(m.filter((ne,K)=>K!==U))},$=U=>{b(ne=>ne.includes(U)?ne.filter(K=>K!==U):[...ne,U])},z=()=>{j.trim()&&!N.includes(j.trim())&&(b([...N,j.trim()]),C(""))},q=async U=>{if(U.preventDefault(),!!O){if(!o.name.trim()||c.length===0||m.length===0){I({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}T(!0);try{const{data:ne}=await he.from("profiles").select("organization_id").eq("user_id",O.id).single(),K={name:o.name.trim(),ingredients:c,prep_steps:m,allergens:N,dietary_requirements:E,yield_amount:parseInt(o.yieldAmount)||1,yield_unit:o.yieldUnit,hold_time_days:parseInt(o.holdTimeDays)||3,category:o.category,estimated_prep_minutes:parseInt(o.estimatedPrepMinutes)||30,service_gap_minutes:parseInt(o.serviceGapMinutes)||0};let G;if(n?G=(await he.from("recipes").update(K).eq("id",n.id)).error:G=(await he.from("recipes").insert({...K,created_by:O.id,organization_id:ne?.organization_id})).error,G)throw G;I({title:"Success",description:n?"Recipe updated successfully":"Recipe created successfully"}),B(),t(!1),r()}catch(ne){console.error("Error creating recipe:",ne),I({title:"Error",description:"Failed to create recipe",variant:"destructive"})}finally{T(!1)}}};return a.jsx(ji,{open:e,onOpenChange:t,children:a.jsxs(oo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(io,{children:a.jsx(ao,{children:n?"Edit Recipe":"Create New Recipe"})}),a.jsxs("form",{onSubmit:q,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Re,{htmlFor:"name",children:"Recipe Name *"}),a.jsx(Fe,{id:"name",value:o.name,onChange:U=>l({...o,name:U.target.value}),placeholder:"Enter recipe name",required:!0})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"category",children:"Category"}),a.jsxs(un,{value:o.category,onValueChange:U=>l({...o,category:U}),children:[a.jsx(zr,{children:a.jsx(dn,{})}),a.jsx(Wr,{className:"bg-background opacity-100",children:oL.map(U=>a.jsx(Ke,{value:U,className:"bg-background opacity-100",children:U},U))})]})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"holdTime",children:"Hold Time (days) *"}),a.jsx(Fe,{id:"holdTime",type:"number",value:o.holdTimeDays,onChange:U=>l({...o,holdTimeDays:U.target.value}),placeholder:"3",min:"1",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"yield",children:"Yield *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fe,{id:"yield",type:"number",value:o.yieldAmount,onChange:U=>l({...o,yieldAmount:U.target.value}),placeholder:"Amount",min:"1",required:!0}),a.jsxs(un,{value:o.yieldUnit,onValueChange:U=>l({...o,yieldUnit:U}),children:[a.jsx(zr,{className:"w-32",children:a.jsx(dn,{})}),a.jsxs(Wr,{className:"bg-background opacity-100",children:[a.jsx(Ke,{value:"servings",className:"bg-background opacity-100",children:"servings"}),a.jsx(Ke,{value:"portions",className:"bg-background opacity-100",children:"portions"}),a.jsx(Ke,{value:"litres",className:"bg-background opacity-100",children:"litres"}),a.jsx(Ke,{value:"kg",className:"bg-background opacity-100",children:"kg"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"prepTime",children:"Est. Prep Time (minutes)"}),a.jsx(Fe,{id:"prepTime",type:"number",value:o.estimatedPrepMinutes,onChange:U=>l({...o,estimatedPrepMinutes:U.target.value}),placeholder:"30",min:"1"})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"serviceGap",children:"Service Gap (minutes)"}),a.jsx(Fe,{id:"serviceGap",type:"number",value:o.serviceGapMinutes,onChange:U=>l({...o,serviceGapMinutes:U.target.value}),placeholder:"0",min:"0"})]})]}),a.jsxs("div",{children:[a.jsx(Re,{children:"Ingredients *"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx(Fe,{value:f,onChange:U=>h(U.target.value),placeholder:"Add ingredient",onKeyPress:U=>U.key==="Enter"&&(U.preventDefault(),V())}),a.jsx(pe,{type:"button",onClick:V,size:"sm",children:a.jsx(dr,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((U,ne)=>a.jsxs(Qe,{variant:"secondary",className:"gap-1",children:[U,a.jsx(yi,{className:"w-3 h-3 cursor-pointer",onClick:()=>te(ne)})]},ne))})]}),a.jsxs("div",{children:[a.jsx(Re,{children:"Preparation Steps *"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx(au,{value:y,onChange:U=>w(U.target.value),placeholder:"Add preparation step",className:"min-h-[60px]"}),a.jsx(pe,{type:"button",onClick:ee,size:"sm",children:a.jsx(dr,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"space-y-2",children:m.map((U,ne)=>a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[a.jsxs("span",{className:"font-medium text-sm text-muted-foreground",children:[ne+1,"."]}),a.jsx("span",{className:"flex-1 text-sm",children:U}),a.jsx(yi,{className:"w-4 h-4 cursor-pointer text-muted-foreground hover:text-destructive",onClick:()=>X(ne)})]},ne))})]}),a.jsxs("div",{children:[a.jsx(Re,{children:"Allergens"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-4",children:nL.map(U=>a.jsx(pe,{type:"button",variant:N.includes(U)?"default":"outline",size:"sm",onClick:()=>$(U),children:U},U))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fe,{value:j,onChange:U=>C(U.target.value),placeholder:"Add custom allergen",onKeyPress:U=>U.key==="Enter"&&(U.preventDefault(),z())}),a.jsx(pe,{type:"button",onClick:z,size:"sm",variant:"outline",children:a.jsx(dr,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx(Re,{children:"Dietary Requirements"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:sL.map(U=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vu,{id:U,checked:E.includes(U),onCheckedChange:ne=>{_(ne?[...E,U]:E.filter(K=>K!==U))}}),a.jsx(Re,{htmlFor:U,className:"text-sm font-normal",children:U})]},U))})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(pe,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:P,children:"Cancel"}),a.jsx(pe,{type:"submit",disabled:P,children:P?n?"Updating...":"Creating...":n?"Update Recipe":"Create Recipe"})]})]})]})})}var vj="AlertDialog",[aL]=er(vj,[rS]),An=rS(),yj=e=>{const{__scopeAlertDialog:t,...r}=e,n=An(t);return a.jsx(Nm,{...n,...r,modal:!0})};yj.displayName=vj;var lL="AlertDialogTrigger",cL=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=An(r);return a.jsx(sM,{...o,...n,ref:t})});cL.displayName=lL;var uL="AlertDialogPortal",xj=e=>{const{__scopeAlertDialog:t,...r}=e,n=An(t);return a.jsx(_m,{...n,...r})};xj.displayName=uL;var dL="AlertDialogOverlay",wj=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=An(r);return a.jsx(Lu,{...o,...n,ref:t})});wj.displayName=dL;var gi="AlertDialogContent",[fL,hL]=aL(gi),pL=iw("AlertDialogContent"),bj=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,l=An(r),c=v.useRef(null),d=$e(t,c),f=v.useRef(null);return a.jsx(eM,{contentName:gi,titleName:Sj,docsSlug:"alert-dialog",children:a.jsx(fL,{scope:r,cancelRef:f,children:a.jsxs(Fu,{role:"alertdialog",...l,...o,ref:d,onOpenAutoFocus:xe(o.onOpenAutoFocus,h=>{h.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[a.jsx(pL,{children:n}),a.jsx(gL,{contentRef:c})]})})})});bj.displayName=gi;var Sj="AlertDialogTitle",jj=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=An(r);return a.jsx(Em,{...o,...n,ref:t})});jj.displayName=Sj;var Nj="AlertDialogDescription",_j=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=An(r);return a.jsx(Cm,{...o,...n,ref:t})});_j.displayName=Nj;var mL="AlertDialogAction",Ej=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=An(r);return a.jsx(km,{...o,...n,ref:t})});Ej.displayName=mL;var Cj="AlertDialogCancel",kj=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=hL(Cj,r),l=An(r),c=$e(t,o);return a.jsx(km,{...l,...n,ref:c})});kj.displayName=Cj;var gL=({contentRef:e})=>{const t=`\`${gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gi}\` by passing a \`${Nj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vL=yj,yL=xj,Pj=wj,Tj=bj,Rj=Ej,Aj=kj,Oj=jj,Ij=_j;const vi=vL,xL=yL,Dj=v.forwardRef(({className:e,...t},r)=>a.jsx(Pj,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Dj.displayName=Pj.displayName;const Hs=v.forwardRef(({className:e,...t},r)=>a.jsxs(xL,{children:[a.jsx(Dj,{}),a.jsx(Tj,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Hs.displayName=Tj.displayName;const Ks=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ks.displayName="AlertDialogHeader";const Gs=({className:e,...t})=>a.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Gs.displayName="AlertDialogFooter";const Ys=v.forwardRef(({className:e,...t},r)=>a.jsx(Oj,{ref:r,className:de("text-lg font-semibold",e),...t}));Ys.displayName=Oj.displayName;const Qs=v.forwardRef(({className:e,...t},r)=>a.jsx(Ij,{ref:r,className:de("text-sm text-muted-foreground",e),...t}));Qs.displayName=Ij.displayName;const Js=v.forwardRef(({className:e,...t},r)=>a.jsx(Rj,{ref:r,className:de(am(),e),...t}));Js.displayName=Rj.displayName;const Xs=v.forwardRef(({className:e,...t},r)=>a.jsx(Aj,{ref:r,className:de(am({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Xs.displayName=Aj.displayName;var Xo={},lh,y0;function wL(){return y0||(y0=1,lh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),lh}var ch={},os={},x0;function mo(){if(x0)return os;x0=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return os.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},os.getSymbolTotalCodewords=function(n){return t[n]},os.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},os.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');e=n},os.isKanjiModeEnabled=function(){return typeof e<"u"},os.toSJIS=function(n){return e(n)},os}var uh={},w0;function Im(){return w0||(w0=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,o){if(e.isValid(n))return n;try{return t(n)}catch{return o}}})(uh)),uh}var dh,b0;function bL(){if(b0)return dh;b0=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)===1},put:function(t,r){for(let n=0;n<r;n++)this.putBit((t>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},dh=e,dh}var fh,S0;function SL(){if(S0)return fh;S0=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,r,n,o){const l=t*this.size+r;this.data[l]=n,o&&(this.reservedBit[l]=!0)},e.prototype.get=function(t,r){return this.data[t*this.size+r]},e.prototype.xor=function(t,r,n){this.data[t*this.size+r]^=n},e.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]},fh=e,fh}var hh={},j0;function jL(){return j0||(j0=1,(function(e){const t=mo().getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const o=Math.floor(n/7)+2,l=t(n),c=l===145?26:Math.ceil((l-13)/(2*o-2))*2,d=[l-7];for(let f=1;f<o-1;f++)d[f]=d[f-1]-c;return d.push(6),d.reverse()},e.getPositions=function(n){const o=[],l=e.getRowColCoords(n),c=l.length;for(let d=0;d<c;d++)for(let f=0;f<c;f++)d===0&&f===0||d===0&&f===c-1||d===c-1&&f===0||o.push([l[d],l[f]]);return o}})(hh)),hh}var ph={},N0;function NL(){if(N0)return ph;N0=1;const e=mo().getSymbolSize,t=7;return ph.getPositions=function(n){const o=e(n);return[[0,0],[o-t,0],[0,o-t]]},ph}var mh={},_0;function _L(){return _0||(_0=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const l=o.size;let c=0,d=0,f=0,h=null,m=null;for(let g=0;g<l;g++){d=f=0,h=m=null;for(let y=0;y<l;y++){let w=o.get(g,y);w===h?d++:(d>=5&&(c+=t.N1+(d-5)),h=w,d=1),w=o.get(y,g),w===m?f++:(f>=5&&(c+=t.N1+(f-5)),m=w,f=1)}d>=5&&(c+=t.N1+(d-5)),f>=5&&(c+=t.N1+(f-5))}return c},e.getPenaltyN2=function(o){const l=o.size;let c=0;for(let d=0;d<l-1;d++)for(let f=0;f<l-1;f++){const h=o.get(d,f)+o.get(d,f+1)+o.get(d+1,f)+o.get(d+1,f+1);(h===4||h===0)&&c++}return c*t.N2},e.getPenaltyN3=function(o){const l=o.size;let c=0,d=0,f=0;for(let h=0;h<l;h++){d=f=0;for(let m=0;m<l;m++)d=d<<1&2047|o.get(h,m),m>=10&&(d===1488||d===93)&&c++,f=f<<1&2047|o.get(m,h),m>=10&&(f===1488||f===93)&&c++}return c*t.N3},e.getPenaltyN4=function(o){let l=0;const c=o.data.length;for(let f=0;f<c;f++)l+=o.data[f];return Math.abs(Math.ceil(l*100/c/5)-10)*t.N4};function r(n,o,l){switch(n){case e.Patterns.PATTERN000:return(o+l)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return l%3===0;case e.Patterns.PATTERN011:return(o+l)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2===0;case e.Patterns.PATTERN101:return o*l%2+o*l%3===0;case e.Patterns.PATTERN110:return(o*l%2+o*l%3)%2===0;case e.Patterns.PATTERN111:return(o*l%3+(o+l)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(o,l){const c=l.size;for(let d=0;d<c;d++)for(let f=0;f<c;f++)l.isReserved(f,d)||l.xor(f,d,r(o,f,d))},e.getBestMask=function(o,l){const c=Object.keys(e.Patterns).length;let d=0,f=1/0;for(let h=0;h<c;h++){l(h),e.applyMask(h,o);const m=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(h,o),m<f&&(f=m,d=h)}return d}})(mh)),mh}var Lc={},E0;function Mj(){if(E0)return Lc;E0=1;const e=Im(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Lc.getBlocksCount=function(o,l){switch(l){case e.L:return t[(o-1)*4+0];case e.M:return t[(o-1)*4+1];case e.Q:return t[(o-1)*4+2];case e.H:return t[(o-1)*4+3];default:return}},Lc.getTotalCodewordsCount=function(o,l){switch(l){case e.L:return r[(o-1)*4+0];case e.M:return r[(o-1)*4+1];case e.Q:return r[(o-1)*4+2];case e.H:return r[(o-1)*4+3];default:return}},Lc}var gh={},Na={},C0;function EL(){if(C0)return Na;C0=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let n=1;for(let o=0;o<255;o++)e[o]=n,t[n]=o,n<<=1,n&256&&(n^=285);for(let o=255;o<512;o++)e[o]=e[o-255]})(),Na.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},Na.exp=function(n){return e[n]},Na.mul=function(n,o){return n===0||o===0?0:e[t[n]+t[o]]},Na}var k0;function CL(){return k0||(k0=1,(function(e){const t=EL();e.mul=function(n,o){const l=new Uint8Array(n.length+o.length-1);for(let c=0;c<n.length;c++)for(let d=0;d<o.length;d++)l[c+d]^=t.mul(n[c],o[d]);return l},e.mod=function(n,o){let l=new Uint8Array(n);for(;l.length-o.length>=0;){const c=l[0];for(let f=0;f<o.length;f++)l[f]^=t.mul(o[f],c);let d=0;for(;d<l.length&&l[d]===0;)d++;l=l.slice(d)}return l},e.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let l=0;l<n;l++)o=e.mul(o,new Uint8Array([1,t.exp(l)]));return o}})(gh)),gh}var vh,P0;function kL(){if(P0)return vh;P0=1;const e=CL();function t(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(n.length+this.degree);o.set(n);const l=e.mod(o,this.genPoly),c=this.degree-l.length;if(c>0){const d=new Uint8Array(this.degree);return d.set(l,c),d}return l},vh=t,vh}var yh={},xh={},wh={},T0;function Lj(){return T0||(T0=1,wh.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),wh}var nn={},R0;function Fj(){if(R0)return nn;R0=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;nn.KANJI=new RegExp(r,"g"),nn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),nn.BYTE=new RegExp(n,"g"),nn.NUMERIC=new RegExp(e,"g"),nn.ALPHANUMERIC=new RegExp(t,"g");const o=new RegExp("^"+r+"$"),l=new RegExp("^"+e+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return nn.testKanji=function(f){return o.test(f)},nn.testNumeric=function(f){return l.test(f)},nn.testAlphanumeric=function(f){return c.test(f)},nn}var A0;function go(){return A0||(A0=1,(function(e){const t=Lj(),r=Fj();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(l,c){if(!l.ccBits)throw new Error("Invalid mode: "+l);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?l.ccBits[0]:c<27?l.ccBits[1]:l.ccBits[2]},e.getBestModeForData=function(l){return r.testNumeric(l)?e.NUMERIC:r.testAlphanumeric(l)?e.ALPHANUMERIC:r.testKanji(l)?e.KANJI:e.BYTE},e.toString=function(l){if(l&&l.id)return l.id;throw new Error("Invalid mode")},e.isValid=function(l){return l&&l.bit&&l.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(l,c){if(e.isValid(l))return l;try{return n(l)}catch{return c}}})(xh)),xh}var O0;function PL(){return O0||(O0=1,(function(e){const t=mo(),r=Mj(),n=Im(),o=go(),l=Lj(),c=7973,d=t.getBCHDigit(c);function f(y,w,N){for(let b=1;b<=40;b++)if(w<=e.getCapacity(b,N,y))return b}function h(y,w){return o.getCharCountIndicator(y,w)+4}function m(y,w){let N=0;return y.forEach(function(b){const j=h(b.mode,w);N+=j+b.getBitsLength()}),N}function g(y,w){for(let N=1;N<=40;N++)if(m(y,N)<=e.getCapacity(N,w,o.MIXED))return N}e.from=function(w,N){return l.isValid(w)?parseInt(w,10):N},e.getCapacity=function(w,N,b){if(!l.isValid(w))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=o.BYTE);const j=t.getSymbolTotalCodewords(w),C=r.getTotalCodewordsCount(w,N),E=(j-C)*8;if(b===o.MIXED)return E;const _=E-h(b,w);switch(b){case o.NUMERIC:return Math.floor(_/10*3);case o.ALPHANUMERIC:return Math.floor(_/11*2);case o.KANJI:return Math.floor(_/13);case o.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(w,N){let b;const j=n.from(N,n.M);if(Array.isArray(w)){if(w.length>1)return g(w,j);if(w.length===0)return 1;b=w[0]}else b=w;return f(b.mode,b.getLength(),j)},e.getEncodedBits=function(w){if(!l.isValid(w)||w<7)throw new Error("Invalid QR Code version");let N=w<<12;for(;t.getBCHDigit(N)-d>=0;)N^=c<<t.getBCHDigit(N)-d;return w<<12|N}})(yh)),yh}var bh={},I0;function TL(){if(I0)return bh;I0=1;const e=mo(),t=1335,r=21522,n=e.getBCHDigit(t);return bh.getEncodedBits=function(l,c){const d=l.bit<<3|c;let f=d<<10;for(;e.getBCHDigit(f)-n>=0;)f^=t<<e.getBCHDigit(f)-n;return(d<<10|f)^r},bh}var Sh={},jh,D0;function RL(){if(D0)return jh;D0=1;const e=go();function t(r){this.mode=e.NUMERIC,this.data=r.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let o,l,c;for(o=0;o+3<=this.data.length;o+=3)l=this.data.substr(o,3),c=parseInt(l,10),n.put(c,10);const d=this.data.length-o;d>0&&(l=this.data.substr(o),c=parseInt(l,10),n.put(c,d*3+1))},jh=t,jh}var Nh,M0;function AL(){if(M0)return Nh;M0=1;const e=go(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=e.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){let l;for(l=0;l+2<=this.data.length;l+=2){let c=t.indexOf(this.data[l])*45;c+=t.indexOf(this.data[l+1]),o.put(c,11)}this.data.length%2&&o.put(t.indexOf(this.data[l]),6)},Nh=r,Nh}var _h,L0;function OL(){if(L0)return _h;L0=1;const e=go();function t(r){this.mode=e.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){for(let n=0,o=this.data.length;n<o;n++)r.put(this.data[n],8)},_h=t,_h}var Eh,F0;function IL(){if(F0)return Eh;F0=1;const e=go(),t=mo();function r(n){this.mode=e.KANJI,this.data=n}return r.getBitsLength=function(o){return o*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let o;for(o=0;o<this.data.length;o++){let l=t.toSJIS(this.data[o]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),n.put(l,13)}},Eh=r,Eh}var Ch={exports:{}},$0;function DL(){return $0||($0=1,(function(e){var t={single_source_shortest_paths:function(r,n,o){var l={},c={};c[n]=0;var d=t.PriorityQueue.make();d.push(n,0);for(var f,h,m,g,y,w,N,b,j;!d.empty();){f=d.pop(),h=f.value,g=f.cost,y=r[h]||{};for(m in y)y.hasOwnProperty(m)&&(w=y[m],N=g+w,b=c[m],j=typeof c[m]>"u",(j||b>N)&&(c[m]=N,d.push(m,N),l[m]=h))}if(typeof o<"u"&&typeof c[o]>"u"){var C=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(C)}return l},extract_shortest_path_from_predecessor_list:function(r,n){for(var o=[],l=n;l;)o.push(l),r[l],l=r[l];return o.reverse(),o},find_path:function(r,n,o){var l=t.single_source_shortest_paths(r,n,o);return t.extract_shortest_path_from_predecessor_list(l,o)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,o={},l;r=r||{};for(l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);return o.queue=[],o.sorter=r.sorter||n.default_sorter,o},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var o={value:r,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Ch)),Ch.exports}var B0;function ML(){return B0||(B0=1,(function(e){const t=go(),r=RL(),n=AL(),o=OL(),l=IL(),c=Fj(),d=mo(),f=DL();function h(C){return unescape(encodeURIComponent(C)).length}function m(C,E,_){const P=[];let T;for(;(T=C.exec(_))!==null;)P.push({data:T[0],index:T.index,mode:E,length:T[0].length});return P}function g(C){const E=m(c.NUMERIC,t.NUMERIC,C),_=m(c.ALPHANUMERIC,t.ALPHANUMERIC,C);let P,T;return d.isKanjiModeEnabled()?(P=m(c.BYTE,t.BYTE,C),T=m(c.KANJI,t.KANJI,C)):(P=m(c.BYTE_KANJI,t.BYTE,C),T=[]),E.concat(_,P,T).sort(function(I,B){return I.index-B.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function y(C,E){switch(E){case t.NUMERIC:return r.getBitsLength(C);case t.ALPHANUMERIC:return n.getBitsLength(C);case t.KANJI:return l.getBitsLength(C);case t.BYTE:return o.getBitsLength(C)}}function w(C){return C.reduce(function(E,_){const P=E.length-1>=0?E[E.length-1]:null;return P&&P.mode===_.mode?(E[E.length-1].data+=_.data,E):(E.push(_),E)},[])}function N(C){const E=[];for(let _=0;_<C.length;_++){const P=C[_];switch(P.mode){case t.NUMERIC:E.push([P,{data:P.data,mode:t.ALPHANUMERIC,length:P.length},{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.ALPHANUMERIC:E.push([P,{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.KANJI:E.push([P,{data:P.data,mode:t.BYTE,length:h(P.data)}]);break;case t.BYTE:E.push([{data:P.data,mode:t.BYTE,length:h(P.data)}])}}return E}function b(C,E){const _={},P={start:{}};let T=["start"];for(let O=0;O<C.length;O++){const I=C[O],B=[];for(let V=0;V<I.length;V++){const te=I[V],ee=""+O+V;B.push(ee),_[ee]={node:te,lastCount:0},P[ee]={};for(let X=0;X<T.length;X++){const $=T[X];_[$]&&_[$].node.mode===te.mode?(P[$][ee]=y(_[$].lastCount+te.length,te.mode)-y(_[$].lastCount,te.mode),_[$].lastCount+=te.length):(_[$]&&(_[$].lastCount=te.length),P[$][ee]=y(te.length,te.mode)+4+t.getCharCountIndicator(te.mode,E))}}T=B}for(let O=0;O<T.length;O++)P[T[O]].end=0;return{map:P,table:_}}function j(C,E){let _;const P=t.getBestModeForData(C);if(_=t.from(E,P),_!==t.BYTE&&_.bit<P.bit)throw new Error('"'+C+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(P));switch(_===t.KANJI&&!d.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new r(C);case t.ALPHANUMERIC:return new n(C);case t.KANJI:return new l(C);case t.BYTE:return new o(C)}}e.fromArray=function(E){return E.reduce(function(_,P){return typeof P=="string"?_.push(j(P,null)):P.data&&_.push(j(P.data,P.mode)),_},[])},e.fromString=function(E,_){const P=g(E,d.isKanjiModeEnabled()),T=N(P),O=b(T,_),I=f.find_path(O.map,"start","end"),B=[];for(let V=1;V<I.length-1;V++)B.push(O.table[I[V]].node);return e.fromArray(w(B))},e.rawSplit=function(E){return e.fromArray(g(E,d.isKanjiModeEnabled()))}})(Sh)),Sh}var U0;function LL(){if(U0)return ch;U0=1;const e=mo(),t=Im(),r=bL(),n=SL(),o=jL(),l=NL(),c=_L(),d=Mj(),f=kL(),h=PL(),m=TL(),g=go(),y=ML();function w(O,I){const B=O.size,V=l.getPositions(I);for(let te=0;te<V.length;te++){const ee=V[te][0],X=V[te][1];for(let $=-1;$<=7;$++)if(!(ee+$<=-1||B<=ee+$))for(let z=-1;z<=7;z++)X+z<=-1||B<=X+z||($>=0&&$<=6&&(z===0||z===6)||z>=0&&z<=6&&($===0||$===6)||$>=2&&$<=4&&z>=2&&z<=4?O.set(ee+$,X+z,!0,!0):O.set(ee+$,X+z,!1,!0))}}function N(O){const I=O.size;for(let B=8;B<I-8;B++){const V=B%2===0;O.set(B,6,V,!0),O.set(6,B,V,!0)}}function b(O,I){const B=o.getPositions(I);for(let V=0;V<B.length;V++){const te=B[V][0],ee=B[V][1];for(let X=-2;X<=2;X++)for(let $=-2;$<=2;$++)X===-2||X===2||$===-2||$===2||X===0&&$===0?O.set(te+X,ee+$,!0,!0):O.set(te+X,ee+$,!1,!0)}}function j(O,I){const B=O.size,V=h.getEncodedBits(I);let te,ee,X;for(let $=0;$<18;$++)te=Math.floor($/3),ee=$%3+B-8-3,X=(V>>$&1)===1,O.set(te,ee,X,!0),O.set(ee,te,X,!0)}function C(O,I,B){const V=O.size,te=m.getEncodedBits(I,B);let ee,X;for(ee=0;ee<15;ee++)X=(te>>ee&1)===1,ee<6?O.set(ee,8,X,!0):ee<8?O.set(ee+1,8,X,!0):O.set(V-15+ee,8,X,!0),ee<8?O.set(8,V-ee-1,X,!0):ee<9?O.set(8,15-ee-1+1,X,!0):O.set(8,15-ee-1,X,!0);O.set(V-8,8,1,!0)}function E(O,I){const B=O.size;let V=-1,te=B-1,ee=7,X=0;for(let $=B-1;$>0;$-=2)for($===6&&$--;;){for(let z=0;z<2;z++)if(!O.isReserved(te,$-z)){let q=!1;X<I.length&&(q=(I[X]>>>ee&1)===1),O.set(te,$-z,q),ee--,ee===-1&&(X++,ee=7)}if(te+=V,te<0||B<=te){te-=V,V=-V;break}}}function _(O,I,B){const V=new r;B.forEach(function(z){V.put(z.mode.bit,4),V.put(z.getLength(),g.getCharCountIndicator(z.mode,O)),z.write(V)});const te=e.getSymbolTotalCodewords(O),ee=d.getTotalCodewordsCount(O,I),X=(te-ee)*8;for(V.getLengthInBits()+4<=X&&V.put(0,4);V.getLengthInBits()%8!==0;)V.putBit(0);const $=(X-V.getLengthInBits())/8;for(let z=0;z<$;z++)V.put(z%2?17:236,8);return P(V,O,I)}function P(O,I,B){const V=e.getSymbolTotalCodewords(I),te=d.getTotalCodewordsCount(I,B),ee=V-te,X=d.getBlocksCount(I,B),$=V%X,z=X-$,q=Math.floor(V/X),U=Math.floor(ee/X),ne=U+1,K=q-U,G=new f(K);let se=0;const M=new Array(X),A=new Array(X);let W=0;const D=new Uint8Array(O.buffer);for(let re=0;re<X;re++){const ge=re<z?U:ne;M[re]=D.slice(se,se+ge),A[re]=G.encode(M[re]),se+=ge,W=Math.max(W,ge)}const Y=new Uint8Array(V);let ae=0,J,ue;for(J=0;J<W;J++)for(ue=0;ue<X;ue++)J<M[ue].length&&(Y[ae++]=M[ue][J]);for(J=0;J<K;J++)for(ue=0;ue<X;ue++)Y[ae++]=A[ue][J];return Y}function T(O,I,B,V){let te;if(Array.isArray(O))te=y.fromArray(O);else if(typeof O=="string"){let q=I;if(!q){const U=y.rawSplit(O);q=h.getBestVersionForData(U,B)}te=y.fromString(O,q||40)}else throw new Error("Invalid data");const ee=h.getBestVersionForData(te,B);if(!ee)throw new Error("The amount of data is too big to be stored in a QR Code");if(!I)I=ee;else if(I<ee)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ee+`.
`);const X=_(I,B,te),$=e.getSymbolSize(I),z=new n($);return w(z,I),N(z),b(z,I),C(z,B,0),I>=7&&j(z,I),E(z,X),isNaN(V)&&(V=c.getBestMask(z,C.bind(null,z,B))),c.applyMask(V,z),C(z,B,V),{modules:z,version:I,errorCorrectionLevel:B,maskPattern:V,segments:te}}return ch.create=function(I,B){if(typeof I>"u"||I==="")throw new Error("No input text");let V=t.M,te,ee;return typeof B<"u"&&(V=t.from(B.errorCorrectionLevel,t.M),te=h.from(B.version),ee=c.from(B.maskPattern),B.toSJISFunc&&e.setToSJISFunction(B.toSJISFunc)),T(I,te,V,ee)},ch}var kh={},Ph={},z0;function $j(){return z0||(z0=1,(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(l){return[l,l]}))),n.length===6&&n.push("F","F");const o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,l=n.width&&n.width>=21?n.width:void 0,c=n.scale||4;return{width:l,scale:l?4:c,margin:o,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},e.getImageWidth=function(n,o){const l=e.getScale(n,o);return Math.floor((n+o.margin*2)*l)},e.qrToImageData=function(n,o,l){const c=o.modules.size,d=o.modules.data,f=e.getScale(c,l),h=Math.floor((c+l.margin*2)*f),m=l.margin*f,g=[l.color.light,l.color.dark];for(let y=0;y<h;y++)for(let w=0;w<h;w++){let N=(y*h+w)*4,b=l.color.light;if(y>=m&&w>=m&&y<h-m&&w<h-m){const j=Math.floor((y-m)/f),C=Math.floor((w-m)/f);b=g[d[j*c+C]?1:0]}n[N++]=b.r,n[N++]=b.g,n[N++]=b.b,n[N]=b.a}}})(Ph)),Ph}var W0;function FL(){return W0||(W0=1,(function(e){const t=$j();function r(o,l,c){o.clearRect(0,0,l.width,l.height),l.style||(l.style={}),l.height=c,l.width=c,l.style.height=c+"px",l.style.width=c+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(l,c,d){let f=d,h=c;typeof f>"u"&&(!c||!c.getContext)&&(f=c,c=void 0),c||(h=n()),f=t.getOptions(f);const m=t.getImageWidth(l.modules.size,f),g=h.getContext("2d"),y=g.createImageData(m,m);return t.qrToImageData(y.data,l,f),r(g,h,m),g.putImageData(y,0,0),h},e.renderToDataURL=function(l,c,d){let f=d;typeof f>"u"&&(!c||!c.getContext)&&(f=c,c=void 0),f||(f={});const h=e.render(l,c,f),m=f.type||"image/png",g=f.rendererOpts||{};return h.toDataURL(m,g.quality)}})(kh)),kh}var Th={},V0;function $L(){if(V0)return Th;V0=1;const e=$j();function t(o,l){const c=o.a/255,d=l+'="'+o.hex+'"';return c<1?d+" "+l+'-opacity="'+c.toFixed(2).slice(1)+'"':d}function r(o,l,c){let d=o+l;return typeof c<"u"&&(d+=" "+c),d}function n(o,l,c){let d="",f=0,h=!1,m=0;for(let g=0;g<o.length;g++){const y=Math.floor(g%l),w=Math.floor(g/l);!y&&!h&&(h=!0),o[g]?(m++,g>0&&y>0&&o[g-1]||(d+=h?r("M",y+c,.5+w+c):r("m",f,0),f=0,h=!1),y+1<l&&o[g+1]||(d+=r("h",m),m=0)):f++}return d}return Th.render=function(l,c,d){const f=e.getOptions(c),h=l.modules.size,m=l.modules.data,g=h+f.margin*2,y=f.color.light.a?"<path "+t(f.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",w="<path "+t(f.color.dark,"stroke")+' d="'+n(m,h,f.margin)+'"/>',N='viewBox="0 0 '+g+" "+g+'"',j='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+N+' shape-rendering="crispEdges">'+y+w+`</svg>
`;return typeof d=="function"&&d(null,j),j},Th}var q0;function BL(){if(q0)return Xo;q0=1;const e=wL(),t=LL(),r=FL(),n=$L();function o(l,c,d,f,h){const m=[].slice.call(arguments,1),g=m.length,y=typeof m[g-1]=="function";if(!y&&!e())throw new Error("Callback required as last argument");if(y){if(g<2)throw new Error("Too few arguments provided");g===2?(h=d,d=c,c=f=void 0):g===3&&(c.getContext&&typeof h>"u"?(h=f,f=void 0):(h=f,f=d,d=c,c=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(d=c,c=f=void 0):g===2&&!c.getContext&&(f=d,d=c,c=void 0),new Promise(function(w,N){try{const b=t.create(d,f);w(l(b,c,f))}catch(b){N(b)}})}try{const w=t.create(d,f);h(null,l(w,c,f))}catch(w){h(w)}}return Xo.create=t.create,Xo.toCanvas=o.bind(null,r.render),Xo.toDataURL=o.bind(null,r.renderToDataURL),Xo.toString=o.bind(null,function(l,c,d){return n.render(l,d)}),Xo}var UL=BL();const zL=du(UL),WL=async(e,t=1)=>{const r=JSON.stringify({recipeId:e.recipeId,recipeName:e.recipeName,batchSize:e.batchSize,calculatedYield:e.calculatedYield,yieldUnit:e.yieldUnit,expiryDate:e.expiryDate,allergens:e.allergens,dietaryRequirements:e.dietaryRequirements}),n=await zL.toDataURL(r,{width:120,margin:1}),o=d=>new Date(d).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}),l=`
    <div style="
      width: 4in;
      height: 3in;
      border: 2px solid #000;
      padding: 12px;
      font-family: Arial, sans-serif;
      font-size: 12px;
      line-height: 1.3;
      box-sizing: border-box;
      page-break-after: always;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    ">
      <!-- Header with Recipe Name and QR Code -->
      <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
        <div style="flex: 1; margin-right: 10px;">
          <h2 style="margin: 0; font-size: 16px; font-weight: bold; text-transform: uppercase;">
            ${e.recipeName}
          </h2>
          <div style="font-size: 11px; color: #666; margin-top: 2px;">
            Batch: ${e.batchSize} ${e.batchUnit}
          </div>
        </div>
        <img src="${n}" alt="QR Code" style="width: 60px; height: 60px;" />
      </div>

      <!-- Yield Information -->
      <div style="margin-bottom: 8px;">
        <div style="font-weight: bold; font-size: 14px;">
          YIELD: ${e.calculatedYield} ${e.yieldUnit}
        </div>
      </div>

      <!-- Date Information -->
      <div style="margin-bottom: 8px;">
        <div style="display: flex; justify-content: space-between;">
          <span><strong>Prepared:</strong> ${o(e.preparedDate)}</span>
          <span><strong>Use By:</strong> ${o(e.expiryDate)}</span>
        </div>
      </div>

      <!-- Allergens Section -->
      ${e.allergens.length>0?`
        <div style="margin-bottom: 8px;">
          <div style="font-weight: bold; color: #d32f2f; margin-bottom: 4px;">
             ALLERGENS:
          </div>
          <div style="background: #ffebee; padding: 4px 6px; border-radius: 4px; font-weight: bold; color: #d32f2f;">
            ${e.allergens.join(", ").toUpperCase()}
          </div>
        </div>
      `:""}

      <!-- Dietary Requirements -->
      ${e.dietaryRequirements.length>0?`
        <div style="margin-bottom: 8px;">
          <div style="font-weight: bold; color: #2e7d32; margin-bottom: 4px;">
             DIETARY:
          </div>
          <div style="background: #e8f5e8; padding: 4px 6px; border-radius: 4px; color: #2e7d32;">
            ${e.dietaryRequirements.join(", ")}
          </div>
        </div>
      `:""}

      <!-- Footer -->
      <div style="font-size: 10px; color: #666; text-align: center; border-top: 1px solid #ddd; padding-top: 4px;">
        Prepared by: ${e.staffName}
      </div>
    </div>
  `;return`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Food Safety Labels</title>
      <style>
        @page {
          margin: 0.5in;
          size: letter;
        }
        body {
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
        }
        @media print {
          .no-print {
            display: none;
          }
        }
      </style>
    </head>
    <body>
      ${Array(t).fill(l).join(`
`)}
    </body>
    </html>
  `};function VL({open:e,onOpenChange:t,recipe:r}){const[n,o]=v.useState("details"),[l,c]=v.useState(1),[d,f]=v.useState("batch"),[h,m]=v.useState(""),[g,y]=v.useState([]),[w,N]=v.useState(""),[b,j]=v.useState(!1),[C,E]=v.useState(""),[_,P]=v.useState(null),[T,O]=v.useState(1),{user:I}=hn(),{toast:B}=ft(),{addTimer:V,pauseTimer:te,resumeTimer:ee,removeTimer:X,getTimerById:$}=ym();v.useEffect(()=>{e&&(o("details"),c(1),f("batch"),m(""),N(""),E(""),P(null),O(1),z())},[e]);const z=v.useCallback(async()=>{try{const{data:W}=await he.from("profiles").select("organization_id").eq("user_id",I?.id).single(),{data:D,error:Y}=await he.from("staff").select("id, name, role").eq("is_active",!0).eq("organization_id",W?.organization_id);if(Y)throw Y;y(D||[])}catch(W){console.error("Error fetching staff:",W)}},[I?.id]),q=w?$(w):null,U=q?.isRunning||!1,ne=q?.elapsedTime||0,K=async()=>{if(!(!h||!r))try{const{data:W}=await he.from("profiles").select("organization_id").eq("user_id",I?.id).single(),D=g.find(ue=>ue.id===h);if(!D)return;const{data:Y,error:ae}=await he.from("prep_sessions").insert({recipe_id:r.id,staff_id:h,batch_size:l,organization_id:W?.organization_id,started_at:new Date().toISOString()}).select().single();if(ae)throw ae;const J=V({recipeId:r.id,recipeName:r.name,staffId:h,staffName:D.name,startTime:Date.now(),isRunning:!0,batchSize:l,batchUnit:d,sessionId:Y.id});E(Y.id),N(J),o("timer"),B({title:"Preparation Started",description:`${r.name} preparation timer started`})}catch(W){console.error("Error starting prep:",W),B({title:"Error",description:"Failed to start preparation",variant:"destructive"})}},G=async()=>{if(!(!r||!C||!w))try{const W=new Date,D=new Date(W);D.setDate(D.getDate()+(r.hold_time_days||3));const{data:Y}=await he.from("profiles").select("organization_id").eq("user_id",I?.id).single();await he.from("prep_sessions").update({completed_at:new Date().toISOString(),actual_prep_minutes:Math.round(ne/6e4)}).eq("id",C);const{data:ae,error:J}=await he.from("prepared_items").insert({recipe_id:r.id,batch_size:l,expires_at:D.toISOString(),prep_session_id:C,staff_id:h,prepared_by:I?.id||"",organization_id:Y?.organization_id,label_count:T,prepared_at:W.toISOString()}).select().single();if(J)throw J;P(ae),X(w),N(""),o("label"),B({title:"Preparation Completed",description:"Recipe preparation finished successfully"})}catch(W){console.error("Error completing prep:",W),B({title:"Error",description:"Failed to complete preparation",variant:"destructive"})}},se=async()=>{if(!r||!_)return;const W=new Date(_.expires_at),D=new Date(_.prepared_at),Y=g.find(ue=>ue.id===h),ae=r.yield_amount*l,J={recipeName:r.name,batchSize:l,batchUnit:d,calculatedYield:ae,yieldUnit:r.yield_unit,expiryDate:W.toISOString(),preparedDate:D.toISOString(),allergens:r.allergens||[],dietaryRequirements:r.dietary_requirements||[],staffName:Y?.name||"Unknown",recipeId:r.id};try{const ue=await WL(J,T),re=window.open("","_blank");re&&(re.document.write(ue),re.document.close(),re.focus(),re.print()),B({title:"Labels Generated",description:`${T} label(s) ready for printing with QR codes`})}catch(ue){console.error("Error generating labels:",ue),B({title:"Error",description:"Failed to generate labels",variant:"destructive"})}},M=()=>{w&&U?j(!0):t(!1)},A=W=>{const D=Math.floor(W/1e3),Y=Math.floor(D/3600),ae=Math.floor(D%3600/60),J=D%60;return`${Y.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`};return r?a.jsxs(a.Fragment,{children:[a.jsx(ji,{open:e,onOpenChange:M,children:a.jsxs(oo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(io,{children:a.jsxs(ao,{className:"flex items-center gap-2",children:[n==="details"&&a.jsxs(a.Fragment,{children:[a.jsx(an,{className:"w-5 h-5"}),"Prepare Recipe: ",r.name]}),n==="timer"&&a.jsxs(a.Fragment,{children:[a.jsx(Gh,{className:"w-5 h-5"}),"Preparation Timer"]}),n==="label"&&a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-5 h-5 text-green-600"}),"Generate Labels"]})]})}),n==="details"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsx(ct,{className:"text-lg",children:r.name})}),a.jsxs(We,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["Est. Prep: ",r.estimated_prep_minutes," min"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gh,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["Hold Time: ",r.hold_time_days," days"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["Yield: ",r.yield_amount," ",r.yield_unit]})]})]}),r.allergens&&r.allergens.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2 text-amber-600",children:"Allergens:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:r.allergens.map(W=>a.jsx(Qe,{variant:"destructive",className:"text-xs",children:W},W))})]}),r.dietary_requirements&&r.dietary_requirements.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2 text-green-600",children:"Dietary Requirements:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:r.dietary_requirements.map(W=>a.jsx(Qe,{variant:"secondary",className:"text-xs",children:W},W))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"staff",children:"Staff Member *"}),a.jsxs(un,{value:h,onValueChange:m,children:[a.jsx(zr,{children:a.jsx(dn,{placeholder:"Select staff member"})}),a.jsx(Wr,{className:"bg-background opacity-100",children:g.map(W=>a.jsx(Ke,{value:W.id,className:"bg-background opacity-100",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"w-4 h-4"}),a.jsx("span",{children:W.name}),a.jsx(Qe,{variant:"outline",className:"text-xs",children:W.role})]})},W.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"batchSize",children:"Batch Size"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fe,{id:"batchSize",type:"number",min:"0.1",step:"0.1",value:l,onChange:W=>c(parseFloat(W.target.value)||1),placeholder:"1"}),a.jsxs(un,{value:d,onValueChange:f,children:[a.jsx(zr,{className:"w-32",children:a.jsx(dn,{})}),a.jsxs(Wr,{className:"bg-background opacity-100",children:[a.jsx(Ke,{value:"batch",className:"bg-background opacity-100",children:"batch"}),a.jsx(Ke,{value:"half",className:"bg-background opacity-100",children:"half"}),a.jsx(Ke,{value:"double",className:"bg-background opacity-100",children:"double"})]})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Calculated yield: ",(r.yield_amount*l).toFixed(1)," ",r.yield_unit]})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"labelCount",children:"Number of Labels"}),a.jsx(Fe,{id:"labelCount",type:"number",min:"1",max:"20",value:T,onChange:W=>O(parseInt(W.target.value)||1),placeholder:"1"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(pe,{variant:"outline",onClick:M,children:"Cancel"}),a.jsxs(pe,{onClick:K,disabled:!h,children:[a.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Start Preparation"]})]})]}),n==="timer"&&a.jsxs("div",{className:"space-y-6 text-center",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-6xl font-mono font-bold text-primary",children:A(ne)}),a.jsxs("div",{className:"text-lg text-muted-foreground",children:["Preparing ",r.name]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Batch: ",l," ",d,"  Yield: ",(r.yield_amount*l).toFixed(1)," ",r.yield_unit]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pe,{variant:U?"outline":"default",onClick:()=>{w&&(U?te(w):ee(w))},className:"flex-1",children:U?a.jsxs(a.Fragment,{children:[a.jsx(k2,{className:"w-4 h-4 mr-2"}),"Pause"]}):a.jsxs(a.Fragment,{children:[a.jsx(Hh,{className:"w-4 h-4 mr-2"}),ne>0?"Resume":"Start"]})}),a.jsxs(pe,{onClick:G,variant:"default",className:"flex-1",children:[a.jsx(kn,{className:"w-4 h-4 mr-2"}),"Complete"]})]})]}),n==="label"&&_&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 text-green-700 rounded-lg mb-4",children:[a.jsx(kn,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Preparation Complete!"})]})}),a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsx(ct,{className:"text-lg",children:r.name})}),a.jsx(We,{className:"space-y-3",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Staff:"})," ",g.find(W=>W.id===h)?.name]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Batch Size:"})," ",l," ",d]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Calculated Yield:"})," ",(r.yield_amount*l).toFixed(1)," ",r.yield_unit]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Prep Time:"})," ",A(ne)]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Prepared:"})," ",new Date(_.prepared_at).toLocaleDateString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-red-600",children:"Expires:"})," ",new Date(_.expires_at).toLocaleDateString()]})]})})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"labelCount",children:"Number of Labels to Print"}),a.jsx(Fe,{id:"labelCount",type:"number",min:"1",max:"20",value:T,onChange:W=>O(parseInt(W.target.value)||1),placeholder:"1"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Each label will include QR code, allergens, dietary info, and calculated yield"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(pe,{variant:"outline",onClick:M,children:"Close"}),a.jsxs(pe,{onClick:se,children:[a.jsx(an,{className:"w-4 h-4 mr-2"}),"Print ",T," Label",T>1?"s":""]})]})]})]})}),a.jsx(vi,{open:b,onOpenChange:j,children:a.jsxs(Hs,{children:[a.jsxs(Ks,{children:[a.jsx(Ys,{children:"Timer is Running"}),a.jsx(Qs,{children:"The preparation timer is currently running. The timer will continue in the background when you close this dialog. You can return to monitor the timer later."})]}),a.jsxs(Gs,{children:[a.jsx(Xs,{onClick:()=>j(!1),children:"Cancel"}),a.jsx(Js,{onClick:()=>{j(!1),t(!1)},children:"Continue"})]})]})})]}):null}const qL=["All Categories","Entrees","Mains","Desserts","Sides","Sauces","Beverages","Bakery","Other"];function HL(){const[e,t]=v.useState([]),[r,n]=v.useState(""),[o,l]=v.useState("All Categories"),[c,d]=v.useState(!1),[f,h]=v.useState(!1),[m,g]=v.useState(null),[y,w]=v.useState(null),[N,b]=v.useState(null),[j,C]=v.useState(!0),{user:E}=hn(),{hasRole:_,roles:P,loading:T}=Di(),{toast:O}=ft(),I=_("admin")||_("leader_chef");v.useEffect(()=>{console.log(" Recipe Permissions Debug:",{userId:E?.id,roles:P,rolesLoading:T,hasAdminRole:_("admin"),hasLeaderChefRole:_("leader_chef"),canManageRecipes:I})},[E,P,T,I]),v.useEffect(()=>{B()},[]);const B=async()=>{try{const{data:$,error:z}=await he.from("recipes").select("*").order("created_at",{ascending:!1});if(z)throw z;const q=new Set;$?.forEach(G=>{G.created_by&&q.add(G.created_by),G.updated_by&&q.add(G.updated_by)});const{data:U}=await he.from("profiles").select("user_id, display_name").in("user_id",Array.from(q)),ne=new Map(U?.map(G=>[G.user_id,G.display_name])||[]),K=$?.map(G=>({...G,creator:G.created_by?{display_name:ne.get(G.created_by)||"Unknown"}:null,updater:G.updated_by?{display_name:ne.get(G.updated_by)||"Unknown"}:null}));t(K||[])}catch($){console.error("Error fetching recipes:",$),O({title:"Error",description:"Failed to fetch recipes",variant:"destructive"})}finally{C(!1)}},V=async()=>{if(y)try{const{error:$}=await he.from("recipes").delete().eq("id",y.id);if($)throw $;O({title:"Success",description:"Recipe deleted successfully"}),B()}catch($){console.error("Error deleting recipe:",$),O({title:"Error",description:"Failed to delete recipe",variant:"destructive"})}finally{w(null)}},te=$=>{b($),d(!0)},ee=$=>{g($),h(!0)},X=e.filter($=>{const z=$.name.toLowerCase().includes(r.toLowerCase())||($.allergens||[]).some(U=>U.toLowerCase().includes(r.toLowerCase()))||($.dietary_requirements||[]).some(U=>U.toLowerCase().includes(r.toLowerCase())),q=o==="All Categories"||$.category===o;return z&&q});return j?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Recipes"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your recipe collection"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map($=>a.jsxs(ze,{className:"animate-pulse",children:[a.jsx(tt,{children:a.jsx("div",{className:"h-6 bg-muted rounded w-3/4"})}),a.jsx(We,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-2/3"})]})})]},$))})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(ze,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200",children:a.jsx(We,{className:"pt-4",children:a.jsxs("p",{className:"text-sm font-mono",children:[a.jsx("strong",{children:"Debug Info:"})," User ID: ",E?.id?.slice(0,8),"... | Roles: [",P.join(", ")||"none","] | Can Manage: ",I?" YES":" NO"," | Loading: ",T?"Yes":"No"]})})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Recipes"}),a.jsx("p",{className:"text-muted-foreground",children:I?"Manage your recipe collection":"Browse available recipes"})]}),I&&a.jsxs(pe,{onClick:()=>{b(null),d(!0)},children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"Create Recipe"]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(Fe,{placeholder:"Search recipes, allergens, or dietary...",value:r,onChange:$=>n($.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gu,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs(un,{value:o,onValueChange:l,children:[a.jsx(zr,{className:"w-48",children:a.jsx(dn,{})}),a.jsx(Wr,{className:"bg-background opacity-100",children:qL.map($=>a.jsx(Ke,{value:$,className:"bg-background opacity-100",children:$},$))})]})]})]}),X.length===0?a.jsx(ze,{children:a.jsx(We,{className:"flex flex-col items-center justify-center py-12",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto",children:a.jsx(Cn,{className:"w-8 h-8 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"No recipes found"}),a.jsx("p",{className:"text-muted-foreground",children:r?"Try adjusting your search terms":I?"Get started by creating your first recipe":"No recipes available yet"})]}),!r&&I&&a.jsxs(pe,{onClick:()=>{b(null),d(!0)},children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"Create Recipe"]})]})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map($=>a.jsxs(ze,{className:"hover:shadow-card transition-shadow cursor-pointer",children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-start justify-between",children:[a.jsx("span",{className:"line-clamp-2",children:$.name}),($.allergens||[]).length>0&&a.jsx(Dt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 ml-2"})]})}),a.jsxs(We,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Qe,{variant:"outline",className:"text-xs",children:$.category}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(Cn,{className:"w-3 h-3"}),a.jsxs("span",{children:[($.estimated_prep_minutes||0)+($.service_gap_minutes||0),"min"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ro,{className:"w-4 h-4"}),a.jsxs("span",{children:[$.yield_amount," ",$.yield_unit]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Cn,{className:"w-4 h-4"}),a.jsxs("span",{children:[$.prep_steps?.length||0," steps"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Cn,{className:"w-4 h-4"}),a.jsxs("span",{children:[$.hold_time_days,"d hold"]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Ingredients (",$.ingredients?.length||0,")"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[$.ingredients?.slice(0,3)?.join(", "),$.ingredients?.length>3&&a.jsxs("span",{children:[" + ",$.ingredients.length-3," more"]})]})]}),($.allergens||[]).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-sm mb-2 text-red-600",children:"Allergens"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:($.allergens||[]).map(z=>a.jsx(Qe,{variant:"destructive",className:"text-xs font-bold",children:z},z))})]}),($.dietary_requirements||[]).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-sm mb-2 text-green-600",children:"Dietary"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:($.dietary_requirements||[]).map(z=>a.jsx(Qe,{variant:"secondary",className:"text-xs",children:z},z))})]}),a.jsxs("div",{className:"pt-2 border-t space-y-2 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(to,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Created at:"}),a.jsx("span",{children:qs(new Date($.created_at),"MMM dd, yyyy 'at' HH:mm")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wy,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Created by:"}),a.jsx("span",{children:$.creator?.display_name||"Unknown"})]}),$.updated_by&&$.updated_at!==$.created_at&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(to,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Last Updated:"}),a.jsx("span",{children:qs(new Date($.updated_at),"MMM dd, yyyy 'at' HH:mm")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wy,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"Last Updated by:"}),a.jsx("span",{children:$.updater?.display_name||"Unknown"})]})]})]}),a.jsxs("div",{className:"pt-2 space-y-2",children:[a.jsxs(pe,{size:"sm",onClick:()=>ee($),className:"w-full",children:[a.jsx(mu,{className:"w-4 h-4 mr-2"}),"Prepare Recipe"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{O({title:"Coming Soon",description:"Recipe comments feature will be available soon"})},children:[a.jsx(E2,{className:"w-4 h-4 mr-2"}),"Notes"]}),I&&a.jsxs(a.Fragment,{children:[a.jsx(pe,{size:"sm",variant:"outline",onClick:z=>{z.stopPropagation(),te($)},children:a.jsx(Fw,{className:"w-4 h-4"})}),a.jsx(pe,{size:"sm",variant:"destructive",onClick:z=>{z.stopPropagation(),w($)},children:a.jsx(qp,{className:"w-4 h-4"})})]})]})]})]})]},$.id))}),a.jsx(iL,{open:c,onOpenChange:$=>{d($),$||b(null)},onSuccess:()=>{B(),b(null)},recipeToEdit:N}),a.jsx(VL,{open:f,onOpenChange:h,recipe:m}),a.jsx(vi,{open:!!y,onOpenChange:()=>w(null),children:a.jsxs(Hs,{children:[a.jsxs(Ks,{children:[a.jsx(Ys,{children:"Are you sure?"}),a.jsxs(Qs,{children:['This will permanently delete the recipe "',y?.name,'". This action cannot be undone.']})]}),a.jsxs(Gs,{children:[a.jsx(Xs,{children:"Cancel"}),a.jsx(Js,{onClick:V,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Recipe"})]})]})})]})}var H0=1,KL=.9,GL=.8,YL=.17,Rh=.1,Ah=.999,QL=.9999,JL=.99,XL=/[\\\/_+.#"@\[\(\{&]/,ZL=/[\\\/_+.#"@\[\(\{&]/g,e3=/[\s-]/,Bj=/[\s-]/g;function Tp(e,t,r,n,o,l,c){if(l===t.length)return o===e.length?H0:JL;var d=`${o},${l}`;if(c[d]!==void 0)return c[d];for(var f=n.charAt(l),h=r.indexOf(f,o),m=0,g,y,w,N;h>=0;)g=Tp(e,t,r,n,h+1,l+1,c),g>m&&(h===o?g*=H0:XL.test(e.charAt(h-1))?(g*=GL,w=e.slice(o,h-1).match(ZL),w&&o>0&&(g*=Math.pow(Ah,w.length))):e3.test(e.charAt(h-1))?(g*=KL,N=e.slice(o,h-1).match(Bj),N&&o>0&&(g*=Math.pow(Ah,N.length))):(g*=YL,o>0&&(g*=Math.pow(Ah,h-o))),e.charAt(h)!==t.charAt(l)&&(g*=QL)),(g<Rh&&r.charAt(h-1)===n.charAt(l+1)||n.charAt(l+1)===n.charAt(l)&&r.charAt(h-1)!==n.charAt(l))&&(y=Tp(e,t,r,n,h+1,l+2,c),y*Rh>g&&(g=y*Rh)),g>m&&(m=g),h=r.indexOf(f,h+1);return c[d]=m,m}function K0(e){return e.toLowerCase().replace(Bj," ")}function t3(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Tp(e,t,K0(e),K0(t),0,0,{})}var _a='[cmdk-group=""]',Oh='[cmdk-group-items=""]',r3='[cmdk-group-heading=""]',Uj='[cmdk-item=""]',G0=`${Uj}:not([aria-disabled="true"])`,Rp="cmdk-item-select",ti="data-value",n3=(e,t,r)=>t3(e,t,r),zj=v.createContext(void 0),nl=()=>v.useContext(zj),Wj=v.createContext(void 0),Dm=()=>v.useContext(Wj),Vj=v.createContext(void 0),qj=v.forwardRef((e,t)=>{let r=ri(()=>{var A,W;return{search:"",value:(W=(A=e.value)!=null?A:e.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ri(()=>new Set),o=ri(()=>new Map),l=ri(()=>new Map),c=ri(()=>new Set),d=Hj(e),{label:f,children:h,value:m,onValueChange:g,filter:y,shouldFilter:w,loop:N,disablePointerSelection:b=!1,vimBindings:j=!0,...C}=e,E=Wt(),_=Wt(),P=Wt(),T=v.useRef(null),O=p3();uo(()=>{if(m!==void 0){let A=m.trim();r.current.value=A,I.emit()}},[m]),uo(()=>{O(6,$)},[]);let I=v.useMemo(()=>({subscribe:A=>(c.current.add(A),()=>c.current.delete(A)),snapshot:()=>r.current,setState:(A,W,D)=>{var Y,ae,J,ue;if(!Object.is(r.current[A],W)){if(r.current[A]=W,A==="search")X(),te(),O(1,ee);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let re=document.getElementById(P);re?re.focus():(Y=document.getElementById(E))==null||Y.focus()}if(O(7,()=>{var re;r.current.selectedItemId=(re=z())==null?void 0:re.id,I.emit()}),D||O(5,$),((ae=d.current)==null?void 0:ae.value)!==void 0){let re=W??"";(ue=(J=d.current).onValueChange)==null||ue.call(J,re);return}}I.emit()}},emit:()=>{c.current.forEach(A=>A())}}),[]),B=v.useMemo(()=>({value:(A,W,D)=>{var Y;W!==((Y=l.current.get(A))==null?void 0:Y.value)&&(l.current.set(A,{value:W,keywords:D}),r.current.filtered.items.set(A,V(W,D)),O(2,()=>{te(),I.emit()}))},item:(A,W)=>(n.current.add(A),W&&(o.current.has(W)?o.current.get(W).add(A):o.current.set(W,new Set([A]))),O(3,()=>{X(),te(),r.current.value||ee(),I.emit()}),()=>{l.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let D=z();O(4,()=>{X(),D?.getAttribute("id")===A&&ee(),I.emit()})}),group:A=>(o.current.has(A)||o.current.set(A,new Set),()=>{l.current.delete(A),o.current.delete(A)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:E,inputId:P,labelId:_,listInnerRef:T}),[]);function V(A,W){var D,Y;let ae=(Y=(D=d.current)==null?void 0:D.filter)!=null?Y:n3;return A?ae(A,r.current.search,W):0}function te(){if(!r.current.search||d.current.shouldFilter===!1)return;let A=r.current.filtered.items,W=[];r.current.filtered.groups.forEach(Y=>{let ae=o.current.get(Y),J=0;ae.forEach(ue=>{let re=A.get(ue);J=Math.max(re,J)}),W.push([Y,J])});let D=T.current;q().sort((Y,ae)=>{var J,ue;let re=Y.getAttribute("id"),ge=ae.getAttribute("id");return((J=A.get(ge))!=null?J:0)-((ue=A.get(re))!=null?ue:0)}).forEach(Y=>{let ae=Y.closest(Oh);ae?ae.appendChild(Y.parentElement===ae?Y:Y.closest(`${Oh} > *`)):D.appendChild(Y.parentElement===D?Y:Y.closest(`${Oh} > *`))}),W.sort((Y,ae)=>ae[1]-Y[1]).forEach(Y=>{var ae;let J=(ae=T.current)==null?void 0:ae.querySelector(`${_a}[${ti}="${encodeURIComponent(Y[0])}"]`);J?.parentElement.appendChild(J)})}function ee(){let A=q().find(D=>D.getAttribute("aria-disabled")!=="true"),W=A?.getAttribute(ti);I.setState("value",W||void 0)}function X(){var A,W,D,Y;if(!r.current.search||d.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ae=0;for(let J of n.current){let ue=(W=(A=l.current.get(J))==null?void 0:A.value)!=null?W:"",re=(Y=(D=l.current.get(J))==null?void 0:D.keywords)!=null?Y:[],ge=V(ue,re);r.current.filtered.items.set(J,ge),ge>0&&ae++}for(let[J,ue]of o.current)for(let re of ue)if(r.current.filtered.items.get(re)>0){r.current.filtered.groups.add(J);break}r.current.filtered.count=ae}function $(){var A,W,D;let Y=z();Y&&(((A=Y.parentElement)==null?void 0:A.firstChild)===Y&&((D=(W=Y.closest(_a))==null?void 0:W.querySelector(r3))==null||D.scrollIntoView({block:"nearest"})),Y.scrollIntoView({block:"nearest"}))}function z(){var A;return(A=T.current)==null?void 0:A.querySelector(`${Uj}[aria-selected="true"]`)}function q(){var A;return Array.from(((A=T.current)==null?void 0:A.querySelectorAll(G0))||[])}function U(A){let W=q()[A];W&&I.setState("value",W.getAttribute(ti))}function ne(A){var W;let D=z(),Y=q(),ae=Y.findIndex(ue=>ue===D),J=Y[ae+A];(W=d.current)!=null&&W.loop&&(J=ae+A<0?Y[Y.length-1]:ae+A===Y.length?Y[0]:Y[ae+A]),J&&I.setState("value",J.getAttribute(ti))}function K(A){let W=z(),D=W?.closest(_a),Y;for(;D&&!Y;)D=A>0?f3(D,_a):h3(D,_a),Y=D?.querySelector(G0);Y?I.setState("value",Y.getAttribute(ti)):ne(A)}let G=()=>U(q().length-1),se=A=>{A.preventDefault(),A.metaKey?G():A.altKey?K(1):ne(1)},M=A=>{A.preventDefault(),A.metaKey?U(0):A.altKey?K(-1):ne(-1)};return v.createElement(be.div,{ref:t,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:A=>{var W;(W=C.onKeyDown)==null||W.call(C,A);let D=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||D))switch(A.key){case"n":case"j":{j&&A.ctrlKey&&se(A);break}case"ArrowDown":{se(A);break}case"p":case"k":{j&&A.ctrlKey&&M(A);break}case"ArrowUp":{M(A);break}case"Home":{A.preventDefault(),U(0);break}case"End":{A.preventDefault(),G();break}case"Enter":{A.preventDefault();let Y=z();if(Y){let ae=new Event(Rp);Y.dispatchEvent(ae)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:B.inputId,id:B.labelId,style:g3},f),qu(e,A=>v.createElement(Wj.Provider,{value:I},v.createElement(zj.Provider,{value:B},A))))}),s3=v.forwardRef((e,t)=>{var r,n;let o=Wt(),l=v.useRef(null),c=v.useContext(Vj),d=nl(),f=Hj(e),h=(n=(r=f.current)==null?void 0:r.forceMount)!=null?n:c?.forceMount;uo(()=>{if(!h)return d.item(o,c?.id)},[h]);let m=Kj(o,l,[e.value,e.children,l],e.keywords),g=Dm(),y=ps(O=>O.value&&O.value===m.current),w=ps(O=>h||d.filter()===!1?!0:O.search?O.filtered.items.get(o)>0:!0);v.useEffect(()=>{let O=l.current;if(!(!O||e.disabled))return O.addEventListener(Rp,N),()=>O.removeEventListener(Rp,N)},[w,e.onSelect,e.disabled]);function N(){var O,I;b(),(I=(O=f.current).onSelect)==null||I.call(O,m.current)}function b(){g.setState("value",m.current,!0)}if(!w)return null;let{disabled:j,value:C,onSelect:E,forceMount:_,keywords:P,...T}=e;return v.createElement(be.div,{ref:Zs(l,t),...T,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!y,"data-disabled":!!j,"data-selected":!!y,onPointerMove:j||d.getDisablePointerSelection()?void 0:b,onClick:j?void 0:N},e.children)}),o3=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:o,...l}=e,c=Wt(),d=v.useRef(null),f=v.useRef(null),h=Wt(),m=nl(),g=ps(w=>o||m.filter()===!1?!0:w.search?w.filtered.groups.has(c):!0);uo(()=>m.group(c),[]),Kj(c,d,[e.value,e.heading,f]);let y=v.useMemo(()=>({id:c,forceMount:o}),[o]);return v.createElement(be.div,{ref:Zs(d,t),...l,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&v.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},r),qu(e,w=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?h:void 0},v.createElement(Vj.Provider,{value:y},w))))}),i3=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,o=v.useRef(null),l=ps(c=>!c.search);return!r&&!l?null:v.createElement(be.div,{ref:Zs(o,t),...n,"cmdk-separator":"",role:"separator"})}),a3=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,o=e.value!=null,l=Dm(),c=ps(h=>h.search),d=ps(h=>h.selectedItemId),f=nl();return v.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),v.createElement(be.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:o?e.value:c,onChange:h=>{o||l.setState("search",h.target.value),r?.(h.target.value)}})}),l3=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...o}=e,l=v.useRef(null),c=v.useRef(null),d=ps(h=>h.selectedItemId),f=nl();return v.useEffect(()=>{if(c.current&&l.current){let h=c.current,m=l.current,g,y=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let w=h.offsetHeight;m.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return y.observe(h),()=>{cancelAnimationFrame(g),y.unobserve(h)}}},[]),v.createElement(be.div,{ref:Zs(l,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":n,id:f.listId},qu(e,h=>v.createElement("div",{ref:Zs(c,f.listInnerRef),"cmdk-list-sizer":""},h)))}),c3=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:o,contentClassName:l,container:c,...d}=e;return v.createElement(Nm,{open:r,onOpenChange:n},v.createElement(_m,{container:c},v.createElement(Lu,{"cmdk-overlay":"",className:o}),v.createElement(Fu,{"aria-label":e.label,"cmdk-dialog":"",className:l},v.createElement(qj,{ref:t,...d}))))}),u3=v.forwardRef((e,t)=>ps(r=>r.filtered.count===0)?v.createElement(be.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),d3=v.forwardRef((e,t)=>{let{progress:r,children:n,label:o="Loading...",...l}=e;return v.createElement(be.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},qu(e,c=>v.createElement("div",{"aria-hidden":!0},c)))}),rr=Object.assign(qj,{List:l3,Item:s3,Input:a3,Group:o3,Separator:i3,Dialog:c3,Empty:u3,Loading:d3});function f3(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function h3(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Hj(e){let t=v.useRef(e);return uo(()=>{t.current=e}),t}var uo=typeof window>"u"?v.useEffect:v.useLayoutEffect;function ri(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function ps(e){let t=Dm(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function Kj(e,t,r,n=[]){let o=v.useRef(),l=nl();return uo(()=>{var c;let d=(()=>{var h;for(let m of r){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(h=m.current.textContent)==null?void 0:h.trim():o.current}})(),f=n.map(h=>h.trim());l.value(e,d,f),(c=t.current)==null||c.setAttribute(ti,d),o.current=d}),o}var p3=()=>{let[e,t]=v.useState(),r=ri(()=>new Map);return uo(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,o)=>{r.current.set(n,o),t({})}};function m3(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function qu({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(m3(t),{ref:t.ref},r(t.props.children)):r(t)}var g3={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const oi=v.forwardRef(({className:e,...t},r)=>a.jsx(rr,{ref:r,className:de("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));oi.displayName=rr.displayName;const ii=v.forwardRef(({className:e,...t},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(ho,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(rr.Input,{ref:r,className:de("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ii.displayName=rr.Input.displayName;const ai=v.forwardRef(({className:e,...t},r)=>a.jsx(rr.List,{ref:r,className:de("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ai.displayName=rr.List.displayName;const li=v.forwardRef((e,t)=>a.jsx(rr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));li.displayName=rr.Empty.displayName;const ci=v.forwardRef(({className:e,...t},r)=>a.jsx(rr.Group,{ref:r,className:de("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ci.displayName=rr.Group.displayName;const v3=v.forwardRef(({className:e,...t},r)=>a.jsx(rr.Separator,{ref:r,className:de("-mx-1 h-px bg-border",e),...t}));v3.displayName=rr.Separator.displayName;const Us=v.forwardRef(({className:e,...t},r)=>a.jsx(rr.Item,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Us.displayName=rr.Item.displayName;var Hu="Popover",[Gj]=er(Hu,[Ri]),sl=Ri(),[y3,ws]=Gj(Hu),Yj=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,d=sl(t),f=v.useRef(null),[h,m]=v.useState(!1),[g,y]=ds({prop:n,defaultProp:o??!1,onChange:l,caller:Hu});return a.jsx(yb,{...d,children:a.jsx(y3,{scope:t,contentId:Wt(),triggerRef:f,open:g,onOpenChange:y,onOpenToggle:v.useCallback(()=>y(w=>!w),[y]),hasCustomAnchor:h,onCustomAnchorAdd:v.useCallback(()=>m(!0),[]),onCustomAnchorRemove:v.useCallback(()=>m(!1),[]),modal:c,children:r})})};Yj.displayName=Hu;var Qj="PopoverAnchor",x3=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ws(Qj,r),l=sl(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=o;return v.useEffect(()=>(c(),()=>d()),[c,d]),a.jsx(ju,{...l,...n,ref:t})});x3.displayName=Qj;var Jj="PopoverTrigger",Xj=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ws(Jj,r),l=sl(r),c=$e(t,o.triggerRef),d=a.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":nN(o.open),...n,ref:c,onClick:xe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:a.jsx(ju,{asChild:!0,...l,children:d})});Xj.displayName=Jj;var Mm="PopoverPortal",[w3,b3]=Gj(Mm,{forceMount:void 0}),Zj=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,l=ws(Mm,t);return a.jsx(w3,{scope:t,forceMount:r,children:a.jsx(tr,{present:r||l.open,children:a.jsx(Ya,{asChild:!0,container:o,children:n})})})};Zj.displayName=Mm;var Ni="PopoverContent",eN=v.forwardRef((e,t)=>{const r=b3(Ni,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,l=ws(Ni,e.__scopePopover);return a.jsx(tr,{present:n||l.open,children:l.modal?a.jsx(j3,{...o,ref:t}):a.jsx(N3,{...o,ref:t})})});eN.displayName=Ni;var S3=eo("PopoverContent.RemoveScroll"),j3=v.forwardRef((e,t)=>{const r=ws(Ni,e.__scopePopover),n=v.useRef(null),o=$e(t,n),l=v.useRef(!1);return v.useEffect(()=>{const c=n.current;if(c)return wm(c)},[]),a.jsx(Du,{as:S3,allowPinchZoom:!0,children:a.jsx(tN,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,c=>{c.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:xe(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),N3=v.forwardRef((e,t)=>{const r=ws(Ni,e.__scopePopover),n=v.useRef(!1),o=v.useRef(!1);return a.jsx(tN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||r.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),tN=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,...g}=e,y=ws(Ni,r),w=sl(r);return xm(),a.jsx(Ou,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1),children:a.jsx(tm,{"data-state":nN(y.open),role:"dialog",id:y.contentId,...w,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rN="PopoverClose",_3=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ws(rN,r);return a.jsx(be.button,{type:"button",...n,ref:t,onClick:xe(e.onClick,()=>o.onOpenChange(!1))})});_3.displayName=rN;var E3="PopoverArrow",C3=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=sl(r);return a.jsx(rm,{...o,...n,ref:t})});C3.displayName=E3;function nN(e){return e?"open":"closed"}var k3=Yj,P3=Xj,T3=Zj,sN=eN;const Pa=k3,Ta=P3,ui=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>a.jsx(T3,{children:a.jsx(sN,{ref:o,align:t,sideOffset:r,className:de("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ui.displayName=sN.displayName;var R3=Object.defineProperty,lu=Object.getOwnPropertySymbols,oN=Object.prototype.hasOwnProperty,iN=Object.prototype.propertyIsEnumerable,Y0=(e,t,r)=>t in e?R3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ap=(e,t)=>{for(var r in t||(t={}))oN.call(t,r)&&Y0(e,r,t[r]);if(lu)for(var r of lu(t))iN.call(t,r)&&Y0(e,r,t[r]);return e},Op=(e,t)=>{var r={};for(var n in e)oN.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&lu)for(var n of lu(e))t.indexOf(n)<0&&iN.call(e,n)&&(r[n]=e[n]);return r};var fo;(e=>{const t=class Be{constructor(f,h,m,g){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let y=[];for(let N=0;N<this.size;N++)y.push(!1);for(let N=0;N<this.size;N++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(m);if(this.drawCodewords(w),g==-1){let N=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const j=this.getPenaltyScore();j<N&&(g=b,N=j),this.applyMask(b)}}o(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(f,h){const m=e.QrSegment.makeSegments(f);return Be.encodeSegments(m,h)}static encodeBinary(f,h){const m=e.QrSegment.makeBytes(f);return Be.encodeSegments([m],h)}static encodeSegments(f,h,m=1,g=40,y=-1,w=!0){if(!(Be.MIN_VERSION<=m&&m<=g&&g<=Be.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let N,b;for(N=m;;N++){const _=Be.getNumDataCodewords(N,h)*8,P=c.getTotalBits(f,N);if(P<=_){b=P;break}if(N>=g)throw new RangeError("Data too long")}for(const _ of[Be.Ecc.MEDIUM,Be.Ecc.QUARTILE,Be.Ecc.HIGH])w&&b<=Be.getNumDataCodewords(N,_)*8&&(h=_);let j=[];for(const _ of f){r(_.mode.modeBits,4,j),r(_.numChars,_.mode.numCharCountBits(N),j);for(const P of _.getData())j.push(P)}o(j.length==b);const C=Be.getNumDataCodewords(N,h)*8;o(j.length<=C),r(0,Math.min(4,C-j.length),j),r(0,(8-j.length%8)%8,j),o(j.length%8==0);for(let _=236;j.length<C;_^=253)r(_,8,j);let E=[];for(;E.length*8<j.length;)E.push(0);return j.forEach((_,P)=>E[P>>>3]|=_<<7-(P&7)),new Be(N,h,E,y)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let m=0;m<h;m++)for(let g=0;g<h;g++)m==0&&g==0||m==0&&g==h-1||m==h-1&&g==0||this.drawAlignmentPattern(f[m],f[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let m=h;for(let y=0;y<10;y++)m=m<<1^(m>>>9)*1335;const g=(h<<10|m)^21522;o(g>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,n(g,y));this.setFunctionModule(8,7,n(g,6)),this.setFunctionModule(8,8,n(g,7)),this.setFunctionModule(7,8,n(g,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,n(g,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,n(g,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,n(g,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let m=0;m<12;m++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;o(h>>>18==0);for(let m=0;m<18;m++){const g=n(h,m),y=this.size-11+m%3,w=Math.floor(m/3);this.setFunctionModule(y,w,g),this.setFunctionModule(w,y,g)}}drawFinderPattern(f,h){for(let m=-4;m<=4;m++)for(let g=-4;g<=4;g++){const y=Math.max(Math.abs(g),Math.abs(m)),w=f+g,N=h+m;0<=w&&w<this.size&&0<=N&&N<this.size&&this.setFunctionModule(w,N,y!=2&&y!=4)}}drawAlignmentPattern(f,h){for(let m=-2;m<=2;m++)for(let g=-2;g<=2;g++)this.setFunctionModule(f+g,h+m,Math.max(Math.abs(g),Math.abs(m))!=1)}setFunctionModule(f,h,m){this.modules[h][f]=m,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,m=this.errorCorrectionLevel;if(f.length!=Be.getNumDataCodewords(h,m))throw new RangeError("Invalid argument");const g=Be.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h],y=Be.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h],w=Math.floor(Be.getNumRawDataModules(h)/8),N=g-w%g,b=Math.floor(w/g);let j=[];const C=Be.reedSolomonComputeDivisor(y);for(let _=0,P=0;_<g;_++){let T=f.slice(P,P+b-y+(_<N?0:1));P+=T.length;const O=Be.reedSolomonComputeRemainder(T,C);_<N&&T.push(0),j.push(T.concat(O))}let E=[];for(let _=0;_<j[0].length;_++)j.forEach((P,T)=>{(_!=b-y||T>=N)&&E.push(P[_])});return o(E.length==w),E}drawCodewords(f){if(f.length!=Math.floor(Be.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let g=0;g<this.size;g++)for(let y=0;y<2;y++){const w=m-y,b=(m+1&2)==0?this.size-1-g:g;!this.isFunction[b][w]&&h<f.length*8&&(this.modules[b][w]=n(f[h>>>3],7-(h&7)),h++)}}o(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let m=0;m<this.size;m++){let g;switch(f){case 0:g=(m+h)%2==0;break;case 1:g=h%2==0;break;case 2:g=m%3==0;break;case 3:g=(m+h)%3==0;break;case 4:g=(Math.floor(m/3)+Math.floor(h/2))%2==0;break;case 5:g=m*h%2+m*h%3==0;break;case 6:g=(m*h%2+m*h%3)%2==0;break;case 7:g=((m+h)%2+m*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][m]&&g&&(this.modules[h][m]=!this.modules[h][m])}}getPenaltyScore(){let f=0;for(let y=0;y<this.size;y++){let w=!1,N=0,b=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[y][j]==w?(N++,N==5?f+=Be.PENALTY_N1:N>5&&f++):(this.finderPenaltyAddHistory(N,b),w||(f+=this.finderPenaltyCountPatterns(b)*Be.PENALTY_N3),w=this.modules[y][j],N=1);f+=this.finderPenaltyTerminateAndCount(w,N,b)*Be.PENALTY_N3}for(let y=0;y<this.size;y++){let w=!1,N=0,b=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][y]==w?(N++,N==5?f+=Be.PENALTY_N1:N>5&&f++):(this.finderPenaltyAddHistory(N,b),w||(f+=this.finderPenaltyCountPatterns(b)*Be.PENALTY_N3),w=this.modules[j][y],N=1);f+=this.finderPenaltyTerminateAndCount(w,N,b)*Be.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let w=0;w<this.size-1;w++){const N=this.modules[y][w];N==this.modules[y][w+1]&&N==this.modules[y+1][w]&&N==this.modules[y+1][w+1]&&(f+=Be.PENALTY_N2)}let h=0;for(const y of this.modules)h=y.reduce((w,N)=>w+(N?1:0),h);const m=this.size*this.size,g=Math.ceil(Math.abs(h*20-m*10)/m)-1;return o(0<=g&&g<=9),f+=g*Be.PENALTY_N4,o(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let m=[6];for(let g=this.size-7;m.length<f;g-=h)m.splice(1,0,g);return m}}static getNumRawDataModules(f){if(f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const m=Math.floor(f/7)+2;h-=(25*m-10)*m-55,f>=7&&(h-=36)}return o(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(Be.getNumRawDataModules(f)/8)-Be.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*Be.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let g=0;g<f-1;g++)h.push(0);h.push(1);let m=1;for(let g=0;g<f;g++){for(let y=0;y<h.length;y++)h[y]=Be.reedSolomonMultiply(h[y],m),y+1<h.length&&(h[y]^=h[y+1]);m=Be.reedSolomonMultiply(m,2)}return h}static reedSolomonComputeRemainder(f,h){let m=h.map(g=>0);for(const g of f){const y=g^m.shift();m.push(0),h.forEach((w,N)=>m[N]^=Be.reedSolomonMultiply(w,y))}return m}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let m=0;for(let g=7;g>=0;g--)m=m<<1^(m>>>7)*285,m^=(h>>>g&1)*f;return o(m>>>8==0),m}finderPenaltyCountPatterns(f){const h=f[1];o(h<=this.size*3);const m=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(m&&f[0]>=h*4&&f[6]>=h?1:0)+(m&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,m){return f&&(this.finderPenaltyAddHistory(h,m),h=0),h+=this.size,this.finderPenaltyAddHistory(h,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(d,f,h){if(f<0||f>31||d>>>f)throw new RangeError("Value out of range");for(let m=f-1;m>=0;m--)h.push(d>>>m&1)}function n(d,f){return(d>>>f&1)!=0}function o(d){if(!d)throw new Error("Assertion error")}const l=class dt{constructor(f,h,m){if(this.mode=f,this.numChars=h,this.bitData=m,h<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(f){let h=[];for(const m of f)r(m,8,h);return new dt(dt.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!dt.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let m=0;m<f.length;){const g=Math.min(f.length-m,3);r(parseInt(f.substring(m,m+g),10),g*3+1,h),m+=g}return new dt(dt.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!dt.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],m;for(m=0;m+2<=f.length;m+=2){let g=dt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m))*45;g+=dt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m+1)),r(g,11,h)}return m<f.length&&r(dt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m)),6,h),new dt(dt.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:dt.isNumeric(f)?[dt.makeNumeric(f)]:dt.isAlphanumeric(f)?[dt.makeAlphanumeric(f)]:[dt.makeBytes(dt.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)r(f,8,h);else if(f<16384)r(2,2,h),r(f,14,h);else if(f<1e6)r(6,3,h),r(f,21,h);else throw new RangeError("ECI assignment value out of range");return new dt(dt.Mode.ECI,0,h)}static isNumeric(f){return dt.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return dt.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let m=0;for(const g of f){const y=g.mode.numCharCountBits(h);if(g.numChars>=1<<y)return 1/0;m+=4+y+g.bitData.length}return m}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let m=0;m<f.length;m++)f.charAt(m)!="%"?h.push(f.charCodeAt(m)):(h.push(parseInt(f.substring(m+1,m+3),16)),m+=2);return h}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=l;e.QrSegment=l})(fo||(fo={}));(e=>{(t=>{const r=class{constructor(o,l){this.ordinal=o,this.formatBits=l}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(fo||(fo={}));(e=>{(t=>{const r=class{constructor(o,l){this.modeBits=o,this.numBitsCharCount=l}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(fo||(fo={}));var di=fo;var A3={L:di.QrCode.Ecc.LOW,M:di.QrCode.Ecc.MEDIUM,Q:di.QrCode.Ecc.QUARTILE,H:di.QrCode.Ecc.HIGH},aN=128,lN="L",cN="#FFFFFF",uN="#000000",dN=!1,fN=1,O3=4,I3=0,D3=.1;function hN(e,t=0){const r=[];return e.forEach(function(n,o){let l=null;n.forEach(function(c,d){if(!c&&l!==null){r.push(`M${l+t} ${o+t}h${d-l}v1H${l+t}z`),l=null;return}if(d===n.length-1){if(!c)return;l===null?r.push(`M${d+t},${o+t} h1v1H${d+t}z`):r.push(`M${l+t},${o+t} h${d+1-l}v1H${l+t}z`);return}c&&l===null&&(l=d)})}),r.join("")}function pN(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((o,l)=>l<t.x||l>=t.x+t.w?o:!1))}function M3(e,t,r,n){if(n==null)return null;const o=e.length+r*2,l=Math.floor(t*D3),c=o/t,d=(n.width||l)*c,f=(n.height||l)*c,h=n.x==null?e.length/2-d/2:n.x*c,m=n.y==null?e.length/2-f/2:n.y*c,g=n.opacity==null?1:n.opacity;let y=null;if(n.excavate){let N=Math.floor(h),b=Math.floor(m),j=Math.ceil(d+h-N),C=Math.ceil(f+m-b);y={x:N,y:b,w:j,h:C}}const w=n.crossOrigin;return{x:h,y:m,h:f,w:d,excavation:y,opacity:g,crossOrigin:w}}function L3(e,t){return t!=null?Math.max(Math.floor(t),0):e?O3:I3}function mN({value:e,level:t,minVersion:r,includeMargin:n,marginSize:o,imageSettings:l,size:c,boostLevel:d}){let f=ie.useMemo(()=>{const N=(Array.isArray(e)?e:[e]).reduce((b,j)=>(b.push(...di.QrSegment.makeSegments(j)),b),[]);return di.QrCode.encodeSegments(N,A3[t],r,void 0,void 0,d)},[e,t,r,d]);const{cells:h,margin:m,numCells:g,calculatedImageSettings:y}=ie.useMemo(()=>{let w=f.getModules();const N=L3(n,o),b=w.length+N*2,j=M3(w,c,N,l);return{cells:w,margin:N,numCells:b,calculatedImageSettings:j}},[f,c,l,n,o]);return{qrcode:f,margin:m,cells:h,numCells:g,calculatedImageSettings:y}}var F3=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),$3=ie.forwardRef(function(t,r){const n=t,{value:o,size:l=aN,level:c=lN,bgColor:d=cN,fgColor:f=uN,includeMargin:h=dN,minVersion:m=fN,boostLevel:g,marginSize:y,imageSettings:w}=n,b=Op(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=b,C=Op(b,["style"]),E=w?.src,_=ie.useRef(null),P=ie.useRef(null),T=ie.useCallback(z=>{_.current=z,typeof r=="function"?r(z):r&&(r.current=z)},[r]),[O,I]=ie.useState(!1),{margin:B,cells:V,numCells:te,calculatedImageSettings:ee}=mN({value:o,level:c,minVersion:m,boostLevel:g,includeMargin:h,marginSize:y,imageSettings:w,size:l});ie.useEffect(()=>{if(_.current!=null){const z=_.current,q=z.getContext("2d");if(!q)return;let U=V;const ne=P.current,K=ee!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;K&&ee.excavation!=null&&(U=pN(V,ee.excavation));const G=window.devicePixelRatio||1;z.height=z.width=l*G;const se=l/te*G;q.scale(se,se),q.fillStyle=d,q.fillRect(0,0,te,te),q.fillStyle=f,F3?q.fill(new Path2D(hN(U,B))):V.forEach(function(M,A){M.forEach(function(W,D){W&&q.fillRect(D+B,A+B,1,1)})}),ee&&(q.globalAlpha=ee.opacity),K&&q.drawImage(ne,ee.x+B,ee.y+B,ee.w,ee.h)}}),ie.useEffect(()=>{I(!1)},[E]);const X=Ap({height:l,width:l},j);let $=null;return E!=null&&($=ie.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{I(!0)},ref:P,crossOrigin:ee?.crossOrigin})),ie.createElement(ie.Fragment,null,ie.createElement("canvas",Ap({style:X,height:l,width:l,ref:T,role:"img"},C)),$)});$3.displayName="QRCodeCanvas";var gN=ie.forwardRef(function(t,r){const n=t,{value:o,size:l=aN,level:c=lN,bgColor:d=cN,fgColor:f=uN,includeMargin:h=dN,minVersion:m=fN,boostLevel:g,title:y,marginSize:w,imageSettings:N}=n,b=Op(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:C,numCells:E,calculatedImageSettings:_}=mN({value:o,level:c,minVersion:m,boostLevel:g,includeMargin:h,marginSize:w,imageSettings:N,size:l});let P=C,T=null;N!=null&&_!=null&&(_.excavation!=null&&(P=pN(C,_.excavation)),T=ie.createElement("image",{href:N.src,height:_.h,width:_.w,x:_.x+j,y:_.y+j,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const O=hN(P,j);return ie.createElement("svg",Ap({height:l,width:l,viewBox:`0 0 ${E} ${E}`,ref:r,role:"img"},b),!!y&&ie.createElement("title",null,y),ie.createElement("path",{fill:d,d:`M0,0 h${E}v${E}H0z`,shapeRendering:"crispEdges"}),ie.createElement("path",{fill:f,d:O,shapeRendering:"crispEdges"}),T)});gN.displayName="QRCodeSVG";const B3=(e,t)=>{const r=t==="sm"?"h-3 w-3":t==="lg"?"h-5 w-5":"h-4 w-4";switch(e){case"critical":return a.jsx(Pn,{className:de(r,"text-red-600")});case"warning":return a.jsx(Dt,{className:de(r,"text-yellow-600")});case"info":return a.jsx(vu,{className:de(r,"text-blue-600")});default:return null}},U3=e=>{switch(e){case"critical":return"bg-red-100 text-red-900 border-red-300 hover:bg-red-200 font-semibold";case"warning":return"bg-yellow-100 text-yellow-900 border-yellow-300 hover:bg-yellow-200 font-medium";case"info":return"bg-blue-100 text-blue-900 border-blue-300 hover:bg-blue-200";default:return"bg-gray-100 text-gray-900 border-gray-300 hover:bg-gray-200"}};function z3({allergen:e,size:t="md",showIcon:r=!0,className:n}){const o={sm:"text-xs py-0.5 px-2",md:"text-sm py-1 px-3",lg:"text-base py-1.5 px-4"};return a.jsx(Qe,{variant:"outline",className:de("border-2 transition-all",U3(e.severity),o[t],n),children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[r&&e.icon&&a.jsx("span",{className:de(t==="sm"?"text-sm":t==="lg"?"text-xl":"text-base"),children:e.icon}),a.jsx("span",{children:e.name}),r&&B3(e.severity,t)]})})}function W3({allergens:e,size:t="md",showIcon:r=!0,maxDisplay:n,className:o}){if(e.length===0)return a.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No allergens"});const l=[...e].sort((f,h)=>{const m={critical:0,warning:1,info:2},g=m[f.severity]??3,y=m[h.severity]??3;return g-y}),c=n?l.slice(0,n):l,d=n&&e.length>n?e.length-n:0;return a.jsxs("div",{className:de("flex flex-wrap gap-2",o),children:[c.map(f=>a.jsx(z3,{allergen:f,size:t,showIcon:r},f.id)),d>0&&a.jsxs(Qe,{variant:"outline",className:de("bg-gray-100 text-gray-700 border-gray-300",t==="sm"?"text-xs py-0.5 px-2":t==="lg"?"text-base py-1.5 px-4":"text-sm py-1 px-3"),children:["+",d," more"]})]})}function V3({allergens:e,className:t}){if(e.length===0)return null;const r=e.some(o=>o.severity==="critical"),n=e.filter(o=>o.severity==="critical");return a.jsx("div",{className:de("rounded-lg border-2 p-4",r?"bg-red-50 border-red-300":"bg-yellow-50 border-yellow-300",t),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r?a.jsx(Pn,{className:"h-6 w-6 text-red-600"}):a.jsx(Dt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:de("font-semibold text-sm mb-2",r?"text-red-900":"text-yellow-900"),children:r?" CRITICAL ALLERGEN WARNING":"Allergen Information"}),a.jsx("p",{className:de("text-xs mb-3",r?"text-red-800":"text-yellow-800"),children:"This product contains the following allergens:"}),a.jsx(W3,{allergens:e,size:"sm",showIcon:!0}),r&&n.length>0&&a.jsxs("p",{className:"text-xs text-red-700 font-medium mt-3 border-t border-red-200 pt-2",children:[" Contains ",n.length," critical allergen",n.length>1?"s":"",": ",n.map(o=>o.name).join(", ")]})]})]})})}function Lm(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),{toast:o}=ft();v.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const{data:y,error:w}=await he.from("allergens").select("*").order("is_common",{ascending:!1}).order("severity").order("name");if(w)throw w;t(y||[])}catch(y){console.error("Error fetching allergens:",y),o({title:"Error",description:"Failed to load allergens",variant:"destructive"})}finally{n(!1)}},c=async y=>{try{const{data:w,error:N}=await he.from("product_allergens").select(`
          allergen_id,
          allergens (*)
        `).eq("product_id",y);if(N)throw N;return(w||[]).map(b=>b.allergens).filter(Boolean)}catch(w){return console.error("Error fetching product allergens:",w),[]}};return{allergens:e,loading:r,getProductAllergens:c,addProductAllergen:async(y,w)=>{try{const{error:N}=await he.from("product_allergens").insert({product_id:y,allergen_id:w});if(N)throw N;return o({title:"Success",description:"Allergen added to product"}),!0}catch(N){return console.error("Error adding product allergen:",N),N.code==="23505"?o({title:"Info",description:"This allergen is already added to the product"}):o({title:"Error",description:"Failed to add allergen",variant:"destructive"}),!1}},removeProductAllergen:async(y,w)=>{try{const{error:N}=await he.from("product_allergens").delete().eq("product_id",y).eq("allergen_id",w);if(N)throw N;return o({title:"Success",description:"Allergen removed from product"}),!0}catch(N){return console.error("Error removing product allergen:",N),o({title:"Error",description:"Failed to remove allergen",variant:"destructive"}),!1}},updateProductAllergens:async(y,w)=>{try{const b=(await c(y)).map(E=>E.id),j=w.filter(E=>!b.includes(E)),C=b.filter(E=>!w.includes(E));if(C.length>0){const{error:E}=await he.from("product_allergens").delete().eq("product_id",y).in("allergen_id",C);if(E)throw E}if(j.length>0){const{error:E}=await he.from("product_allergens").insert(j.map(_=>({product_id:y,allergen_id:_})));if(E)throw E}return o({title:"Success",description:"Product allergens updated"}),!0}catch(N){return console.error("Error updating product allergens:",N),o({title:"Error",description:"Failed to update allergens",variant:"destructive"}),!1}},getCommonAllergens:()=>e.filter(y=>y.is_common),getCriticalAllergens:()=>e.filter(y=>y.severity==="critical"),refetch:l}}const q3={fresh:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cooked:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",frozen:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",dry:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",refrigerated:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300",thawed:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"};function H3({productName:e,categoryName:t,condition:r,preparedByName:n,prepDate:o,expiryDate:l,quantity:c,unit:d,batchNumber:f,productId:h,templateType:m="default",templateName:g,isBlankTemplate:y=!1}){const{getProductAllergens:w}=Lm(),[N,b]=v.useState([]),[j,C]=v.useState(!1);v.useEffect(()=>{h?E():b([])},[h]);const E=async()=>{if(h){C(!0);try{const B=await w(h);b(B)}catch(B){console.error("Error loading allergens for preview:",B),b([])}finally{C(!1)}}},_=JSON.stringify({productId:h||"",productName:e,prepDate:o,expiryDate:l,batchNumber:f,timestamp:new Date().toISOString()}),P=o?qs(new Date(o),"MMM dd, yyyy"):"",T=l?qs(new Date(l),"MMM dd, yyyy"):"",O=q3[r]||"bg-gray-100 text-gray-800",I=y||g?.toLowerCase()==="blank";return a.jsxs(ze,{className:"w-full max-w-md mx-auto",children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Vc,{className:"w-5 h-5"}),"Label Preview"]})}),a.jsxs(We,{children:[a.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-6 space-y-4 bg-white dark:bg-gray-950",children:I?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-3",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:a.jsx(Vc,{className:"w-10 h-10 text-gray-400 dark:text-gray-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Blank Template"}),a.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-xs",children:"This template has no predefined layout. The printer will use its own formatting or custom ZPL code."}),g&&a.jsx(Qe,{variant:"outline",className:"text-xs mt-2",children:g.toUpperCase()})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center border-b-2 border-gray-200 dark:border-gray-800 pb-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e||"Product Name"}),t&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[r&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"CONDITION"}),a.jsx(Qe,{className:`${O} font-semibold uppercase text-xs`,children:r})]}),n&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"PREPARED BY"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:n})]}),o&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"PREP DATE"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:P})]}),l&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"USE BY"}),a.jsx("p",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:T})]}),c&&d&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"QUANTITY"}),a.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:[c," ",d]})]}),f&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"BATCH #"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-gray-900 dark:text-gray-100",children:f})]})]}),a.jsx("div",{className:"flex flex-col items-center justify-center",children:e&&o&&l?a.jsxs(a.Fragment,{children:[a.jsx(gN,{value:_,size:140,level:"H",includeMargin:!1,className:"border-2 border-gray-200 dark:border-gray-700 rounded"}),a.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Scan for details"})]}):a.jsx("div",{className:"w-36 h-36 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:a.jsx("p",{className:"text-xs text-center text-muted-foreground px-2",children:"Fill in required fields to generate QR code"})})})]}),a.jsxs("div",{className:"border-t-2 border-gray-200 dark:border-gray-800 pt-3 flex justify-between items-center",children:[a.jsxs(Qe,{variant:"outline",className:"text-xs",children:[m.toUpperCase()," TEMPLATE"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:qs(new Date,"yyyy-MM-dd HH:mm")})]})]})}),h&&N.length>0&&a.jsx("div",{className:"mt-4",children:a.jsx(V3,{allergens:N})}),h&&j&&a.jsx("div",{className:"mt-4 text-sm text-muted-foreground text-center animate-pulse",children:"Loading allergen information..."}),a.jsx("div",{className:"mt-4 text-xs text-muted-foreground text-center",children:"This is a preview. Actual printed label may vary based on printer settings."})]})]})}function K3(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Fm="ScrollArea",[vN]=er(Fm),[G3,wr]=vN(Fm),yN=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:l=600,...c}=e,[d,f]=v.useState(null),[h,m]=v.useState(null),[g,y]=v.useState(null),[w,N]=v.useState(null),[b,j]=v.useState(null),[C,E]=v.useState(0),[_,P]=v.useState(0),[T,O]=v.useState(!1),[I,B]=v.useState(!1),V=$e(t,ee=>f(ee)),te=$u(o);return a.jsx(G3,{scope:r,type:n,dir:te,scrollHideDelay:l,scrollArea:d,viewport:h,onViewportChange:m,content:g,onContentChange:y,scrollbarX:w,onScrollbarXChange:N,scrollbarXEnabled:T,onScrollbarXEnabledChange:O,scrollbarY:b,onScrollbarYChange:j,scrollbarYEnabled:I,onScrollbarYEnabledChange:B,onCornerWidthChange:E,onCornerHeightChange:P,children:a.jsx(be.div,{dir:te,...c,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});yN.displayName=Fm;var xN="ScrollAreaViewport",wN=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...l}=e,c=wr(xN,r),d=v.useRef(null),f=$e(t,d,c.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(be.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});wN.displayName=xN;var pn="ScrollAreaScrollbar",$m=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=wr(pn,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=o,d=e.orientation==="horizontal";return v.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),o.type==="hover"?a.jsx(Y3,{...n,ref:t,forceMount:r}):o.type==="scroll"?a.jsx(Q3,{...n,ref:t,forceMount:r}):o.type==="auto"?a.jsx(bN,{...n,ref:t,forceMount:r}):o.type==="always"?a.jsx(Bm,{...n,ref:t}):null});$m.displayName=pn;var Y3=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=wr(pn,e.__scopeScrollArea),[l,c]=v.useState(!1);return v.useEffect(()=>{const d=o.scrollArea;let f=0;if(d){const h=()=>{window.clearTimeout(f),c(!0)},m=()=>{f=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),a.jsx(tr,{present:r||l,children:a.jsx(bN,{"data-state":l?"visible":"hidden",...n,ref:t})})}),Q3=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=wr(pn,e.__scopeScrollArea),l=e.orientation==="horizontal",c=Gu(()=>f("SCROLL_END"),100),[d,f]=K3("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>f("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,o.scrollHideDelay,f]),v.useEffect(()=>{const h=o.viewport,m=l?"scrollLeft":"scrollTop";if(h){let g=h[m];const y=()=>{const w=h[m];g!==w&&(f("SCROLL"),c()),g=w};return h.addEventListener("scroll",y),()=>h.removeEventListener("scroll",y)}},[o.viewport,l,f,c]),a.jsx(tr,{present:r||d!=="hidden",children:a.jsx(Bm,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:xe(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:xe(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),bN=v.forwardRef((e,t)=>{const r=wr(pn,e.__scopeScrollArea),{forceMount:n,...o}=e,[l,c]=v.useState(!1),d=e.orientation==="horizontal",f=Gu(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?h:m)}},10);return _i(r.viewport,f),_i(r.content,f),a.jsx(tr,{present:n||l,children:a.jsx(Bm,{"data-state":l?"visible":"hidden",...o,ref:t})})}),Bm=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=wr(pn,e.__scopeScrollArea),l=v.useRef(null),c=v.useRef(0),[d,f]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=EN(d.viewport,d.content),m={...n,sizes:d,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:y=>l.current=y,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:y=>c.current=y};function g(y,w){return rF(y,c.current,d,w)}return r==="horizontal"?a.jsx(J3,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const y=o.viewport.scrollLeft,w=Q0(y,d,o.dir);l.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollLeft=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollLeft=g(y,o.dir))}}):r==="vertical"?a.jsx(X3,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const y=o.viewport.scrollTop,w=Q0(y,d);l.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollTop=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollTop=g(y))}}):null}),J3=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,l=wr(pn,e.__scopeScrollArea),[c,d]=v.useState(),f=v.useRef(null),h=$e(t,f,l.onScrollbarXChange);return v.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),a.jsx(jN,{"data-orientation":"horizontal",...o,ref:h,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ku(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(l.viewport){const y=l.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),kN(y,g)&&m.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:uu(c.paddingLeft),paddingEnd:uu(c.paddingRight)}})}})}),X3=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,l=wr(pn,e.__scopeScrollArea),[c,d]=v.useState(),f=v.useRef(null),h=$e(t,f,l.onScrollbarYChange);return v.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),a.jsx(jN,{"data-orientation":"vertical",...o,ref:h,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ku(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(l.viewport){const y=l.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),kN(y,g)&&m.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:uu(c.paddingTop),paddingEnd:uu(c.paddingBottom)}})}})}),[Z3,SN]=vN(pn),jN=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:m,onResize:g,...y}=e,w=wr(pn,r),[N,b]=v.useState(null),j=$e(t,V=>b(V)),C=v.useRef(null),E=v.useRef(""),_=w.viewport,P=n.content-n.viewport,T=yt(m),O=yt(f),I=Gu(g,10);function B(V){if(C.current){const te=V.clientX-C.current.left,ee=V.clientY-C.current.top;h({x:te,y:ee})}}return v.useEffect(()=>{const V=te=>{const ee=te.target;N?.contains(ee)&&T(te,P)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[_,N,P,T]),v.useEffect(O,[n,O]),_i(N,I),_i(w.content,I),a.jsx(Z3,{scope:r,scrollbar:N,hasThumb:o,onThumbChange:yt(l),onThumbPointerUp:yt(c),onThumbPositionChange:O,onThumbPointerDown:yt(d),children:a.jsx(be.div,{...y,ref:j,style:{position:"absolute",...y.style},onPointerDown:xe(e.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),C.current=N.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),B(V))}),onPointerMove:xe(e.onPointerMove,B),onPointerUp:xe(e.onPointerUp,V=>{const te=V.target;te.hasPointerCapture(V.pointerId)&&te.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=E.current,w.viewport&&(w.viewport.style.scrollBehavior=""),C.current=null})})})}),cu="ScrollAreaThumb",NN=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=SN(cu,e.__scopeScrollArea);return a.jsx(tr,{present:r||o.hasThumb,children:a.jsx(eF,{ref:t,...n})})}),eF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,l=wr(cu,r),c=SN(cu,r),{onThumbPositionChange:d}=c,f=$e(t,g=>c.onThumbChange(g)),h=v.useRef(void 0),m=Gu(()=>{h.current&&(h.current(),h.current=void 0)},100);return v.useEffect(()=>{const g=l.viewport;if(g){const y=()=>{if(m(),!h.current){const w=nF(g,d);h.current=w,d()}};return d(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[l.viewport,m,d]),a.jsx(be.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:xe(e.onPointerDownCapture,g=>{const w=g.target.getBoundingClientRect(),N=g.clientX-w.left,b=g.clientY-w.top;c.onThumbPointerDown({x:N,y:b})}),onPointerUp:xe(e.onPointerUp,c.onThumbPointerUp)})});NN.displayName=cu;var Um="ScrollAreaCorner",_N=v.forwardRef((e,t)=>{const r=wr(Um,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(tF,{...e,ref:t}):null});_N.displayName=Um;var tF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=wr(Um,r),[l,c]=v.useState(0),[d,f]=v.useState(0),h=!!(l&&d);return _i(o.scrollbarX,()=>{const m=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(m),f(m)}),_i(o.scrollbarY,()=>{const m=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(m),c(m)}),h?a.jsx(be.div,{...n,ref:t,style:{width:l,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function uu(e){return e?parseInt(e,10):0}function EN(e,t){const r=e/t;return isNaN(r)?0:r}function Ku(e){const t=EN(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function rF(e,t,r,n="ltr"){const o=Ku(r),l=o/2,c=t||l,d=o-c,f=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-d,m=r.content-r.viewport,g=n==="ltr"?[0,m]:[m*-1,0];return CN([f,h],g)(e)}function Q0(e,t,r="ltr"){const n=Ku(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-o,c=t.content-t.viewport,d=l-n,f=r==="ltr"?[0,c]:[c*-1,0],h=Np(e,f);return CN([0,c],[0,d])(h)}function CN(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function kN(e,t){return e>0&&e<t}var nF=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function o(){const l={left:e.scrollLeft,top:e.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&t(),r=l,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function Gu(e,t){const r=yt(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function _i(e,t){const r=yt(t);mt(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var PN=yN,sF=wN,oF=_N;const TN=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(PN,{ref:n,className:de("relative overflow-hidden",e),...r,children:[a.jsx(sF,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(RN,{}),a.jsx(oF,{})]}));TN.displayName=PN.displayName;const RN=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx($m,{ref:n,orientation:t,className:de("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(NN,{className:"relative flex-1 rounded-full bg-border"})}));RN.displayName=$m.displayName;var iF="Separator",J0="horizontal",aF=["horizontal","vertical"],AN=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=J0,...o}=e,l=lF(n)?n:J0,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return a.jsx(be.div,{"data-orientation":l,...d,...o,ref:t})});AN.displayName=iF;function lF(e){return aF.includes(e)}var ON=AN;const Ip=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>a.jsx(ON,{ref:o,decorative:r,orientation:t,className:de("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Ip.displayName=ON.displayName;const cF=e=>{switch(e){case"critical":return a.jsx(Pn,{className:"h-4 w-4 text-red-500"});case"warning":return a.jsx(Dt,{className:"h-4 w-4 text-yellow-500"});case"info":return a.jsx(vu,{className:"h-4 w-4 text-blue-500"});default:return null}},IN=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300 hover:bg-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-300 hover:bg-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-300 hover:bg-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}};function uF({selectedAllergenIds:e=[],onChange:t,disabled:r=!1,showCommonOnly:n=!1,className:o="",productId:l}){const{allergens:c,loading:d,getProductAllergens:f}=Lm(),[h,m]=v.useState(!1),[g,y]=v.useState(!1);v.useEffect(()=>{l&&w()},[l]);const w=async()=>{if(l){y(!0);try{const P=(await f(l)).map(T=>T.id);t(P)}catch(_){console.error("Error loading product allergens:",_)}finally{y(!1)}}},N=_=>{if(r)return;const P=e.includes(_)?e.filter(T=>T!==_):[...e,_];t(P)},b=()=>{r||t([])},j=n||!h?c.filter(_=>_.is_common):c,C=c.filter(_=>e.includes(_.id)),E={critical:j.filter(_=>_.severity==="critical"),warning:j.filter(_=>_.severity==="warning"),info:j.filter(_=>_.severity==="info")};return d||g?a.jsx("div",{className:de("space-y-4",o),children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[1,2,3,4].map(_=>a.jsx("div",{className:"h-10 bg-gray-200 rounded"},_))})]})}):a.jsxs("div",{className:de("space-y-4",o),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Re,{className:"text-base font-semibold flex items-center gap-2",children:[a.jsx(Pn,{className:"h-5 w-5"}),"Allergens"]}),a.jsxs("div",{className:"flex gap-2",children:[e.length>0&&a.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:b,disabled:r,children:"Clear All"}),!n&&a.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>m(!h),disabled:r,children:h?"Common Only":"Show All"})]})]}),C.length>0&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(tt,{className:"pb-3",children:a.jsxs(ct,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Dt,{className:"h-4 w-4 text-yellow-600"}),"Selected Allergens (",C.length,")"]})}),a.jsx(We,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(_=>a.jsxs(Qe,{variant:"secondary",className:de("text-sm py-1 px-3 cursor-pointer",IN(_.severity)),onClick:()=>!r&&N(_.id),children:[_.icon&&a.jsx("span",{className:"mr-1",children:_.icon}),_.name,!r&&a.jsx(yi,{className:"h-3 w-3 ml-1 inline"})]},_.id))})})]}),a.jsx(TN,{className:"h-[300px] rounded-md border p-4",children:a.jsxs("div",{className:"space-y-4",children:[E.critical.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Pn,{className:"h-4 w-4 text-red-500"}),a.jsx("h4",{className:"text-sm font-semibold text-red-700",children:"Critical Allergens"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:E.critical.map(_=>a.jsx(Ih,{allergen:_,checked:e.includes(_.id),onCheckedChange:()=>N(_.id),disabled:r},_.id))}),a.jsx(Ip,{className:"mt-4"})]}),E.warning.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Dt,{className:"h-4 w-4 text-yellow-500"}),a.jsx("h4",{className:"text-sm font-semibold text-yellow-700",children:"Common Allergens"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:E.warning.map(_=>a.jsx(Ih,{allergen:_,checked:e.includes(_.id),onCheckedChange:()=>N(_.id),disabled:r},_.id))}),a.jsx(Ip,{className:"mt-4"})]}),E.info.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(vu,{className:"h-4 w-4 text-blue-500"}),a.jsx("h4",{className:"text-sm font-semibold text-blue-700",children:"Other Allergens"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:E.info.map(_=>a.jsx(Ih,{allergen:_,checked:e.includes(_.id),onCheckedChange:()=>N(_.id),disabled:r},_.id))})]})]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:n||!h?"Showing FDA/EU recognized major allergens (Top 14)":"Showing all allergens including less common ones"})]})}function Ih({allergen:e,checked:t,onCheckedChange:r,disabled:n}){return a.jsxs("div",{className:de("flex items-center space-x-3 rounded-md border p-3 transition-colors cursor-pointer",t?IN(e.severity):"hover:bg-accent",n&&"opacity-50 cursor-not-allowed"),onClick:()=>!n&&r(),children:[a.jsx(Vu,{checked:t,onCheckedChange:r,disabled:n,id:`allergen-${e.id}`}),a.jsxs("label",{htmlFor:`allergen-${e.id}`,className:"flex-1 cursor-pointer flex items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[e.icon&&a.jsx("span",{className:"text-lg",children:e.icon}),a.jsx("span",{children:e.name}),e.severity&&a.jsx("span",{className:"ml-auto",children:cF(e.severity)})]})]})}function dF(e){const[t,r]=v.useState([]),[n,o]=v.useState(!1),{toast:l}=ft();v.useEffect(()=>{e?c(e):r([])},[e]);const c=async g=>{try{o(!0);const{data:y,error:w}=await he.from("label_subcategories").select("*").eq("category_id",g).order("display_order").order("name");if(w)throw w;r(y||[])}catch(y){console.error("Error fetching subcategories:",y),l({title:"Error",description:"Failed to load subcategories",variant:"destructive"}),r([])}finally{o(!1)}};return{subcategories:t,loading:n,fetchSubcategories:c,fetchAllSubcategories:async()=>{try{o(!0);const{data:g,error:y}=await he.from("label_subcategories").select(`
          *,
          label_categories:category_id (
            id,
            name
          )
        `).order("category_id").order("display_order").order("name");if(y)throw y;return g||[]}catch(g){return console.error("Error fetching all subcategories:",g),[]}finally{o(!1)}},createSubcategory:async(g,y,w)=>{try{const{data:{user:N}}=await he.auth.getUser();if(!N)throw new Error("Not authenticated");const{data:b}=await he.from("profiles").select("organization_id").eq("user_id",N.id).single(),{data:j,error:C}=await he.from("label_subcategories").insert({name:g,category_id:y,organization_id:b?.organization_id,display_order:w||0}).select().single();if(C)throw C;return l({title:"Success",description:`Subcategory "${g}" created successfully`}),y===y&&await c(y),j}catch(N){return console.error("Error creating subcategory:",N),N.code==="23505"?l({title:"Error",description:"A subcategory with this name already exists in this category",variant:"destructive"}):l({title:"Error",description:"Failed to create subcategory",variant:"destructive"}),null}},updateSubcategory:async(g,y)=>{try{const{error:w}=await he.from("label_subcategories").update(y).eq("id",g);if(w)throw w;return l({title:"Success",description:"Subcategory updated successfully"}),e&&await c(e),!0}catch(w){return console.error("Error updating subcategory:",w),l({title:"Error",description:"Failed to update subcategory",variant:"destructive"}),!1}},deleteSubcategory:async g=>{try{const{error:y}=await he.from("label_subcategories").delete().eq("id",g);if(y)throw y;return l({title:"Success",description:"Subcategory deleted successfully"}),e&&await c(e),!0}catch(y){return console.error("Error deleting subcategory:",y),l({title:"Error",description:"Failed to delete subcategory. It may be in use.",variant:"destructive"}),!1}},refetch:()=>e&&c(e)}}function fF({categoryId:e,value:t,onChange:r,disabled:n=!1}){const{subcategories:o,loading:l}=dF(e);return e?l?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{children:"Subcategory (Optional)"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(j2,{className:"h-4 w-4 animate-spin"}),"Loading subcategories..."]})]}):o.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{className:"text-muted-foreground",children:"Subcategory (Optional)"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"No subcategories available for this category"})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"subcategory",children:"Subcategory (Optional)"}),a.jsxs(un,{value:t,onValueChange:c=>{const d=o.find(f=>f.id===c);d?r(d.id,d.name):r("","")},disabled:n,children:[a.jsx(zr,{id:"subcategory",children:a.jsx(dn,{placeholder:"Select a subcategory..."})}),a.jsxs(Wr,{children:[a.jsx(Ke,{value:"",children:"None"}),o.map(c=>a.jsx(Ke,{value:c.id,children:c.name},c.id))]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length," subcategor",o.length===1?"y":"ies"," available"]})]}):null}const Dh=[{value:"fresh",label:"Fresh",days:1},{value:"cooked",label:"Cooked",days:3},{value:"frozen",label:"Frozen",days:30},{value:"dry",label:"Dry Storage",days:90},{value:"refrigerated",label:"Refrigerated",days:7}];function hF({onSave:e,onPrint:t,onCancel:r,selectedUser:n,selectedTemplate:o}){const{toast:l}=ft(),{updateProductAllergens:c}=Lm(),[d,f]=v.useState([]),[h,m]=v.useState([]),[g,y]=v.useState(""),[w,N]=v.useState(""),[b,j]=v.useState(!1),[C,E]=v.useState(!1),[_,P]=v.useState(!1),[T,O]=v.useState([]),[I,B]=v.useState(!1),[V,te]=v.useState(""),[ee,X]=v.useState(!1),[$,z]=v.useState(!1),[q,U]=v.useState(""),[ne,K]=v.useState(""),[G,se]=v.useState(!1),[M,A]=v.useState(!1),[W,D]=v.useState(""),[Y,ae]=v.useState(!1),J=d.filter(oe=>oe.name.toLowerCase().includes(w.toLowerCase())),ue=new Date().toISOString().split("T")[0],[re,ge]=v.useState({categoryId:"",categoryName:"",subcategoryId:"",subcategoryName:"",productId:"",productName:"",condition:"",preparedBy:n?.user_id||"",preparedByName:n?.display_name||"",prepDate:ue,expiryDate:"",quantity:"",unit:"",batchNumber:""});v.useEffect(()=>{n&&ge(oe=>({...oe,preparedBy:n.user_id,preparedByName:n.display_name||""}))},[n]),v.useEffect(()=>{Pe()},[]),v.useEffect(()=>{const oe=setTimeout(()=>{Ue(re.categoryId,g)},300);return()=>clearTimeout(oe)},[re.categoryId,g]);const Pe=async()=>{try{const{data:oe,error:Oe}=await he.from("label_categories").select("id, name").order("name");if(Oe)throw Oe;console.log("Fetched categories:",oe),f(oe||[])}catch(oe){console.error("Error fetching categories:",oe)}},Ue=async(oe,Oe)=>{try{let De=he.from("products").select(`
          id,
          name,
          category_id,
          measuring_unit_id,
          measuring_units:measuring_unit_id (
            name,
            abbreviation
          ),
          label_categories:category_id (
            id,
            name
          )
        `).order("name").limit(50);oe&&oe!=="all"&&(De=De.eq("category_id",oe)),Oe&&(De=De.ilike("name",`%${Oe}%`));const{data:Hr,error:mn}=await De;if(mn)throw mn;m(Hr||[])}catch(De){console.error("Error fetching products:",De)}},Xe=async()=>{if(!V.trim()){l({title:"Invalid Name",description:"Please enter a category name",variant:"destructive"});return}X(!0);try{const{data:oe,error:Oe}=await he.from("label_categories").insert({name:V.trim()}).select().single();if(Oe){if(Oe.code==="23505")l({title:"Category Already Exists",description:`A category named "${V}" already exists in your organization.`,variant:"destructive"});else throw Oe;return}l({title:"Category Created",description:`"${V}" has been created successfully.`}),f(De=>[...De,oe]),ge(De=>({...De,categoryId:oe.id,categoryName:oe.name,productId:"",productName:""})),te(""),B(!1),N(""),j(!1)}catch(oe){console.error("Error creating category:",oe),l({title:"Error",description:"Failed to create category",variant:"destructive"})}finally{X(!1)}},Pt=async()=>{if(!q.trim()){l({title:"Invalid Name",description:"Please enter a product name",variant:"destructive"});return}if(!ne){l({title:"Category Required",description:"Please select a category for the product",variant:"destructive"});return}se(!0);try{const{data:oe,error:Oe}=await he.from("products").insert({name:q.trim(),category_id:ne}).select(`
          id,
          name,
          category_id,
          measuring_unit_id,
          measuring_units:measuring_unit_id (
            name,
            abbreviation
          ),
          label_categories:category_id (
            id,
            name
          )
        `).single();if(Oe){if(Oe.code==="23505")l({title:"Product Already Exists",description:`A product named "${q}" already exists in your organization.`,variant:"destructive"});else throw Oe;return}l({title:"Product Created",description:`"${q}" has been created successfully.`}),m(De=>[...De,oe]),ge(De=>({...De,productId:oe.id,productName:oe.name,categoryId:oe.category_id||De.categoryId,categoryName:oe.label_categories?.name||De.categoryName,unit:oe.measuring_units?.abbreviation||""})),U(""),K(""),z(!1),y(""),E(!1)}catch(oe){console.error("Error creating product:",oe),l({title:"Error",description:"Failed to create product",variant:"destructive"})}finally{se(!1)}},br=(oe,Oe)=>{const De=Dh.find(mn=>mn.value===oe);if(!De||!Oe)return"";const Hr=new Date(Oe);return Hr.setDate(Hr.getDate()+De.days),Hr.toISOString().split("T")[0]},Sr=oe=>{ge(Oe=>{const De=br(oe,Oe.prepDate);return{...Oe,condition:oe,expiryDate:De}}),P(!1)},jr=oe=>{ge(Oe=>{const De=Oe.condition?br(Oe.condition,oe):"";return{...Oe,prepDate:oe,expiryDate:De}})},On=oe=>{const Oe=h.find(De=>De.id===oe);Oe&&(ge(De=>({...De,productId:Oe.id,productName:Oe.name,unit:Oe.measuring_units?.abbreviation||"",categoryId:Oe.category_id||De.categoryId,categoryName:Oe.label_categories?.name||De.categoryName})),E(!1))},In=async()=>{if(!W.trim()){l({title:"Invalid Name",description:"Please enter a draft name",variant:"destructive"});return}ae(!0);try{const{error:oe}=await he.from("label_drafts").insert({draft_name:W.trim(),form_data:re,user_id:(await he.auth.getUser()).data.user?.id||""});if(oe)throw oe;l({title:"Draft Saved",description:`Draft "${W}" has been saved successfully.`}),D(""),A(!1)}catch(oe){console.error("Error saving draft:",oe),l({title:"Error",description:"Failed to save draft",variant:"destructive"})}finally{ae(!1)}},qr=async()=>{if(!re.productId||!re.condition){l({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}re.productId&&T.length>0&&(await c(re.productId,T)||l({title:"Warning",description:"Failed to save allergen information, but continuing with print",variant:"destructive"})),t?.(re)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[r&&a.jsx(pe,{onClick:r,variant:"ghost",size:"icon",children:a.jsx(Iw,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Create Label"}),a.jsx("p",{className:"text-muted-foreground",children:"Fill in the information for your food label"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{onClick:()=>A(!0),variant:"outline",className:"flex items-center gap-2",children:[a.jsx(T2,{className:"w-4 h-4"}),"Save Draft"]}),a.jsxs(pe,{onClick:qr,className:"flex items-center gap-2",children:[a.jsx(zs,{className:"w-4 h-4"}),"Print Label"]})]})]}),a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(an,{className:"w-5 h-5"}),"Product Information"]})}),a.jsxs(We,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{children:"Category *"}),a.jsxs(Pa,{open:b,onOpenChange:j,children:[a.jsx(Ta,{asChild:!0,children:a.jsxs(pe,{variant:"outline",role:"combobox","aria-expanded":b,className:"w-full justify-between",children:[re.categoryName||"Select category...",a.jsx(Ea,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(ui,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:a.jsxs(oi,{shouldFilter:!1,children:[a.jsx(ii,{placeholder:"Search category...",value:w,onValueChange:N}),a.jsxs(ai,{children:[J.length===0&&a.jsx(li,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-6 px-4 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No category found. Would you like to create one?"}),a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{te(w),B(!0),j(!1)},className:"flex items-center gap-2",children:[a.jsx(dr,{className:"w-4 h-4"}),'Create "',w||"New Category",'"']})]})}),a.jsxs(ci,{children:[a.jsxs(Us,{value:"All Categories",onSelect:()=>{ge(oe=>({...oe,categoryId:"all",categoryName:"All Categories",productId:"",productName:""})),y(""),N(""),j(!1)},children:[a.jsx(sn,{className:de("mr-2 h-4 w-4",re.categoryId==="all"?"opacity-100":"opacity-0")}),"All Categories"]}),J.map(oe=>a.jsxs(Us,{value:oe.name,onSelect:()=>{ge(Oe=>({...Oe,categoryId:oe.id,categoryName:oe.name,productId:"",productName:""})),y(""),N(""),j(!1)},children:[a.jsx(sn,{className:de("mr-2 h-4 w-4",re.categoryId===oe.id?"opacity-100":"opacity-0")}),oe.name]},oe.id))]})]})]})})]})]}),re.categoryId&&re.categoryId!=="all"&&a.jsx(fF,{categoryId:re.categoryId,value:re.subcategoryId||"",onChange:(oe,Oe)=>{ge(De=>({...De,subcategoryId:oe,subcategoryName:Oe}))}}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{children:"Product *"}),a.jsxs(Pa,{open:C,onOpenChange:E,children:[a.jsx(Ta,{asChild:!0,children:a.jsxs(pe,{variant:"outline",role:"combobox","aria-expanded":C,className:"w-full justify-between",children:[re.productName||"Select product...",a.jsx(Ea,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(ui,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:a.jsxs(oi,{shouldFilter:!1,children:[a.jsx(ii,{placeholder:"Search product...",value:g,onValueChange:y}),a.jsxs(ai,{children:[h.length===0&&a.jsx(li,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-6 px-4 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No product found. Would you like to create one?"}),a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{U(g),K(re.categoryId==="all"?"":re.categoryId),z(!0),E(!1)},className:"flex items-center gap-2",children:[a.jsx(dr,{className:"w-4 h-4"}),'Create "',g||"New Product",'"']})]})}),a.jsx(ci,{children:h.map(oe=>a.jsxs(Us,{value:oe.name,onSelect:()=>On(oe.id),children:[a.jsx(sn,{className:de("mr-2 h-4 w-4",re.productId===oe.id?"opacity-100":"opacity-0")}),oe.name]},oe.id))})]})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{children:"Condition *"}),a.jsxs(Pa,{open:_,onOpenChange:P,children:[a.jsx(Ta,{asChild:!0,children:a.jsxs(pe,{variant:"outline",role:"combobox","aria-expanded":_,className:"w-full justify-between",children:[Dh.find(oe=>oe.value===re.condition)?.label||"Select condition...",a.jsx(Ea,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(ui,{className:"w-full p-0",align:"start",children:a.jsxs(oi,{children:[a.jsx(ii,{placeholder:"Search condition..."}),a.jsxs(ai,{children:[a.jsx(li,{children:"No condition found."}),a.jsx(ci,{children:Dh.map(oe=>a.jsxs(Us,{value:oe.label,onSelect:()=>Sr(oe.value),children:[a.jsx(sn,{className:de("mr-2 h-4 w-4",re.condition===oe.value?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:oe.label}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[oe.days," day",oe.days!==1?"s":""," shelf life"]})]})]},oe.value))})]})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{children:"Prepared By"}),a.jsx(Fe,{value:re.preparedByName,readOnly:!0,className:"bg-muted"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"prep-date",children:"Prep Date"}),a.jsx(Fe,{id:"prep-date",type:"date",value:re.prepDate,onChange:oe=>jr(oe.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"expiry-date",children:"Expiry Date"}),a.jsx(Fe,{id:"expiry-date",type:"date",value:re.expiryDate,readOnly:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated based on condition"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"quantity",children:"Quantity (Optional)"}),a.jsx(Fe,{id:"quantity",type:"number",value:re.quantity,onChange:oe=>ge(Oe=>({...Oe,quantity:oe.target.value})),placeholder:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"unit",children:"Unit"}),a.jsxs(un,{value:re.unit,onValueChange:oe=>ge(Oe=>({...Oe,unit:oe})),children:[a.jsx(zr,{children:a.jsx(dn,{placeholder:"Select unit..."})}),a.jsxs(Wr,{children:[a.jsx(Ke,{value:"kg",children:"kg (Kilogram)"}),a.jsx(Ke,{value:"g",children:"g (Gram)"}),a.jsx(Ke,{value:"L",children:"L (Liter)"}),a.jsx(Ke,{value:"mL",children:"mL (Milliliter)"}),a.jsx(Ke,{value:"pcs",children:"pcs (Pieces)"}),a.jsx(Ke,{value:"oz",children:"oz (Ounce)"}),a.jsx(Ke,{value:"lb",children:"lb (Pound)"}),a.jsx(Ke,{value:"gal",children:"gal (Gallon)"}),a.jsx(Ke,{value:"servings",children:"Servings"}),a.jsx(Ke,{value:"portions",children:"Portions"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-loaded from product or select manually"})]})]})]})]}),re.productId&&a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsx(ct,{children:"Allergen Information"})}),a.jsx(We,{children:a.jsx(uF,{selectedAllergenIds:T,onChange:O,productId:re.productId,showCommonOnly:!1})})]}),a.jsx(H3,{productName:re.productName,categoryName:re.categoryName,condition:re.condition,preparedByName:re.preparedByName,prepDate:re.prepDate,expiryDate:re.expiryDate,quantity:re.quantity,unit:re.unit,batchNumber:re.batchNumber,productId:re.productId,templateType:"default",templateName:o?.name,isBlankTemplate:o?.name?.toLowerCase()==="blank"}),a.jsx(vi,{open:I,onOpenChange:B,children:a.jsxs(Hs,{children:[a.jsxs(Ks,{children:[a.jsx(Ys,{children:"Create New Category"}),a.jsx(Qs,{children:"Are you sure you want to create a new category with the following name?"})]}),a.jsxs("div",{className:"my-4",children:[a.jsx(Re,{htmlFor:"category-name",children:"Category Name"}),a.jsx(Fe,{id:"category-name",value:V,onChange:oe=>te(oe.target.value),placeholder:"Enter category name...",className:"mt-2",onKeyDown:oe=>{oe.key==="Enter"&&!ee&&Xe()}})]}),a.jsxs(Gs,{children:[a.jsx(Xs,{disabled:ee,children:"Cancel"}),a.jsx(Js,{onClick:Xe,disabled:ee||!V.trim(),children:ee?"Creating...":"Create Category"})]})]})}),a.jsx(vi,{open:M,onOpenChange:A,children:a.jsxs(Hs,{children:[a.jsxs(Ks,{children:[a.jsx(Ys,{children:"Save Draft"}),a.jsx(Qs,{children:"Give your draft a name to save your progress and continue later."})]}),a.jsxs("div",{className:"my-4",children:[a.jsx(Re,{htmlFor:"draft-name",children:"Draft Name *"}),a.jsx(Fe,{id:"draft-name",value:W,onChange:oe=>D(oe.target.value),placeholder:"e.g., Chicken Breast Label",className:"mt-2",onKeyDown:oe=>{oe.key==="Enter"&&!Y&&W.trim()&&In()}})]}),a.jsxs(Gs,{children:[a.jsx(Xs,{disabled:Y,children:"Cancel"}),a.jsx(Js,{onClick:In,disabled:Y||!W.trim(),children:Y?"Saving...":"Save Draft"})]})]})}),a.jsx(vi,{open:$,onOpenChange:z,children:a.jsxs(Hs,{children:[a.jsxs(Ks,{children:[a.jsx(Ys,{children:"Create New Product"}),a.jsx(Qs,{children:"Fill in the details to create a new product."})]}),a.jsxs("div",{className:"space-y-4 my-4",children:[a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"product-name",children:"Product Name *"}),a.jsx(Fe,{id:"product-name",value:q,onChange:oe=>U(oe.target.value),placeholder:"Enter product name...",className:"mt-2",onKeyDown:oe=>{oe.key==="Enter"&&!G&&q.trim()&&ne&&Pt()}})]}),a.jsxs("div",{children:[a.jsx(Re,{htmlFor:"product-category",children:"Category *"}),a.jsxs(Pa,{children:[a.jsx(Ta,{asChild:!0,children:a.jsxs(pe,{variant:"outline",role:"combobox",className:"w-full justify-between mt-2",children:[d.find(oe=>oe.id===ne)?.name||"Select category...",a.jsx(Ea,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(ui,{className:"w-full p-0",align:"start",children:a.jsxs(oi,{children:[a.jsx(ii,{placeholder:"Search category..."}),a.jsxs(ai,{children:[a.jsx(li,{children:"No category found."}),a.jsx(ci,{children:d.map(oe=>a.jsxs(Us,{value:oe.name,onSelect:()=>K(oe.id),children:[a.jsx(sn,{className:de("mr-2 h-4 w-4",ne===oe.id?"opacity-100":"opacity-0")}),oe.name]},oe.id))})]})]})})]})]})]}),a.jsxs(Gs,{children:[a.jsx(Xs,{disabled:G,children:"Cancel"}),a.jsx(Js,{onClick:Pt,disabled:G||!q.trim()||!ne,children:G?"Creating...":"Create Product"})]})]})})]})}const DN=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:de("w-full caption-bottom text-sm",e),...t})}));DN.displayName="Table";const MN=v.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:de("[&_tr]:border-b",e),...t}));MN.displayName="TableHeader";const LN=v.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:de("[&_tr:last-child]:border-0",e),...t}));LN.displayName="TableBody";const pF=v.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pF.displayName="TableFooter";const Dp=v.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:de("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dp.displayName="TableRow";const ni=v.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ni.displayName="TableHead";const si=v.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));si.displayName="TableCell";const mF=v.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:de("mt-4 text-sm text-muted-foreground",e),...t}));mF.displayName="TableCaption";const gF=Ja("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zm=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:de(gF({variant:t}),e),...r}));zm.displayName="Alert";const vF=v.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:de("mb-1 font-medium leading-none tracking-tight",e),...t}));vF.displayName="AlertTitle";const Wm=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:de("text-sm [&_p]:leading-relaxed",e),...t}));Wm.displayName="AlertDescription";function yF({onCreateNew:e,onBack:t}){const{toast:r}=ft(),{hasAnyRole:n,loading:o}=Di(),[l,c]=v.useState([]),[d,f]=v.useState(""),[h,m]=v.useState(!0),g=n(["manager","leader_chef"]),[y,w]=v.useState(!1),[N,b]=v.useState(!1),[j,C]=v.useState(!1),[E,_]=v.useState(null),[P,T]=v.useState({name:"",description:"",zpl_code:"",is_default:!1});v.useEffect(()=>{O()},[]);const O=async()=>{try{m(!0);const{data:q,error:U}=await he.from("label_templates").select("*").order("is_default",{ascending:!1}).order("name");if(U)throw U;c(q||[])}catch(q){console.error("Error fetching templates:",q),r({title:"Error",description:"Failed to load templates",variant:"destructive"})}finally{m(!1)}},I=async()=>{try{const{error:q}=await he.from("label_templates").insert({name:P.name,description:P.description||null,zpl_code:P.zpl_code||null,is_default:P.is_default});if(q)throw q;r({title:"Template Created",description:`Template "${P.name}" has been created successfully.`}),w(!1),$(),O()}catch(q){console.error("Error creating template:",q),r({title:"Error",description:"Failed to create template",variant:"destructive"})}},B=async()=>{if(E)try{const{error:q}=await he.from("label_templates").update({name:P.name,description:P.description||null,zpl_code:P.zpl_code||null,is_default:P.is_default}).eq("id",E.id);if(q)throw q;r({title:"Template Updated",description:`Template "${P.name}" has been updated successfully.`}),b(!1),_(null),$(),O()}catch(q){console.error("Error updating template:",q),r({title:"Error",description:"Failed to update template",variant:"destructive"})}},V=async()=>{if(E)try{const{error:q}=await he.from("label_templates").delete().eq("id",E.id);if(q)throw q;r({title:"Template Deleted",description:`Template "${E.name}" has been deleted.`}),C(!1),_(null),O()}catch(q){console.error("Error deleting template:",q),r({title:"Error",description:"Failed to delete template",variant:"destructive"})}},te=async q=>{try{await he.from("label_templates").update({is_default:!1}).neq("id","00000000-0000-0000-0000-000000000000");const{error:U}=await he.from("label_templates").update({is_default:!0}).eq("id",q.id);if(U)throw U;r({title:"Default Template Set",description:`"${q.name}" is now the default template.`}),O()}catch(U){console.error("Error setting default template:",U),r({title:"Error",description:"Failed to set default template",variant:"destructive"})}},ee=q=>{_(q),T({name:q.name,description:q.description||"",zpl_code:q.zpl_code||"",is_default:q.is_default||!1}),b(!0)},X=q=>{_(q),C(!0)},$=()=>{T({name:"",description:"",zpl_code:"",is_default:!1})},z=l.filter(q=>q.name.toLowerCase().includes(d.toLowerCase())||q.description&&q.description.toLowerCase().includes(d.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[t&&a.jsx(pe,{variant:"ghost",size:"icon",onClick:t,children:a.jsx(Iw,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Label Templates"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your label templates and formats"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pe,{onClick:e,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(dr,{className:"w-4 h-4"}),"Create Label"]}),g&&a.jsxs(pe,{onClick:()=>w(!0),className:"flex items-center gap-2",children:[a.jsx(dr,{className:"w-4 h-4"}),"New Template"]})]})]}),!o&&!g&&a.jsxs(zm,{children:[a.jsx(vu,{className:"h-4 w-4"}),a.jsx(Wm,{children:"You can view all templates, but only Managers and Leader Chefs can create, edit, or delete templates."})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Search templates...",value:d,onChange:q=>f(q.target.value),className:"pl-10"})]})}),a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs(ct,{children:["Available Templates (",z.length,")"]})}),a.jsx(We,{children:h?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading templates..."}):z.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No templates found. Create your first template!"}):a.jsxs(DN,{children:[a.jsx(MN,{children:a.jsxs(Dp,{children:[a.jsx(ni,{children:"Name"}),a.jsx(ni,{children:"Description"}),a.jsx(ni,{children:"Status"}),a.jsx(ni,{children:"Created"}),a.jsx(ni,{className:"text-right",children:"Actions"})]})}),a.jsx(LN,{children:z.map(q=>a.jsxs(Dp,{children:[a.jsx(si,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[q.name,q.is_default&&a.jsx(Kh,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})]})}),a.jsx(si,{className:"text-muted-foreground",children:q.description||"No description"}),a.jsx(si,{children:q.is_default?a.jsx(Qe,{variant:"default",children:"Default"}):a.jsx(Qe,{variant:"outline",children:"Active"})}),a.jsx(si,{className:"text-muted-foreground",children:new Date(q.created_at).toLocaleDateString()}),a.jsx(si,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g&&!q.is_default&&a.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>te(q),title:"Set as default",children:a.jsx(Kh,{className:"w-4 h-4"})}),g&&a.jsxs(a.Fragment,{children:[a.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>ee(q),title:"Edit template",children:a.jsx(Fw,{className:"w-4 h-4"})}),a.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>X(q),title:"Delete template",children:a.jsx(qp,{className:"w-4 h-4"})})]}),!g&&a.jsx(pe,{variant:"ghost",size:"icon",disabled:!0,title:"View only - no edit permissions",children:a.jsx(Vc,{className:"w-4 h-4"})})]})})]},q.id))})]})})]}),a.jsx(ji,{open:y,onOpenChange:w,children:a.jsxs(oo,{className:"max-w-2xl",children:[a.jsxs(io,{children:[a.jsx(ao,{children:"Create New Template"}),a.jsx(nu,{children:"Create a new label template with custom ZPL code"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"name",children:"Template Name *"}),a.jsx(Fe,{id:"name",placeholder:"e.g., Standard Food Label",value:P.name,onChange:q=>T({...P,name:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"description",children:"Description"}),a.jsx(Fe,{id:"description",placeholder:"Brief description of the template",value:P.description,onChange:q=>T({...P,description:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"zpl",children:"ZPL Code (Optional)"}),a.jsx(au,{id:"zpl",placeholder:"^XA...^XZ",value:P.zpl_code,onChange:q=>T({...P,zpl_code:q.target.value}),rows:8,className:"font-mono text-sm"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_default",checked:P.is_default,onChange:q=>T({...P,is_default:q.target.checked}),className:"rounded"}),a.jsx(Re,{htmlFor:"is_default",className:"cursor-pointer",children:"Set as default template"})]})]}),a.jsxs(jp,{children:[a.jsx(pe,{variant:"outline",onClick:()=>{w(!1),$()},children:"Cancel"}),a.jsxs(pe,{onClick:I,disabled:!P.name,children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),"Create Template"]})]})]})}),a.jsx(ji,{open:N,onOpenChange:b,children:a.jsxs(oo,{className:"max-w-2xl",children:[a.jsxs(io,{children:[a.jsx(ao,{children:"Edit Template"}),a.jsx(nu,{children:"Update template information and ZPL code"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"edit-name",children:"Template Name *"}),a.jsx(Fe,{id:"edit-name",placeholder:"e.g., Standard Food Label",value:P.name,onChange:q=>T({...P,name:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"edit-description",children:"Description"}),a.jsx(Fe,{id:"edit-description",placeholder:"Brief description of the template",value:P.description,onChange:q=>T({...P,description:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"edit-zpl",children:"ZPL Code (Optional)"}),a.jsx(au,{id:"edit-zpl",placeholder:"^XA...^XZ",value:P.zpl_code,onChange:q=>T({...P,zpl_code:q.target.value}),rows:8,className:"font-mono text-sm"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"edit-is_default",checked:P.is_default,onChange:q=>T({...P,is_default:q.target.checked}),className:"rounded"}),a.jsx(Re,{htmlFor:"edit-is_default",className:"cursor-pointer",children:"Set as default template"})]})]}),a.jsxs(jp,{children:[a.jsx(pe,{variant:"outline",onClick:()=>{b(!1),_(null),$()},children:"Cancel"}),a.jsxs(pe,{onClick:B,disabled:!P.name,children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),"Update Template"]})]})]})}),a.jsx(vi,{open:j,onOpenChange:C,children:a.jsxs(Hs,{children:[a.jsxs(Ks,{children:[a.jsx(Ys,{children:"Are you sure?"}),a.jsxs(Qs,{children:['This will permanently delete the template "',E?.name,'". This action cannot be undone.']})]}),a.jsxs(Gs,{children:[a.jsx(Xs,{onClick:()=>{C(!1),_(null)},children:"Cancel"}),a.jsx(Js,{onClick:V,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}var Mh={exports:{}},Lh={};var X0;function xF(){if(X0)return Lh;X0=1;var e=fu();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,y){var w=y(),N=n({inst:{value:w,getSnapshot:y}}),b=N[0].inst,j=N[1];return l(function(){b.value=w,b.getSnapshot=y,f(b)&&j({inst:b})},[g,w,y]),o(function(){return f(b)&&j({inst:b}),g(function(){f(b)&&j({inst:b})})},[g]),c(w),w}function f(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!r(g,w)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Lh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Lh}var Z0;function wF(){return Z0||(Z0=1,Mh.exports=xF()),Mh.exports}var bF=wF();function SF(){return bF.useSyncExternalStore(jF,()=>!0,()=>!1)}function jF(){return()=>{}}var Vm="Avatar",[NF]=er(Vm),[_F,FN]=NF(Vm),$N=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,l]=v.useState("idle");return a.jsx(_F,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:a.jsx(be.span,{...n,ref:t})})});$N.displayName=Vm;var BN="AvatarImage",UN=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...l}=e,c=FN(BN,r),d=EF(n,l),f=yt(h=>{o(h),c.onImageLoadingStatusChange(h)});return mt(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?a.jsx(be.img,{...l,ref:t,src:n}):null});UN.displayName=BN;var zN="AvatarFallback",WN=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,l=FN(zN,r),[c,d]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const f=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(f)}},[n]),c&&l.imageLoadingStatus!=="loaded"?a.jsx(be.span,{...o,ref:t}):null});WN.displayName=zN;function ew(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function EF(e,{referrerPolicy:t,crossOrigin:r}){const n=SF(),o=v.useRef(null),l=n?(o.current||(o.current=new window.Image),o.current):null,[c,d]=v.useState(()=>ew(l,e));return mt(()=>{d(ew(l,e))},[l,e]),mt(()=>{const f=g=>()=>{d(g)};if(!l)return;const h=f("loaded"),m=f("error");return l.addEventListener("load",h),l.addEventListener("error",m),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",h),l.removeEventListener("error",m)}},[l,r,t]),c}var VN=$N,qN=UN,HN=WN;const qm=v.forwardRef(({className:e,...t},r)=>a.jsx(VN,{ref:r,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));qm.displayName=VN.displayName;const CF=v.forwardRef(({className:e,...t},r)=>a.jsx(qN,{ref:r,className:de("aspect-square h-full w-full",e),...t}));CF.displayName=qN.displayName;const Hm=v.forwardRef(({className:e,...t},r)=>a.jsx(HN,{ref:r,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Hm.displayName=HN.displayName;function tw({open:e,onOpenChange:t,onSelectUser:r,organizationId:n}){const[o,l]=v.useState([]),[c,d]=v.useState(""),[f,h]=v.useState(!1),{toast:m}=ft();v.useEffect(()=>{e&&g()},[e]);const g=async()=>{h(!0);try{let b=n;if(!b){const{data:{user:E},error:_}=await he.auth.getUser();if(_)throw console.error("Auth error:",_),new Error(`Authentication failed: ${_.message}`);if(!E)throw new Error("Not authenticated and no organization_id provided");console.log("Current user ID:",E.id);const{data:P,error:T}=await he.from("profiles").select("organization_id").eq("user_id",E.id).maybeSingle();if(T)throw console.error("Profile error:",T),new Error(`Failed to fetch profile: ${T.message}`);if(console.log("Current profile organization_id:",P?.organization_id),!P?.organization_id){m({title:"No Organization",description:"You are not assigned to an organization.",variant:"destructive"}),l([]);return}b=P.organization_id}console.log("Fetching users for organization_id:",b);const{data:j,error:C}=await he.from("profiles").select("id, user_id, display_name, position").eq("organization_id",b).order("display_name",{ascending:!0});if(C)throw console.error("Error fetching users:",C),new Error(`Failed to fetch users: ${C.message}`);console.log("Fetched users:",j),l(j||[]),(!j||j.length===0)&&m({title:"No Users Found",description:"No users found in your organization. Make sure user profiles are created."})}catch(b){console.error("Error fetching users:",b),m({title:"Error",description:b instanceof Error?b.message:"Failed to load users",variant:"destructive"})}finally{h(!1)}},y=o.filter(b=>b.display_name?.toLowerCase().includes(c.toLowerCase())||b.position?.toLowerCase().includes(c.toLowerCase())),w=b=>{r(b),t(!1)},N=b=>b?b.split(" ").map(j=>j[0]).join("").toUpperCase().substring(0,2):"U";return a.jsx(ji,{open:e,onOpenChange:t,children:a.jsxs(oo,{className:"sm:max-w-[500px]",children:[a.jsxs(io,{children:[a.jsx(ao,{children:"Select User"}),a.jsx(nu,{children:"Choose who is preparing this product"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ho,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Search by name or position...",value:c,onChange:b=>d(b.target.value),className:"pl-10"})]}),a.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2",children:f?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading users..."}):y.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found"}):y.map(b=>a.jsxs("button",{onClick:()=>w(b),className:"w-full flex items-center gap-3 p-3 rounded-lg border hover:bg-accent transition-colors",children:[a.jsx(qm,{children:a.jsx(Hm,{className:"bg-primary text-primary-foreground",children:N(b.display_name)})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"font-medium",children:b.display_name||"No name"}),b.position&&a.jsx("p",{className:"text-sm text-muted-foreground",children:b.position})]})]},b.id))})]})]})})}function kF({products:e,onQuickPrint:t,className:r}){const[n,o]=v.useState("grid"),[l,c]=v.useState(""),d=e.filter(f=>f.name.toLowerCase().includes(l.toLowerCase()));return a.jsxs(ze,{className:de("w-full",r),children:[a.jsxs(tt,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O2,{className:"w-5 h-5 text-primary"}),a.jsx(ct,{className:"text-xl",children:"Quick Print"}),a.jsxs(Qe,{variant:"secondary",className:"ml-2",children:[d.length," products"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pe,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>o("grid"),className:"h-9 w-9 p-0",children:a.jsx(w2,{className:"w-4 h-4"})}),a.jsx(pe,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>o("list"),className:"h-9 w-9 p-0",children:a.jsx(S2,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"relative mt-3",children:[a.jsx(ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Search products...",value:l,onChange:f=>c(f.target.value),className:"pl-9"})]})]}),a.jsx(We,{children:d.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(an,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"No products found"})]}):a.jsxs(a.Fragment,{children:[n==="grid"&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:d.map(f=>a.jsxs(pe,{variant:"outline",className:"h-32 flex flex-col items-center justify-center p-4 hover:bg-primary hover:text-primary-foreground hover:border-primary transition-all duration-200 group touch-manipulation",onClick:()=>t(f),children:[a.jsx(zs,{className:"w-10 h-10 mb-2 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-sm font-medium text-center line-clamp-2 leading-tight",children:f.name}),f.measuring_units&&a.jsx("span",{className:"text-xs text-muted-foreground group-hover:text-primary-foreground/80 mt-1",children:f.measuring_units.abbreviation})]},f.id))}),n==="list"&&a.jsx("div",{className:"space-y-2",children:d.map(f=>a.jsx(pe,{variant:"outline",className:"w-full h-16 justify-start p-4 hover:bg-primary hover:text-primary-foreground hover:border-primary transition-all duration-200 group touch-manipulation",onClick:()=>t(f),children:a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx(zs,{className:"w-7 h-7 shrink-0 group-hover:scale-110 transition-transform"}),a.jsxs("div",{className:"flex-1 text-left min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:f.name}),f.label_categories&&a.jsx("p",{className:"text-xs text-muted-foreground group-hover:text-primary-foreground/80 truncate",children:f.label_categories.name})]}),f.measuring_units&&a.jsx(Qe,{variant:"secondary",className:"shrink-0 group-hover:bg-primary-foreground/20",children:f.measuring_units.abbreviation})]})},f.id))})]})})]})}const PF=e=>{const{productName:t,categoryName:r,condition:n,prepDate:o,expiryDate:l,preparedByName:c,quantity:d,unit:f}=e,h=`PRODUCT:${t}|PREP:${o}|EXP:${l}`;return`
^XA
^FO50,30^A0N,40,40^FD${t}^FS
^FO50,80^A0N,25,25^FDCategory: ${r}^FS
^FO50,115^A0N,25,25^FDCondition: ${n}^FS
^FO50,150^A0N,25,25^FDPrep: ${o}^FS
^FO50,185^A0N,25,25^FDExpiry: ${l}^FS
^FO50,220^A0N,25,25^FDBy: ${c}^FS
${d?`^FO50,255^A0N,25,25^FDQty: ${d} ${f||""}^FS`:""}
^FO450,50^BQN,2,6^FDQA,${h}^FS
^XZ
`},TF=async e=>{try{const{data:t,error:r}=await he.from("printed_labels").insert({product_id:e.productId,product_name:e.productName,category_id:e.categoryId,category_name:e.categoryName,prepared_by:e.preparedBy,prepared_by_name:e.preparedByName,prep_date:e.prepDate,expiry_date:e.expiryDate,condition:e.condition,quantity:e.quantity||null,unit:e.unit||null}).select().single();if(r)throw console.error("Error saving label to database:",r),r;return console.log("Label saved to database:",t),t?.id||null}catch(t){throw console.error("Failed to save label:",t),t}},RF=async(e,t=1)=>new Promise((r,n)=>{try{const o=new WebSocket("ws://127.0.0.1:9100/");o.onopen=()=>{console.log("Connected to printer");const l=e.replace("^XZ",`^PQ${t}^XZ`);o.send(l),console.log("Label sent to printer")},o.onmessage=()=>{console.log("Printer acknowledged"),o.close(),r()},o.onclose=()=>{console.log("Printer connection closed"),r()},o.onerror=l=>{console.error("Printer WebSocket Error:",l),o.close(),n(new Error("Failed to connect to printer. Make sure Zebra Browser Print is running."))},setTimeout(()=>{o.readyState!==WebSocket.CLOSED&&(o.close(),n(new Error("Printer connection timeout")))},5e3)}catch(o){console.error("Error setting up printer connection:",o),n(o)}}),Fh=async e=>{try{const t=await TF(e),r=PF(e),n=e.quantity?parseInt(e.quantity):1;return await RF(r,n),{success:!0,labelId:t||void 0}}catch(t){return console.error("Error printing label:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}},AF=e=>{if(!e)return"safe";const t=new Date,r=new Date(e);if(r<t)return"expired";const n=1440*60*1e3;return r.getTime()-t.getTime()<=n?"warning":"safe"},OF=e=>{switch(e){case"expired":return"text-red-500 bg-red-100";case"warning":return"text-yellow-500 bg-yellow-100";case"safe":return"text-green-500 bg-green-100";default:return"text-gray-500 bg-gray-100"}};function IF(){const[e,t]=v.useState(""),[r,n]=v.useState("overview"),[o,l]=v.useState(!1),[c,d]=v.useState(null),{toast:f}=ft(),[h,m]=v.useState(0),[g,y]=v.useState(0),[w,N]=v.useState(0),[b,j]=v.useState([]),[C,E]=v.useState([]),[_,P]=v.useState(!1),[T,O]=v.useState(null),[I,B]=v.useState(1),[V,te]=v.useState([]),[ee,X]=v.useState(null);v.useEffect(()=>{$(),z(),q(),U()},[]);const $=async()=>{try{const{data:D,error:Y}=await he.from("products").select(`
          id,
          name,
          measuring_unit_id,
          measuring_units:measuring_unit_id (
            name,
            abbreviation
          )
        `).order("name");if(Y)throw Y;E(D||[])}catch(D){console.error("Error fetching products:",D)}},z=async()=>{try{const{data:D,error:Y}=await he.from("label_templates").select("*").order("name").returns();if(Y)throw Y;if(te(D||[]),D&&D.length>0){const ae=D.find(J=>J.name==="Standard Food Label")||D[0];X(ae)}}catch(D){console.error("Error fetching templates:",D)}},q=async()=>{try{const D=new Date;D.setHours(0,0,0,0);const Y=new Date(D);Y.setDate(Y.getDate()+1);const{count:ae,error:J}=await he.from("printed_labels").select("*",{count:"exact",head:!0}).gte("created_at",D.toISOString()).lt("created_at",Y.toISOString());if(J)throw J;m(ae||0);const{count:ue,error:re}=await he.from("printed_labels").select("*",{count:"exact",head:!0});if(re)throw re;y(ue||0);const ge=new Date,Pe=new Date;Pe.setHours(Pe.getHours()+24);const{count:Ue,error:Xe}=await he.from("printed_labels").select("*",{count:"exact",head:!0}).gte("expiry_date",ge.toISOString().split("T")[0]).lte("expiry_date",Pe.toISOString().split("T")[0]);if(Xe)throw Xe;N(Ue||0)}catch(D){console.error("Error fetching dashboard stats:",D)}},U=async()=>{try{const{data:D,error:Y}=await he.from("printed_labels").select("*").order("created_at",{ascending:!1}).limit(10);if(Y)throw Y;j(D||[])}catch(D){console.error("Error fetching recent labels:",D)}},ne=async()=>{if(!T){f({title:"Product Required",description:"Please select a product to print.",variant:"destructive"});return}const{data:{user:D}}=await he.auth.getUser();if(!D){f({title:"Authentication Required",description:"Please log in to print labels.",variant:"destructive"});return}const{data:Y}=await he.from("profiles").select("display_name").eq("user_id",D.id).single(),ae=new Date,J=ae.toISOString().split("T")[0],ue=new Date(ae);ue.setDate(ae.getDate()+3);const re=ue.toISOString().split("T")[0],ge={productId:T.id,productName:T.name,categoryId:null,categoryName:"Quick Print",preparedBy:D.id,preparedByName:Y?.display_name||D.email||"Unknown",prepDate:J,expiryDate:re,condition:"refrigerated",quantity:I.toString(),unit:T.measuring_units?.abbreviation||"",batchNumber:T.batch_number||""};try{const Pe=await Fh(ge);Pe.success?(f({title:"Label Sent to Printer",description:`Printing ${I} label(s) for ${T.name}`}),q(),U()):f({title:"Print Failed",description:Pe.error||"Could not connect to printer.",variant:"destructive"})}catch(Pe){console.error("Error in quick print:",Pe),f({title:"Print Failed",description:"An error occurred while printing.",variant:"destructive"})}},K=async D=>{const{data:{user:Y}}=await he.auth.getUser();if(!Y){f({title:"Authentication Required",description:"Please log in to print labels.",variant:"destructive"});return}const{data:ae}=await he.from("profiles").select("display_name").eq("user_id",Y.id).single(),J=new Date,ue=J.toISOString().split("T")[0],re=new Date(J);re.setDate(J.getDate()+3);const ge=re.toISOString().split("T")[0],Pe={productId:D.id,productName:D.name,categoryId:D.label_categories?.id||null,categoryName:D.label_categories?.name||"Quick Print",preparedBy:Y.id,preparedByName:ae?.display_name||Y.email||"Unknown",prepDate:ue,expiryDate:ge,condition:"refrigerated",quantity:"1",unit:D.measuring_units?.abbreviation||"",batchNumber:""};try{const Ue=await Fh(Pe);Ue.success?(f({title:"Label Sent to Printer",description:`Printing label for ${D.name}`}),q(),U()):f({title:"Print Failed",description:Ue.error||"Could not connect to printer.",variant:"destructive"})}catch(Ue){console.error("Error in quick print:",Ue),f({title:"Print Failed",description:"An error occurred while printing.",variant:"destructive"})}},G=()=>{l(!0)},se=D=>{d(D),n("form")},M=D=>{f({title:"Label Saved",description:"Your label has been saved as a draft."}),n("overview")},A=async D=>{try{const Y=await Fh({productId:D.productId,productName:D.productName,categoryId:D.categoryId==="all"?null:D.categoryId,categoryName:D.categoryName,preparedBy:D.preparedBy,preparedByName:D.preparedByName,prepDate:D.prepDate,expiryDate:D.expiryDate,condition:D.condition,quantity:D.quantity,unit:D.unit,batchNumber:D.batchNumber});Y.success?(f({title:"Label Printed Successfully",description:`Label for ${D.productName} has been sent to the printer and saved to history.`}),q(),U(),n("overview")):f({title:"Print Failed",description:Y.error||"Could not connect to printer.",variant:"destructive"})}catch(Y){console.error("Error printing label:",Y),f({title:"Print Error",description:"An unexpected error occurred while printing.",variant:"destructive"})}},W=()=>{n("overview")};return r==="form"?a.jsxs(a.Fragment,{children:[a.jsx(hF,{onSave:M,onPrint:A,onCancel:W,selectedUser:c||void 0,selectedTemplate:ee||void 0}),a.jsx(tw,{open:o,onOpenChange:l,onSelectUser:se})]}):r==="templates"?a.jsx(yF,{onCreateNew:G,onBack:()=>n("overview")}):a.jsxs(a.Fragment,{children:[a.jsx(tw,{open:o,onOpenChange:l,onSelectUser:se}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Label Management"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Create templates, print labels, and track compliance"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(pe,{variant:"outline",children:[a.jsx(zs,{className:"w-4 h-4 mr-2"}),"Print Queue"]}),a.jsxs(pe,{variant:"outline",onClick:()=>n("templates"),children:[a.jsx(qc,{className:"w-4 h-4 mr-2"}),"Manage Templates"]}),a.jsxs(pe,{variant:"hero",onClick:G,children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"New Label"]})]})]}),a.jsx(kF,{products:C,onQuickPrint:K}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Zt,{title:"Labels Today",value:h,change:`Total: ${g} labels`,changeType:"neutral",icon:zs}),a.jsx(Zt,{title:"Recent Labels",value:b.length,change:"Last 10 printed",changeType:"neutral",icon:P2}),a.jsx(Zt,{title:"Expiring Soon",value:w,change:"Next 24 hours",changeType:w>10?"negative":"neutral",icon:Dt}),a.jsx(Zt,{title:"Compliance Rate",value:g>0?"Active":"No Data",change:`${g} printed`,changeType:"positive",icon:to})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Print"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Product"}),a.jsxs(Pa,{open:_,onOpenChange:P,children:[a.jsx(Ta,{asChild:!0,children:a.jsxs(pe,{variant:"outline",role:"combobox","aria-expanded":_,className:"w-full justify-between",children:[T?C.find(D=>D.id===T.id)?.name:"Select product...",a.jsx(Ea,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(ui,{className:"w-[300px] p-0",children:a.jsxs(oi,{children:[a.jsx(ii,{placeholder:"Search product..."}),a.jsxs(ai,{children:[a.jsx(li,{children:"No product found."}),a.jsx(ci,{children:C.map(D=>a.jsxs(Us,{value:D.name,onSelect:()=>{O(D),P(!1)},children:[a.jsx(sn,{className:de("mr-2 h-4 w-4",T?.id===D.id?"opacity-100":"opacity-0")}),D.name]},D.id))})]})]})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Template"}),a.jsx("select",{className:"w-full h-10 px-3 py-2 text-sm border border-input bg-background rounded-md",value:ee?.id||"",onChange:D=>{const Y=V.find(ae=>ae.id===D.target.value);X(Y)},children:V.length===0?a.jsx("option",{value:"",children:"No templates available"}):V.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Quantity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fe,{type:"number",placeholder:"1",className:"flex-1",value:I,onChange:D=>B(parseInt(D.target.value)||1),min:"1"}),a.jsxs(pe,{variant:"default",onClick:ne,children:[a.jsx(zs,{className:"w-4 h-4 mr-2"}),"Print"]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Label Template"}),a.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>n("templates"),children:[a.jsx(qc,{className:"w-4 h-4 mr-2"}),"View Template"]})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium",children:"Standard Food Label"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"Fixed template"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:["Product Name","Prep Date","Expiry Date","Staff Name","Quantity","Allergens","QR Code"].map(D=>a.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-md font-medium",children:D},D))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Compliant with Australian food labeling standards"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Recent Labels"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ho,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Search labels...",className:"pl-10 w-48",value:e,onChange:D=>t(D.target.value)})]}),a.jsx(pe,{variant:"outline",size:"icon",children:a.jsx(gu,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"space-y-3",children:b.length===0?a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-8 text-center",children:[a.jsx(zs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"No labels printed yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start printing labels to see them here"})]}):b.filter(D=>e===""||D.product_name.toLowerCase().includes(e.toLowerCase())).map(D=>{const Y=AF(D.expiry_date),ae=OF(Y);return a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium",children:D.product_name}),a.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-medium",style:{backgroundColor:`${ae}20`,color:ae},children:Y})]}),a.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Category: ",D.category_name||"N/A"]}),a.jsxs("p",{children:["Condition: ",D.condition]}),a.jsxs("p",{children:["Prep: ",new Date(D.prep_date).toLocaleDateString()," | Expires: ",new Date(D.expiry_date).toLocaleDateString()]}),a.jsxs("p",{children:["By: ",D.prepared_by_name," at ",new Date(D.created_at).toLocaleTimeString()]}),D.quantity&&a.jsxs("p",{children:["Qty: ",D.quantity," ",D.unit]})]})]},D.id)})})]})]})]})]})}const DF=[{id:1,name:"Chicken Breast",category:"Proteins",currentStock:11,parLevel:23,unit:"kg",supplier:"Fresh Farms Co",lastOrdered:"2024-08-18",status:"low"},{id:2,name:"Tomatoes",category:"Produce",currentStock:54,parLevel:45,unit:"kg",supplier:"Garden Fresh",lastOrdered:"2024-08-19",status:"good"},{id:3,name:"Olive Oil",category:"Pantry",currentStock:8,parLevel:12,unit:"litres",supplier:"Mediterranean Supply",lastOrdered:"2024-08-15",status:"reorder"},{id:4,name:"Rice",category:"Grains",currentStock:0,parLevel:11,unit:"kg",supplier:"Bulk Foods Inc",lastOrdered:"2024-08-10",status:"out"}],MF=[{item:"Chicken Breast",currentStock:11,parLevel:23,suggested:34},{item:"Olive Oil",currentStock:8,parLevel:12,suggested:15},{item:"Rice",currentStock:0,parLevel:11,suggested:23}];function LF(){return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Inventory Management"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Track stock levels, manage suppliers, and automate reorders"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(pe,{variant:"outline",children:[a.jsx(Lw,{className:"w-4 h-4 mr-2"}),"Export Data"]}),a.jsxs(pe,{variant:"hero",children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Zt,{title:"Total Items",value:"1,247",change:"+23 this week",changeType:"positive",icon:an}),a.jsx(Zt,{title:"Low Stock Items",value:18,change:"Need attention",changeType:"negative",icon:Dt}),a.jsx(Zt,{title:"Out of Stock",value:4,change:"Critical items",changeType:"negative",icon:zy}),a.jsx(Zt,{title:"Reorder Value",value:"$2,340",change:"Pending approval",changeType:"neutral",icon:an})]}),a.jsx("div",{className:"bg-card rounded-lg border shadow-card p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ho,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Search inventory items...",className:"pl-10"})]}),a.jsxs("select",{className:"h-10 px-3 py-2 text-sm border border-input bg-background rounded-md",children:[a.jsx("option",{children:"All Categories"}),a.jsx("option",{children:"Proteins"}),a.jsx("option",{children:"Produce"}),a.jsx("option",{children:"Pantry"}),a.jsx("option",{children:"Grains"})]}),a.jsxs("select",{className:"h-10 px-3 py-2 text-sm border border-input bg-background rounded-md",children:[a.jsx("option",{children:"All Status"}),a.jsx("option",{children:"Good"}),a.jsx("option",{children:"Low Stock"}),a.jsx("option",{children:"Reorder"}),a.jsx("option",{children:"Out of Stock"})]}),a.jsxs(pe,{variant:"outline",children:[a.jsx(gu,{className:"w-4 h-4 mr-2"}),"More Filters"]})]})}),a.jsx(H1,{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Current Inventory"}),a.jsx("div",{className:"space-y-4",children:DF.map(e=>a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-4 hover:shadow-card-hover transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:e.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.category,"  ",e.supplier]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e.status==="good"?"bg-success/10 text-success":e.status==="low"?"bg-warning/10 text-warning":e.status==="reorder"?"bg-destructive/10 text-destructive":"bg-muted text-muted-foreground"}`,children:e.status==="out"?"OUT OF STOCK":e.status==="reorder"?"REORDER":e.status==="low"?"LOW STOCK":"IN STOCK"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Stock"}),a.jsxs("p",{className:"font-medium",children:[e.currentStock," ",e.unit]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Par Level"}),a.jsxs("p",{className:"font-medium",children:[e.parLevel," ",e.unit]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Ordered"}),a.jsx("p",{className:"font-medium",children:new Date(e.lastOrdered).toLocaleDateString()})]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2 mb-3",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e.status==="good"?"bg-success":e.status==="low"?"bg-warning":"bg-destructive"}`,style:{width:`${Math.max(e.currentStock/e.parLevel*100,5)}%`}})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pe,{variant:"outline",size:"sm",children:"Update Count"}),e.status==="reorder"||e.status==="out"?a.jsx(pe,{variant:"default",size:"sm",children:"Reorder Now"}):null]})]},e.id))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Reorder Suggestions"}),a.jsx("div",{className:"space-y-3",children:MF.map((e,t)=>a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:e.item}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Current:"}),a.jsx("span",{children:e.currentStock})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Par Level:"}),a.jsx("span",{children:e.parLevel})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Suggested:"}),a.jsx("span",{className:"font-medium text-primary",children:e.suggested})]})]}),a.jsx(pe,{variant:"default",size:"sm",className:"w-full mt-3",children:"Add to Order"})]},t))})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(pe,{variant:"outline",className:"w-full justify-start",children:[a.jsx(an,{className:"w-4 h-4 mr-2"}),"Bulk Update Counts"]}),a.jsxs(pe,{variant:"outline",className:"w-full justify-start",children:[a.jsx(zy,{className:"w-4 h-4 mr-2"}),"Generate Waste Report"]}),a.jsxs(pe,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Dt,{className:"w-4 h-4 mr-2"}),"View Low Stock Alert"]}),a.jsxs(pe,{variant:"default",className:"w-full justify-start",children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"Create Purchase Order"]})]})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Supplier Quick Contact"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Fresh Farms Co"}),a.jsx(pe,{variant:"ghost",size:"sm",children:"Call"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Garden Fresh"}),a.jsx(pe,{variant:"ghost",size:"sm",children:"Call"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Mediterranean Supply"}),a.jsx(pe,{variant:"ghost",size:"sm",children:"Call"})]})]})]})]})]})]})}const FF=[{category:"Label Compliance",current:98.5,target:95,trend:"+0.3%"},{category:"Temperature Logs",current:100,target:100,trend:"0%"},{category:"HACCP Checks",current:94.2,target:95,trend:"-1.2%"},{category:"Cleaning Schedule",current:89.5,target:90,trend:"+2.1%"}],$F=[{item:"Produce",amount:"20 kg",cost:"$89",reason:"Expiration"},{item:"Bread",amount:"12 loaves",cost:"$24",reason:"Overproduction"},{item:"Dairy",amount:"30 litres",cost:"$32",reason:"Temperature Issue"},{item:"Proteins",amount:"7 kg",cost:"$75",reason:"Quality Control"}];function BF(){return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Analytics & Reports"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Compliance tracking, operational insights, and performance metrics"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(pe,{variant:"outline",children:[a.jsx(to,{className:"w-4 h-4 mr-2"}),"Date Range"]}),a.jsxs(pe,{variant:"outline",children:[a.jsx(Lw,{className:"w-4 h-4 mr-2"}),"Export Reports"]}),a.jsxs(pe,{variant:"hero",children:[a.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Custom Report"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Zt,{title:"Overall Compliance",value:"95.6%",change:"+1.2% from last month",changeType:"positive",icon:kn}),a.jsx(Zt,{title:"Failed Checks",value:7,change:"3 this week",changeType:"negative",icon:Dt}),a.jsx(Zt,{title:"Cost Savings",value:"$2,340",change:"vs last month",changeType:"positive",icon:Ma}),a.jsx(Zt,{title:"Efficiency Score",value:"87%",change:"+5% improvement",changeType:"positive",icon:Da})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Compliance Overview"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Current period performance vs targets"})]}),a.jsxs(pe,{variant:"outline",size:"sm",children:[a.jsx(gu,{className:"w-4 h-4 mr-2"}),"Filter by Location"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:FF.map((e,t)=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-sm",children:e.category}),a.jsx("span",{className:`text-xs font-medium ${e.current>=e.target?"text-success":"text-warning"}`,children:e.trend})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[e.current,"%"]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Target: ",e.target,"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e.current>=e.target?"bg-success":"bg-warning"}`,style:{width:`${Math.min(e.current,100)}%`}})})]})]},t))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Performance Trends"}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium",children:"Weekly Label Compliance"}),a.jsx(pe,{variant:"outline",size:"sm",children:"View Details"})]}),a.jsx("div",{className:"h-48 bg-muted/20 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Da,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Chart showing weekly compliance trends"})]})})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"font-medium",children:"Temperature Monitoring"}),a.jsx(pe,{variant:"outline",size:"sm",children:"View Details"})]}),a.jsx("div",{className:"h-48 bg-muted/20 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ma,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Temperature compliance over time"})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Waste Analysis"}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsx("h4",{className:"font-medium mb-4",children:"This Week's Waste"}),a.jsx("div",{className:"space-y-3",children:$F.map((e,t)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e.item}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.reason})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:e.amount}),a.jsx("p",{className:"text-sm text-destructive",children:e.cost})]})]},t))}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Total Weekly Waste"}),a.jsx("span",{className:"font-bold text-destructive",children:"$220"})]})})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsx("h4",{className:"font-medium mb-4",children:"Active Alerts"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 bg-warning/10 border border-warning/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"w-4 h-4 text-warning"}),a.jsx("span",{className:"font-medium text-sm",children:"Temperature Alert"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Freezer #2 temperature slightly elevated"})]}),a.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"w-4 h-4 text-destructive"}),a.jsx("span",{className:"font-medium text-sm",children:"Compliance Issue"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Missing temperature log for lunch prep"})]}),a.jsxs("div",{className:"p-3 bg-warning/10 border border-warning/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"w-4 h-4 text-warning"}),a.jsx("span",{className:"font-medium text-sm",children:"Inventory Alert"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Multiple items below par level"})]})]})]}),a.jsxs("div",{className:"bg-card rounded-lg border shadow-card p-6",children:[a.jsx("h4",{className:"font-medium mb-4",children:"Multi-Site Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Main Kitchen"}),a.jsx("span",{className:"px-2 py-1 bg-success/10 text-success text-xs rounded-full",children:"95.8%"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"East Location"}),a.jsx("span",{className:"px-2 py-1 bg-success/10 text-success text-xs rounded-full",children:"97.2%"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"West Location"}),a.jsx("span",{className:"px-2 py-1 bg-warning/10 text-warning text-xs rounded-full",children:"89.5%"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Downtown Branch"}),a.jsx("span",{className:"px-2 py-1 bg-success/10 text-success text-xs rounded-full",children:"94.1%"})]})]})]})]})]})]})}const UF=[{icon:$w,title:"Smart Labeling",description:"Custom templates with auto-expiry calculations and QR codes for seamless traceability."},{icon:mu,title:"Kitchen Management",description:"Digital prep plans, timers, and HACCP compliance tools to streamline operations."},{icon:an,title:"Inventory Control",description:"Real-time stock tracking with automated reorder suggestions and supplier management."},{icon:Da,title:"Analytics & Insights",description:"Comprehensive reporting on compliance, waste reduction, and operational efficiency."},{icon:yu,title:"HACCP Compliance",description:"Built-in food safety protocols with temperature logging and audit trails."},{icon:ro,title:"Multi-Tenant Platform",description:"Enterprise-ready with role-based access and multi-location support."}],zF=["Reduce food waste by up to 30%","Improve compliance scores to 98%+","Save 4+ hours daily on paperwork","Real-time visibility across locations"],WF=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-muted/40",children:[a.jsx("header",{className:"border-b bg-card/80 backdrop-blur-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ha,{className:"w-12 h-12"}),a.jsx("h1",{className:"font-bold text-xl",children:"Tampa APP"})]}),a.jsx(pe,{variant:"hero",asChild:!0,children:a.jsxs("a",{href:"/auth",children:["Enter Platform",a.jsx(Bf,{className:"w-4 h-4 ml-2"})]})})]})})}),a.jsx("section",{className:"relative py-20 overflow-hidden",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6",children:["The Complete Food Service",a.jsx("span",{className:"block bg-gradient-hero bg-clip-text text-transparent",children:"Management Platform"})]}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Streamline operations, ensure compliance, and reduce waste with our comprehensive SaaS platform designed specifically for the food service industry."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(pe,{variant:"hero",size:"lg",asChild:!0,children:a.jsxs("a",{href:"/auth",children:["Start Free Trial",a.jsx(Bf,{className:"w-5 h-5 ml-2"})]})}),a.jsx(pe,{variant:"outline",size:"lg",children:"Schedule Demo"})]})]})})}),a.jsx("section",{className:"py-16 bg-card/50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Proven Results for Food Service Operations"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:zF.map((e,t)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(kn,{className:"w-6 h-6 text-success flex-shrink-0"}),a.jsx("span",{className:"font-medium",children:e})]},t))})]})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Everything You Need in One Platform"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"From labeling to analytics, our integrated solution covers every aspect of modern food service management."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:UF.map((e,t)=>a.jsxs("div",{className:"bg-card rounded-lg border shadow-card hover:shadow-card-hover transition-shadow p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:a.jsx(e.icon,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"font-semibold text-lg mb-3",children:e.title}),a.jsx("p",{className:"text-muted-foreground",children:e.description})]},t))})]})}),a.jsx("section",{className:"py-20 bg-gradient-hero",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Food Service Operations?"}),a.jsx("p",{className:"text-xl text-primary-foreground/90 mb-8 max-w-2xl mx-auto",children:"Join hundreds of restaurants, cafeterias, and food service providers who trust our platform for their daily operations."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(pe,{variant:"secondary",size:"lg",asChild:!0,children:a.jsxs("a",{href:"/auth",children:["Access Dashboard",a.jsx(Bf,{className:"w-5 h-5 ml-2"})]})}),a.jsx(pe,{variant:"outline",size:"lg",className:"bg-transparent border-primary-foreground text-primary-foreground hover:bg-primary-foreground hover:text-primary",children:"Contact Sales"})]})]})}),a.jsx("footer",{className:"border-t bg-card/80 backdrop-blur-sm py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ha,{className:"w-12 h-12"}),a.jsx("span",{className:"font-bold text-lg",children:"Tampa APP"})]}),a.jsx("p",{className:"text-muted-foreground",children:" 2024 Tampa APP. Smart Food Safety & Kitchen Management."})]})})})]});var $h="rovingFocusGroup.onEntryFocus",VF={bubbles:!1,cancelable:!0},ol="RovingFocusGroup",[Mp,KN,qF]=Bp(ol),[HF,GN]=er(ol,[qF]),[KF,GF]=HF(ol),YN=v.forwardRef((e,t)=>a.jsx(Mp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Mp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(YF,{...e,ref:t})})}));YN.displayName=ol;var YF=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=e,y=v.useRef(null),w=$e(t,y),N=$u(l),[b,j]=ds({prop:c,defaultProp:d??null,onChange:f,caller:ol}),[C,E]=v.useState(!1),_=yt(h),P=KN(r),T=v.useRef(!1),[O,I]=v.useState(0);return v.useEffect(()=>{const B=y.current;if(B)return B.addEventListener($h,_),()=>B.removeEventListener($h,_)},[_]),a.jsx(KF,{scope:r,orientation:n,dir:N,loop:o,currentTabStopId:b,onItemFocus:v.useCallback(B=>j(B),[j]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>I(B=>B+1),[]),onFocusableItemRemove:v.useCallback(()=>I(B=>B-1),[]),children:a.jsx(be.div,{tabIndex:C||O===0?-1:0,"data-orientation":n,...g,ref:w,style:{outline:"none",...e.style},onMouseDown:xe(e.onMouseDown,()=>{T.current=!0}),onFocus:xe(e.onFocus,B=>{const V=!T.current;if(B.target===B.currentTarget&&V&&!C){const te=new CustomEvent($h,VF);if(B.currentTarget.dispatchEvent(te),!te.defaultPrevented){const ee=P().filter(U=>U.focusable),X=ee.find(U=>U.active),$=ee.find(U=>U.id===b),q=[X,$,...ee].filter(Boolean).map(U=>U.ref.current);XN(q,m)}}T.current=!1}),onBlur:xe(e.onBlur,()=>E(!1))})})}),QN="RovingFocusGroupItem",JN=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:l,children:c,...d}=e,f=Wt(),h=l||f,m=GF(QN,r),g=m.currentTabStopId===h,y=KN(r),{onFocusableItemAdd:w,onFocusableItemRemove:N,currentTabStopId:b}=m;return v.useEffect(()=>{if(n)return w(),()=>N()},[n,w,N]),a.jsx(Mp.ItemSlot,{scope:r,id:h,focusable:n,active:o,children:a.jsx(be.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:xe(e.onMouseDown,j=>{n?m.onItemFocus(h):j.preventDefault()}),onFocus:xe(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:xe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const C=XF(j,m.orientation,m.dir);if(C!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let _=y().filter(P=>P.focusable).map(P=>P.ref.current);if(C==="last")_.reverse();else if(C==="prev"||C==="next"){C==="prev"&&_.reverse();const P=_.indexOf(j.currentTarget);_=m.loop?ZF(_,P+1):_.slice(P+1)}setTimeout(()=>XN(_))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:b!=null}):c})})});JN.displayName=QN;var QF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XF(e,t,r){const n=JF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return QF[n]}function XN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ZF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var e5=YN,t5=JN,Yu="Tabs",[r5]=er(Yu,[GN]),ZN=GN(),[n5,Km]=r5(Yu),e_=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...h}=e,m=$u(d),[g,y]=ds({prop:n,onChange:o,defaultProp:l??"",caller:Yu});return a.jsx(n5,{scope:r,baseId:Wt(),value:g,onValueChange:y,orientation:c,dir:m,activationMode:f,children:a.jsx(be.div,{dir:m,"data-orientation":c,...h,ref:t})})});e_.displayName=Yu;var t_="TabsList",r_=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,l=Km(t_,r),c=ZN(r);return a.jsx(e5,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:a.jsx(be.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});r_.displayName=t_;var n_="TabsTrigger",s_=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...l}=e,c=Km(n_,r),d=ZN(r),f=a_(c.baseId,n),h=l_(c.baseId,n),m=n===c.value;return a.jsx(t5,{asChild:!0,...d,focusable:!o,active:m,children:a.jsx(be.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:xe(e.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:xe(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:xe(e.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!o&&g&&c.onValueChange(n)})})})});s_.displayName=n_;var o_="TabsContent",i_=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:l,...c}=e,d=Km(o_,r),f=a_(d.baseId,n),h=l_(d.baseId,n),m=n===d.value,g=v.useRef(m);return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),a.jsx(tr,{present:o||m,children:({present:y})=>a.jsx(be.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!y,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:y&&l})})});i_.displayName=o_;function a_(e,t){return`${e}-trigger-${t}`}function l_(e,t){return`${e}-content-${t}`}var s5=e_,c_=r_,u_=s_,d_=i_;const o5=s5,f_=v.forwardRef(({className:e,...t},r)=>a.jsx(c_,{ref:r,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));f_.displayName=c_.displayName;const Lp=v.forwardRef(({className:e,...t},r)=>a.jsx(u_,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Lp.displayName=u_.displayName;const Fp=v.forwardRef(({className:e,...t},r)=>a.jsx(d_,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fp.displayName=d_.displayName;const i5=()=>{const{user:e,signIn:t,signUp:r,loading:n}=hn(),{toast:o}=ft(),[l,c]=v.useState(!1),[d,f]=v.useState(null);if(!n&&e)return a.jsx(Hb,{to:"/",replace:!0});const h=async g=>{g.preventDefault(),c(!0),f(null);const y=new FormData(g.currentTarget),w=y.get("email"),N=y.get("password"),{error:b}=await t(w,N);b?(f(b.message),o({variant:"destructive",title:"Sign in failed",description:b.message})):o({title:"Welcome back!",description:"You have successfully signed in."}),c(!1)},m=async g=>{g.preventDefault(),c(!0),f(null);const y=new FormData(g.currentTarget),w=y.get("email"),N=y.get("password"),b=y.get("displayName"),{error:j}=await r(w,N,b);j?(f(j.message),o({variant:"destructive",title:"Sign up failed",description:j.message})):o({title:"Account created!",description:"Please check your email to verify your account."}),c(!1)};return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/20 to-muted/40",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-muted/40",children:[a.jsx("header",{className:"border-b bg-card/80 backdrop-blur-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex items-center h-16",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"w-8 h-8"}),a.jsx("h1",{className:"font-bold text-xl",children:"Tampa APP"})]})})})}),a.jsx("div",{className:"flex items-center justify-center py-20 px-4",children:a.jsxs(ze,{className:"w-full max-w-md shadow-card",children:[a.jsxs(tt,{className:"text-center space-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-lg flex items-center justify-center mx-auto",children:a.jsx(mu,{className:"w-8 h-8 text-primary-foreground"})}),a.jsx(ct,{className:"text-2xl",children:"Welcome to Tampa APP"}),a.jsx(Ru,{children:"Sign in to your account or create a new one to get started"})]}),a.jsx(We,{children:a.jsxs(o5,{defaultValue:"signin",className:"space-y-4",children:[a.jsxs(f_,{className:"grid w-full grid-cols-2",children:[a.jsx(Lp,{value:"signin",children:"Sign In"}),a.jsx(Lp,{value:"signup",children:"Sign Up"})]}),d&&a.jsxs(zm,{variant:"destructive",children:[a.jsx(Pn,{className:"h-4 w-4"}),a.jsx(Wm,{children:d})]}),a.jsx(Fp,{value:"signin",className:"space-y-4",children:a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"signin-email",children:"Email"}),a.jsx(Fe,{id:"signin-email",name:"email",type:"email",placeholder:"Enter your email",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"signin-password",children:"Password"}),a.jsx(Fe,{id:"signin-password",name:"password",type:"password",placeholder:"Enter your password",required:!0})]}),a.jsx(pe,{type:"submit",className:"w-full",disabled:l,children:l?"Signing in...":"Sign In"})]})}),a.jsx(Fp,{value:"signup",className:"space-y-4",children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"signup-name",children:"Display Name"}),a.jsx(Fe,{id:"signup-name",name:"displayName",type:"text",placeholder:"Enter your name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"signup-email",children:"Email"}),a.jsx(Fe,{id:"signup-email",name:"email",type:"email",placeholder:"Enter your email",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"signup-password",children:"Password"}),a.jsx(Fe,{id:"signup-password",name:"password",type:"password",placeholder:"Create a password",required:!0,minLength:6})]}),a.jsx(pe,{type:"submit",className:"w-full",disabled:l,children:l?"Creating account...":"Create Account"})]})})]})})]})})]})},a5=()=>{const e=tl();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function l5(){const[e,t]=v.useState([]),[r,n]=v.useState(null),[o,l]=v.useState([]),[c,d]=v.useState(new Set),[f,h]=v.useState(!0),{toast:m}=ft();v.useEffect(()=>{g()},[]),v.useEffect(()=>{r&&y(r)},[r]);const g=async()=>{try{const{data:b,error:j}=await he.from("daily_routines").select("*").eq("is_active",!0).order("name");if(j)throw j;t(b||[])}catch(b){console.error("Error fetching routines:",b),m({title:"Error",description:"Failed to load routines",variant:"destructive"})}finally{h(!1)}},y=async b=>{try{const{data:j,error:C}=await he.from("routine_tasks").select("*").eq("routine_id",b).order("task_order");if(C)throw C;l(j||[]),d(new Set)}catch(j){console.error("Error fetching tasks:",j),m({title:"Error",description:"Failed to load tasks",variant:"destructive"})}},w=b=>{const j=new Set(c);j.has(b)?j.delete(b):j.add(b),d(j)},N=async()=>{if(r)try{const{data:{user:b}}=await he.auth.getUser();if(!b)throw new Error("Not authenticated");const j=o.map(E=>({task_id:E.id,completed:c.has(E.id)})),{error:C}=await he.from("routine_completions").insert({routine_id:r,completed_by:b.id,task_statuses:j});if(C)throw C;m({title:"Success",description:"Routine completed successfully"}),n(null),d(new Set)}catch(b){console.error("Error completing routine:",b),m({title:"Error",description:"Failed to complete routine",variant:"destructive"})}};return f?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{children:"Loading..."})}):a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h1",{className:"text-3xl font-bold",children:"Daily Routines"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Routines"}),a.jsx("div",{className:"space-y-3",children:e.map(b=>a.jsxs(ze,{className:`cursor-pointer transition-colors ${r===b.id?"border-primary":""}`,onClick:()=>n(b.id),children:[a.jsxs(tt,{children:[a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(to,{className:"h-5 w-5"}),b.name]}),a.jsx(Ru,{children:b.description})]}),a.jsx(We,{children:a.jsx("span",{className:"text-sm text-muted-foreground",children:b.frequency})})]},b.id))})]}),a.jsx("div",{children:r&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tasks"}),a.jsx(ze,{children:a.jsxs(We,{className:"pt-6",children:[a.jsx("div",{className:"space-y-4",children:o.map(b=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Vu,{id:b.id,checked:c.has(b.id),onCheckedChange:()=>w(b.id)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:b.id,className:`font-medium cursor-pointer ${c.has(b.id)?"line-through text-muted-foreground":""}`,children:b.task_name}),b.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.description})]})]},b.id))}),a.jsxs(pe,{onClick:N,className:"w-full mt-6",disabled:c.size===0,children:[a.jsx(Mw,{className:"mr-2 h-4 w-4"}),"Complete Routine"]})]})})]})})]})]})}function c5(){const[e,t]=v.useState([]),[r,n]=v.useState(new Map),[o,l]=v.useState(!0),{toast:c}=ft();v.useEffect(()=>{d()},[]);const d=async()=>{try{const[h,m]=await Promise.all([he.from("training_courses").select("*").eq("is_published",!0).order("title"),he.from("training_enrollments").select("*")]);if(h.error)throw h.error;if(m.error)throw m.error;t(h.data||[]);const g=new Map;(m.data||[]).forEach(y=>{g.set(y.course_id,y)}),n(g)}catch(h){console.error("Error fetching data:",h),c({title:"Error",description:"Failed to load training courses",variant:"destructive"})}finally{l(!1)}},f=async h=>{try{const{data:{user:m}}=await he.auth.getUser();if(!m)throw new Error("Not authenticated");const{error:g}=await he.from("training_enrollments").insert({course_id:h,user_id:m.id});if(g)throw g;c({title:"Success",description:"Enrolled in course successfully"}),d()}catch(m){console.error("Error enrolling:",m),c({title:"Error",description:"Failed to enroll in course",variant:"destructive"})}};return o?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{children:"Loading..."})}):a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h1",{className:"text-3xl font-bold",children:"Training Courses"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(h=>{const m=r.get(h.id),g=!!m,y=m?.completed_at;return a.jsxs(ze,{children:[a.jsxs(tt,{children:[a.jsxs(ct,{className:"flex items-center gap-2",children:[a.jsx(p2,{className:"h-5 w-5"}),h.title]}),a.jsx(Ru,{children:h.description})]}),a.jsxs(We,{children:[h.duration_minutes&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Duration: ",h.duration_minutes," minutes"]}),g?a.jsxs(a.Fragment,{children:[a.jsx(iu,{value:m.progress||0,className:"mb-4"}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Progress: ",m.progress||0,"%"]}),a.jsx(pe,{className:"w-full",variant:y?"outline":"default",children:y?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),"Completed"]}):a.jsxs(a.Fragment,{children:[a.jsx(Hh,{className:"mr-2 h-4 w-4"}),"Continue"]})})]}):a.jsx(pe,{onClick:()=>f(h.id),className:"w-full",children:"Enroll Now"})]})]},h.id)})})]})}function u5(){const[e,t]=v.useState([]),[r,n]=v.useState(new Map),[o,l]=v.useState(new Map),[c,d]=v.useState(new Map),[f,h]=v.useState(!0),{isAdmin:m,isManager:g}=Di(),{toast:y}=ft();v.useEffect(()=>{w()},[]);const w=async()=>{try{const[N,b,j,C]=await Promise.all([he.from("profiles").select("user_id, display_name, position, phone, hire_date, department_id").order("display_name"),he.from("departments").select("*"),he.from("certifications").select("*"),m||g?he.from("user_roles").select("user_id, role"):Promise.resolve({data:[],error:null})]);if(N.error)throw N.error;if(b.error)throw b.error;if(j.error)throw j.error;t(N.data||[]);const E=new Map;(b.data||[]).forEach(T=>{E.set(T.id,T.name)}),l(E);const _=new Map;(j.data||[]).forEach(T=>{_.has(T.user_id)||_.set(T.user_id,[]),_.get(T.user_id).push(T)}),d(_);const P=new Map;C.data&&C.data.forEach(T=>{P.has(T.user_id)||P.set(T.user_id,[]),P.get(T.user_id).push(T.role)}),n(P)}catch(N){console.error("Error fetching data:",N),y({title:"Error",description:"Failed to load people data",variant:"destructive"})}finally{h(!1)}};return f?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{children:"Loading..."})}):a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(ro,{className:"h-8 w-8"}),"People"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(N=>{const b=c.get(N.user_id)||[],j=r.get(N.user_id)||[],C=N.display_name?.split(" ").map(E=>E[0]).join("").toUpperCase()||"?";return a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(qm,{className:"h-12 w-12",children:a.jsx(Hm,{children:C})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ct,{children:N.display_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:N.position})]})]})}),a.jsx(We,{children:a.jsxs("div",{className:"space-y-3",children:[N.phone&&(m||g)&&a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",N.phone]}),N.department_id&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m2,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:o.get(N.department_id)})]}),j.length>0&&(m||g)&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:[a.jsx(yu,{className:"h-4 w-4"}),"Roles"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:j.map((E,_)=>a.jsx(Qe,{variant:"secondary",children:E},_))})]}),b.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(h2,{className:"h-4 w-4"}),"Certifications"]}),a.jsx("div",{className:"space-y-1",children:b.map(E=>a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:E.name}),a.jsxs("p",{className:"text-muted-foreground text-xs",children:[E.issuer,E.expiry_date&&`  Expires ${new Date(E.expiry_date).toLocaleDateString()}`]})]},E.id))})]})]})})]},N.user_id)})})]})}function d5(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),{toast:o}=ft();v.useEffect(()=>{l(),c()},[]);const l=async()=>{try{const{data:g,error:y}=await he.from("notifications").select("*").order("created_at",{ascending:!1});if(y)throw y;t(g||[])}catch(g){console.error("Error fetching notifications:",g),o({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{n(!1)}},c=()=>{const g=he.channel("notifications-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},y=>{t(w=>[y.new,...w]),o({title:y.new.title,description:y.new.message})}).subscribe();return()=>{he.removeChannel(g)}},d=async g=>{try{const{error:y}=await he.from("notifications").update({is_read:!0}).eq("id",g);if(y)throw y;t(w=>w.map(N=>N.id===g?{...N,is_read:!0}:N))}catch(y){console.error("Error marking notification as read:",y)}},f=async()=>{try{const{error:g}=await he.from("notifications").update({is_read:!0}).eq("is_read",!1);if(g)throw g;t(y=>y.map(w=>({...w,is_read:!0}))),o({title:"Success",description:"All notifications marked as read"})}catch(g){console.error("Error marking all as read:",g),o({title:"Error",description:"Failed to mark all as read",variant:"destructive"})}},h=g=>{switch(g){case"alert":return"destructive";case"warning":return"secondary";default:return"default"}};if(r)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{children:"Loading..."})});const m=e.filter(g=>!g.is_read).length;return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(qh,{className:"h-8 w-8"}),"Notifications",m>0&&a.jsxs(Qe,{variant:"destructive",className:"ml-2",children:[m," new"]})]}),m>0&&a.jsxs(pe,{onClick:f,variant:"outline",children:[a.jsx(g2,{className:"mr-2 h-4 w-4"}),"Mark all as read"]})]}),a.jsx("div",{className:"space-y-3",children:e.length===0?a.jsx(ze,{children:a.jsxs(We,{className:"py-12 text-center",children:[a.jsx(qh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):e.map(g=>a.jsxs(ze,{className:`cursor-pointer transition-colors ${g.is_read?"":"border-primary bg-primary/5"}`,onClick:()=>!g.is_read&&d(g.id),children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold",children:g.title}),a.jsx(Qe,{variant:h(g.type),className:"text-xs",children:g.type})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:g.message})]}),!g.is_read&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary ml-4 mt-2"})]})}),a.jsx(We,{children:a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(g.created_at).toLocaleString()})})]},g.id))})]})}function Bh({className:e,...t}){return a.jsx("div",{className:de("animate-pulse rounded-md bg-muted",e),...t})}const Fc=e=>{const t=new Date,r=new Date(e),n=Math.floor((r.getTime()-t.getTime())/(1e3*60*60));return n<0?{status:"expired",hoursUntilExpiry:n,message:`Expired ${Math.abs(n)}h ago`}:n<=24?{status:"warning",hoursUntilExpiry:n,message:`${n}h left`}:{status:"good",hoursUntilExpiry:n,message:`${Math.floor(n/24)}d left`}},f5=e=>{switch(e){case"expired":return"bg-destructive/10 border-destructive";case"warning":return"bg-warning/10 border-warning";case"good":return"bg-success/10 border-success"}},h5=e=>{switch(e){case"expired":return a.jsx(Vp,{className:"w-5 h-5 text-destructive"});case"warning":return a.jsx(Dt,{className:"w-5 h-5 text-warning"});case"good":return a.jsx(kn,{className:"w-5 h-5 text-success"})}},p5=e=>{switch(e){case"expired":return"destructive";case"warning":return"secondary";case"good":return"outline"}};function m5(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),{toast:o}=ft(),l=async()=>{try{const{data:d,error:f}=await he.from("prepared_items").select(`
          *,
          recipes (
            name,
            category
          )
        `).order("expires_at",{ascending:!0});if(f){console.error("Error fetching prepared items:",f),o({title:"Error",description:"Failed to fetch prepared items",variant:"destructive"});return}t(d||[])}catch(d){console.error("Error:",d),o({title:"Error",description:"Failed to fetch prepared items",variant:"destructive"})}finally{n(!1)}};if(v.useEffect(()=>{l();const d=he.channel("prepared_items_changes").on("postgres_changes",{event:"*",schema:"public",table:"prepared_items"},()=>{l()}).subscribe();return()=>{he.removeChannel(d)}},[]),r)return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Product Traffic Light"}),a.jsx("p",{className:"text-muted-foreground",children:"Monitor all products by expiration status"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((d,f)=>a.jsxs(ze,{children:[a.jsx(tt,{children:a.jsx(Bh,{className:"h-6 w-3/4"})}),a.jsxs(We,{children:[a.jsx(Bh,{className:"h-4 w-1/2 mb-2"}),a.jsx(Bh,{className:"h-4 w-full"})]})]},f))})]});const c={expired:e.filter(d=>Fc(d.expires_at).status==="expired").length,warning:e.filter(d=>Fc(d.expires_at).status==="warning").length,good:e.filter(d=>Fc(d.expires_at).status==="good").length};return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Product Traffic Light"}),a.jsx("p",{className:"text-muted-foreground",children:"Monitor all products by expiration status"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(ze,{className:"border-destructive/50",children:a.jsx(We,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),a.jsx("p",{className:"text-3xl font-bold text-destructive",children:c.expired})]}),a.jsx(Vp,{className:"w-8 h-8 text-destructive"})]})})}),a.jsx(ze,{className:"border-warning/50",children:a.jsx(We,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"}),a.jsx("p",{className:"text-3xl font-bold text-warning",children:c.warning})]}),a.jsx(Dt,{className:"w-8 h-8 text-warning"})]})})}),a.jsx(ze,{className:"border-success/50",children:a.jsx(We,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fresh"}),a.jsx("p",{className:"text-3xl font-bold text-success",children:c.good})]}),a.jsx(kn,{className:"w-8 h-8 text-success"})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(d=>{const f=Fc(d.expires_at),h=new Date(d.expires_at),m=new Date(d.prepared_at);return a.jsxs(ze,{className:`border-2 transition-all hover:shadow-lg ${f5(f.status)}`,children:[a.jsx(tt,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(ct,{className:"text-base line-clamp-2",children:d.recipes?.name||"Unknown Product"}),h5(f.status)]})}),a.jsxs(We,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Qe,{variant:p5(f.status),className:"mb-2",children:f.status.toUpperCase()}),a.jsx("p",{className:"text-sm font-medium",children:f.message})]}),a.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Cn,{className:"w-3 h-3"}),a.jsxs("span",{children:["Expires: ",h.toLocaleDateString()," ",h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),a.jsxs("div",{children:["Prepared: ",m.toLocaleDateString()]}),d.recipes?.category&&a.jsxs("div",{className:"capitalize",children:["Category: ",d.recipes.category]}),a.jsxs("div",{children:["Batch: ",d.batch_size||1]})]})]})]},d.id)})}),e.length===0&&a.jsx(ze,{children:a.jsx(We,{className:"py-12 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No prepared items found"})})})]})}const g5=new sR,v5=()=>a.jsx(iR,{client:g5,children:a.jsx(AI,{children:a.jsxs(RT,{children:[a.jsx(mk,{}),a.jsx(Kk,{}),a.jsx(nA,{children:a.jsxs(eA,{children:[a.jsx(Ut,{path:"/welcome",element:a.jsx(WF,{})}),a.jsx(Ut,{path:"/auth",element:a.jsx(i5,{})}),a.jsxs(Ut,{path:"/",element:a.jsx(DI,{children:a.jsx(II,{})}),children:[a.jsx(Ut,{index:!0,element:a.jsx(XM,{})}),a.jsx(Ut,{path:"recipes",element:a.jsx(HL,{})}),a.jsx(Ut,{path:"labeling",element:a.jsx(IF,{})}),a.jsx(Ut,{path:"inventory",element:a.jsx(LF,{})}),a.jsx(Ut,{path:"routines",element:a.jsx(l5,{})}),a.jsx(Ut,{path:"training",element:a.jsx(c5,{})}),a.jsx(Ut,{path:"people",element:a.jsx(u5,{})}),a.jsx(Ut,{path:"notifications",element:a.jsx(d5,{})}),a.jsx(Ut,{path:"analytics",element:a.jsx(BF,{})}),a.jsx(Ut,{path:"traffic-light",element:a.jsx(m5,{})})]}),a.jsx(Ut,{path:"*",element:a.jsx(a5,{})})]})}),a.jsx(HI,{}),a.jsx(qI,{})]})})});pC.createRoot(document.getElementById("root")).render(a.jsx(v5,{}));
